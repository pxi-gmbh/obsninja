<<<<<<< HEAD
/*
*  Copyright (c) 2020 Steve Seguin. All Rights Reserved.
*
*  Use of this source code is governed by the APGLv3 open-source license
*  that can be found in the LICENSE file in the root of the source
*  tree. Alternative licencing options can be made available on request.
*
*/

var WebRTC = {}; 
function log(msg){
	console.log(msg);
	//console.re.log(msg);
}
function errorlog(msg, url=false, lineNumber=false){

	console.error(msg);
	//console.re.error(msg);
	if (lineNumber){
	//	console.re.error(lineNumber);
		console.error(lineNumber);
	}
}
function isAlphaNumeric(str) {
	var code, i, len;

	for (i = 0, len = str.length; i < len; i++) {
		code = str.charCodeAt(i);
		if (!(code > 47 && code < 58) && // numeric (0-9)
			!(code > 64 && code < 91) && // upper alpha (A-Z)
			!(code > 96 && code < 123)) { // lower alpha (a-z)
			return false;
		}
	}
	return true;
}
window.onerror = function backupErr(errorMsg, url, lineNumber) {
	errorlog(errorMsg);
	errorlog(lineNumber);
	errorlog("Unhandeled Error occured"); //or any message
	return false;
};

WebRTC.Media = (function(){
	var session = {};

	function onSuccess(){}
	function onError(err){errorlog(err);}
	function defer(){
		var res, rej;
		var promise = new Promise((resolve, reject) => {
			res = resolve;
			rej = reject;
		});
		promise.resolve = res;
		promise.reject = rej;
		return promise;
	}

	session.configuration = 
		{iceServers: [
		{ urls: ["stun:stun.l.google.com:19302", "stun:stun4.l.google.com:19302" ]},
		{ urls: ["stun:stun.stunprotocol.org:3478"]}
		]};
	//var turn = {};
	//turn.username = "steve";
	//turn.credential = "justtesting";
	//turn.urls = ["turn:turn.obs.ninja:443"];
	//session.configuration.iceServers.push(turn);
	log(session.configuration);
    
	session.bitrate = false; // 20000;
	session.buffer = false;
	session.codec = false ; // "vp9" //"h264"; // Setting the default codec to VP9?  ugh. Seems stable, but high CPU.
	session.counter=0; // this keeps track of messages sent. Lets the listener know if he missed any signed messages. security aspect.
	session.director = false;
	session.enc = new TextEncoder("utf-8");
	session.framerate = false;
	session.height=false;
	session.infocus = false;
	session.keys = {}; // security signing stuff
	session.maxframerate = false;
	session.msg = null;
	session.muted = false;
	session.mykey = {};
	session.nocursor = false;
	session.pcs = {};
	session.remote = false;
	session.roomid = false;
	session.rpcs = {};
	session.scene = false;
	session.screenshare = false;
	session.security = false;
	session.sink  = false;
	session.stereo = false; // both peers need to have this enabled for it to work.
	session.streamID = null; // This computer has its own streamID; this implies it can only publish 1 stream per session.
	session.streamSrc = null; // location of this computer's stream, if there is one
	session.sync = false;
	session.videoElement = false;
	session.view = false;
	session.volume = 100; // state of volume.
	session.width=false;

	//this._peerConnection.getReceivers().forEach(element => element.playoutDelayHint = 0.05);
	
	session.generateStreamID = function(){
		var text = "";
		var possible = "ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789";
		for (var i = 0; i < 7; i++){
			text += possible.charAt(Math.floor(Math.random() * possible.length));
		}
		log(text);
		return text;
	};

	session.changeStreamID = function(permaid){
		permaid = permaid.replace(/[^0-9a-zA-Z]/gi, '');
		if (permaid.length < 1){
			alert("permaid URL parameter should be at least 7 alphanumeric characters long");			          
		} else if  (permaid.length > 25){
			alert("permaid URL parameter should be less than 21 alphanumeric characters long");
		} else {
			session.streamID = permaid;
		}
	};

	session.generateCrypto = function(){
		window.crypto.subtle.generateKey({
			name: "RSASSA-PKCS1-v1_5",
			modulusLength: 512, //can be 1024, 2048, or 4096 -- also apparently 512!
			publicExponent: new Uint8Array([0x01, 0x00, 0x01]),
			hash: {name: "SHA-1"}, //can be "SHA-1", "SHA-256", "SHA-384", or "SHA-512"
		},
			true, //whether the key is extractable (i.e. can be used in exportKey)
			["sign", "verify"] //can be any combination of "sign" and "verify"
		).then(function(key){
			log(key.publicKey);
			log(key.privateKey);
			session.mykey = key;

			window.crypto.subtle.exportKey(
				"jwk", //can be "jwk" (public or private), "spki" (public only), or "pkcs8" (private only)
				key.publicKey //can be a publicKey or privateKey, as long as extractable was true
			).then(function(keydata){
				//returns the exported key data
				log(keydata);
				var data = {};
				data.request = "storekey";
				data.key = keydata.n;
				session.sendMsg(data);
				//log(JSON.stringify(data));
				//session.signData("asdfasdfasdf");
			}).catch(function(err){
				errorlog(err);
			});
		})
			.catch(function(err){
				errorlog(err);
			});
	};

	session.importCrypto = function(n,streamID){
		window.crypto.subtle.importKey(
			"jwk", //can be "jwk" (public or private), "spki" (public only), or "pkcs8" (private only)
			{   //this is an example jwk key, other key types are Uint8Array objects
				kty: "RSA",
				e: "AQAB",
				n: n,
				alg: "RS1",
				ext: true,
			},
			{   //these are the algorithm options
				name: "RSASSA-PKCS1-v1_5",
				hash: {name: "SHA-1"}, //can be "SHA-1", "SHA-256", "SHA-384", or "SHA-512"
			},
			true, //whether the key is extractable (i.e. can be used in exportKey)
			["verify"] //"verify" for public key import, "sign" for private key imports
		).then(function(publicKey){
			//returns a publicKey (or privateKey if you are importing a private key)
			log(publicKey);
			session.keys[streamID] = {};
			session.keys[streamID].publicKey = publicKey;
			session.keys[streamID].privateKey = null;
		}).catch(function(err){
			errorlog(err);
		});

	};
	
	session.requestRateLimit = function(bandwidth, UUID){
		log("request rate limit: "+bandwidth);
		
		if (session.rpcs[UUID].manualBandwidth!==false){ // override the bandwidth; false is off
			if (session.rpcs[UUID].manualBandwidth == bandwidth){return;}
			session.rpcs[UUID].targetBandwidth=session.rpcs[UUID].manualBandwidth;
		} else if (bandwidth==false){
			// Just retry setting it.
			if (session.rpcs[UUID].targetBandwidth==session.rpcs[UUID].bandwidth){
				return;
			}
		} else {
			session.rpcs[UUID].targetBandwidth=bandwidth;
		}

		bandwidth = parseInt(session.rpcs[UUID].targetBandwidth);
		if (session.rpcs[UUID].bandwidth==bandwidth){return;}
		
		var msg = {};
		msg.bitrate = bandwidth;
		log(msg);
		
		if (session.sendRequest(msg,UUID)){
			session.rpcs[UUID].bandwidth=bandwidth;
		} else {
			setTimeout(function(){session.requestRateLimit(false, UUID);},5000); // just try re-setting it if it didn't work
			errorlog("couldn't set rate limit");
		}
	};
	
	session.requestZoomChange = function(zoom, UUID, passwd = session.remote){
		log("request zoom change: "+zoom);
		
		var msg = {};
		msg.zoom = zoom;
		msg.remote = passwd;
		
		if (session.sendRequest(msg,UUID)){
			log('zoom success');
		} else {
			errorlog("failed to send zoom change request");
		}
	};
	
	session.requestFocusChange = function(focal, UUID, passwd = session.remote){
		log("request focus change: "+focal);
		
		var msg = {};
		msg.focus = focal;
		msg.remote = passwd;
		
		if (session.sendRequest(msg,UUID)){
			log('focus success');
		} else {
			errorlog("failed to send focus change request");
		}
	};
	
	session.limitBitrate = function(UUID, bandwidth){ 
		// In Chrome, use RTCRtpSender.setParameters to change bandwidth without
		// (local) renegotiation. Note that this will be within the envelope of
		// the initial maximum bandwidth negotiated via SDP.
		bandwidth = parseInt(bandwidth);
		try{
			if ((adapter.browserDetails.browser === 'chrome' ||
				adapter.browserDetails.browser === 'safari' ||
				(adapter.browserDetails.browser === 'firefox' &&
				adapter.browserDetails.version >= 64)) && 'RTCRtpSender' in window && 'setParameters' in window.RTCRtpSender.prototype){
					
					var sender = session.pcs[UUID].getSenders().find(function(s) {return s.track.kind == "video";});
					
					log(sender);
					if (!sender){
						errorlog("can't change bitrate; no video sender found");
						return;
					}
					
					var parameters = sender.getParameters();
					if (!parameters.encodings){
						parameters.encodings = [{}];
					}
					log(parameters.encodings);
					log("parameters");
					if (bandwidth < 0) {
						delete parameters.encodings[0].maxBitrate;
					} else {
						parameters.encodings[0].maxBitrate = bandwidth * 1000;
					}
					sender.setParameters(parameters).then(() => {
						  log("bandwidth set!");
						  log(sender.getParameters());
					}).catch(e => errorlog(e));
					return;
					
			}
		} catch(e){errorlog(e);}
	};
	
	function changeAudioOutputDevice(ele) {
		if (session.sink){
			navigator.mediaDevices.getUserMedia({audio:true,video:false}).then(function (stream){
				if (typeof ele.sinkId !== 'undefined'){
					ele.setSinkId(session.sink).then(() => {
						log("New Output Device:"+session.sink);
					}).catch(error => {
						errorlog(error);
						alert("Failed to change audio output destination.");
						// audioOutputSelect.selectedIndex = 0; // Jump back to first output device in the list as it's the default.
					});
				} else {
					alert("Your browser does not support alternative audio sources.");
				}
				stream.getTracks().forEach(track => {
					track.stop();
				});
			}).catch(function(){alert("Can't play out to specific audio device without mic permissions allowed");});
		}
	}
	
	function extractSdp(sdpLine, pattern) {
		var result = sdpLine.match(pattern);
		return (result && result.length == 2)? result[1]: null;
	}
	function unlockBitrate(sdp, kbps=10000, screenshare=false){
		kbps = parseInt(kbps);
		if (kbps<50){kbps=50;}
		var bandwidth = {
			screen: 300, // 300kbits minimum
			audio: 50, // 50kbits  minimum
			video: kbps // 256kbits (both min-max)
		};
		// https://cdn.webrtc-experiment.com/CodecsHandler.js	
	//	sdp = CodecsHandler.preferCodec(sdp, 'h264');
		sdp = CodecsHandler.setApplicationSpecificBandwidth(sdp, bandwidth, screenshare);
		sdp = CodecsHandler.setVideoBitrates(sdp, {
			min: bandwidth.video,
			max: bandwidth.video
		});
		//sdp = BandwidthHandler.setOpusAttributes(sdp);
		
		//sdp = sdp.replace(/a=mid:(.*)\r\n/g, 'a=mid:$1\r\nb=AS:' + bandwidth + '\r\n');   // vp9? 
		
		return sdp;
	}

	session.signData = function(data,callback){ // data as string
		log(data);
		if (session.mykey === {}){
			log("Generate Some Crypto keys first");
		}
		window.crypto.subtle.sign(
			{
				name: "RSASSA-PKCS1-v1_5",
			},
			session.mykey.privateKey, //from generateKey or importKey above
			session.enc.encode(data) //ArrayBuffer of data you want to sign
		).then(function(signature){
			//returns an ArrayBuffer containing the signature
			signature = new Uint8Array(signature);
			signature = signature.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');
			//signature = new Uint8Array(signature.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));
			//log(signature);
			callback(data,signature);
			log(JSON.stringify(signature));
		}).catch(function(err){
			errorlog(err);
		});
	};

	session.verifyData = function(data,streamID){
		data.signature = new Uint8Array(data.signature.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));
		if (session.keys[streamID].publicKey){
			return window.crypto.subtle.verify({
				name: "RSASSA-PKCS1-v1_5",
			},
				session.keys[streamID].publicKey, //from generateKey or importKey above
				data.signature, //ArrayBuffer of the signature
				session.enc.encode(data.data) //ArrayBuffer of the data
			).then(function(isvalid){
				//returns a boolean on whether the signature is true or not
				log(isvalid);
				return isvalid;
			}).catch(function(err){
				errorlog(err);
				return false;
				//alert("Could not validate inbound connection");
			});
		}
	};

	session.changeTitle = function(title){
		var data = {};
		data.request = "changeTitle";
		data.title = title;
		session.sendMsg(data);
	};


	session.watchStream = function(streamID){
		//session.streamID = streamID; //  we won't remember what we asked for, but this keeps it simple 
		var data = {};
		data.request = "play";
		data.streamID = streamID;
		session.sendMsg(data);
	};

	session.debug = function(){
		var data = {};
		data.request = "debug123";
		session.sendMsg(data);
	};

	session.joinRoom = function(roomid,maxbitrate){
		var data = {};
		data.request = "joinroom";
		data.roomid = roomid;
		session.sendMsg(data);
		if (session.bitrate==false){
			session.bitrate = maxbitrate; // allow users to override, but otherwise limit it
		}
		session.listPromise = defer();
		return session.listPromise;
	};

	session.retryTimer = null; 
	session.ws=null;

	session.connect = function(reconnect=false){
		if (session.ws != null){return;}
		session.ws = new WebSocket("wss://api.obs.ninja:7443");

		session.sendMsg = function(msg){
			log("sending message");
			if (session.ws.readyState !== 1){session.msg = msg;} // store the last message to be sent if websocket is not ready. 
			else {
        session.msg=null;
        session.ws.send(JSON.stringify(msg));
      }
		};

		session.ws.onopen = function(){
			if (session.retryTimer!=null){
				clearInterval(session.retryTimer);
				session.retryTimer=null;
			}

			log("connected to video server");
			if (session.msg!==null){  // send the last store message that was in queue to be sent when ws was closed.  sending 1 message is better than none, and I don't want to spam the server with hundreds. so this is a balance.
				session.ws.send(JSON.stringify(session.msg));
				session.msg = null;
			}
			if (reconnect==true){
				if (session.streamID){
					var data = {};
					data.request = "seed";
					//data.title = title;
					data.streamID = session.streamID;
					session.sendMsg(data);
				}
			}
		};

		session.ws.onmessage = function (evt) {
			var msg = JSON.parse(evt.data);
			if (msg.request){ // ACTIONS THAT ARE OUTSIDE THE SCOPE OF BASIC WEBRTC
				if (msg.request=="offerSDP"){  // newly connected client is asking for your SDP offer
					
					if (session.security){
						if (Object.keys(session.pcs).length>0){
							
							//var r = confirm("Press a button!");
							//if (r == true) {
							//  txt = "You pressed OK!";
							//} else {
							//  txt = "You pressed Cancel!";
							//} 
							setTimeout(function() {alert("Security mode is enabled, yet a second connection request was recieved. It may be valid, but we will deny it out of extreme caution."); }, 1);
							return;
						}
						
					}
				
					session.offerSDP(session.streamSrc, msg.UUID);
				} else if (msg.request=="listing"){ // Get a list of streams you have access to
					log(msg.list);
					session.listPromise.resolve(msg.list);
				} else if (msg.request=="genkey"){ // prevents spoofing ; more for future work 
					session.generateCrypto();
				} else if (msg.request=="publickey"){ // prevents spoofing
					session.importCrypto(msg.key, msg.streamID);
				} else if (msg.request=="sendroom"){ // send a message to those in the group via server. p2p is probably the preferred method, but not always possible
					log("Inbound User-based Message from Room");
					try {
						if ("director" in msg){
							if (msg.director === session.scene){
								if ("action" in msg){
									if ("target" in msg){
										for (var i in session.rpcs){ // If you are VIEWING this use
											if (i === msg.target){
												if ("value" in msg){
													if (msg.action == "mute"){	
														if (msg.value == 0){
															log("Mute video -306");
															
															if (session.rpcs[i].videoElement){
																session.rpcs[i].videoElement.muted = true;
																session.rpcs[i].director = 0;
															}
														} else {
															log("Unmute video");
															if (session.rpcs[i].videoElement){
																session.rpcs[i].director = 1;
																if (session.rpcs[i].publisher!==false){
																	if (session.rpcs[i].publisher == 0){
																		log("did not mute");
																		return;} // if the publisher wants it muted. it says muted
																}
																session.rpcs[i].videoElement.muted = false;
															}
														}
													}  else if (msg.action == "display"){
														if (msg.value == 0) { 
															if (session.rpcs[i].videoElement){
																session.rpcs[i].videoElement.style.display="none";
																///  I can probably just go thru the RPCS[] list, using UUID, and say "visible" or not. Use Update on that instead.
																// I won't need to update the lement directly , just the update function.
															}
															updateMixer();
														} else { 
															if (session.rpcs[i].videoElement){
																session.rpcs[i].videoElement.style.display="block";
															
																if (session.rpcs[i].videoElement===false){
																	session.rpcs[i].director = 1;
																}
																if (session.rpcs[i].director){
																	if (session.rpcs[i].publisher!==false){
																		if (session.rpcs[i].publisher == 0){return;}
																			
																		session.rpcs[i].videoElement.muted=false;
																		log("UN-MUTED");
																	

																	}	
																}
															}
															updateMixer();
														}
													} else if (msg.action == "volume"){
														log(parseInt(msg.value)/100.0);
														if (session.rpcs[i].videoElement){
															session.rpcs[i].videoElement.volume=parseInt(msg.value)/100.0;
															log("UN-MUTED");
														}
													}
												}
											}
										}

									}
								}
							}
						}
					} catch(e){
                         errorlog(e);
				    }


					log(msg);
				} else if (msg.request=="someonejoined"){ // someone joined the room.  they may not have a video submitted: like the director.
					log("Someone Joined the Room");
					log(msg);
				} else if (msg.request=="videoaddedtoroom"){ // a video was added to the room
					log("Someone published a video to the Room");
					log(msg);
					if (session.view){
						var streamlist = session.view.split(",");
						for (var j in streamlist){
							if (msg.streamID === streamlist[j]){
								session.watchStream(msg.streamID);
							}
						}
					} else {
						session.watchStream(msg.streamID);
					}
				} else {
					log(msg);
				}


			} else if (msg.description){  // we don't get the STREAM ID back with this. That could be good from a privacy point of view -- no one in the group call will have Stream ID access for publishing?
				// For the sake of ease, I may just return the StreamID and revisit
				//log(msg.description);
				// var ttt=true;
				//if (msg.UUID in session.pcs)(ttt=false);
				if (msg.description.type=="offer"){
					session.setupIncoming(msg); // could end up setting up the peer the wrong way.
					session.connectPeer(msg);
				} else {
					session.pcs[msg.UUID].setRemoteDescription(msg.description).then(function(){
						log("PCS SET SDP");
						//try {
						//	if (session.roomid){
						//		session.limitBitrate(msg.UUID,40); // drop bitrate low.  May not be supported by iOS, which will need to fallback onto older methods?
						//	} else if (session.director){
						//		alert("test");
						///		session.limitBitrate(msg.UUID,40); // drop bitrate low.  May not be supported by iOS, which will need to fallback onto older methods?
						//	}
						//} catch(e){
						//	errorlog(e);
						//}
						
					}).catch(onError);

				}
			} else if (msg.candidate){
				log("GOT ICE!!");
				if ((msg.UUID in session.pcs) && (msg.type=="remote")){
					log("PCS WINS ICE");
					session.pcs[msg.UUID].addIceCandidate(msg.candidate).then(function(){log("added ICE from viewer");}).catch(function(e){
						//console.error("ICE ERROR");
						errorlog(e);
						errorlog(msg);
					}); // NOT SURE ABOUT THIS
				} else if ((msg.UUID in session.rpcs ) && (msg.type=="local")) {
					log("RPCS WINS ICE");
					session.rpcs[msg.UUID].addIceCandidate(msg.candidate).then(function(){log("added ICE from publisher");}).catch(function(e){
						//console.error("ICE ERROR");
						errorlog(e);
						errorlog(msg);
					}); // NOT SURE ABOUT THIS
				} else {
					errorlog("ICE DID NOT FIND A PC OPTION?");
				}
			} else if (msg.request == "cleanup"){  // If someone disconnects from Websockets, and doesn't reconnect, THEN we can discard their key or something?
				log("Clean up");
				if (msg.UUID in session.pcs){
					log("problem");
					session.pcs[msg.UUID].close();
					delete(session.pcs[msg.UUID]);
					// I'll have to figure out where to reconnect somewhere else
				}
				if (msg.UUID in session.rpcs){
					log("problem");
					session.rpcs[msg.UUID].close();
					delete(session.rpcs[msg.UUID]);
					// I'll have to figure out where to reconnect somewhere else
				}

			} else { log("what is this?",msg); }
		};
		session.ws.onclose = function(){
			errorlog("Connection to Control Server lost.\n\nAuto-reconnect is partially implemented");
			//session.retryTimer = setTimeout(function() {
			//	if (session.ws.readyState === WebSocket.CLOSED){
			//		session.ws=null;
			//		session.connect(true);
			//	}
			//}, 5550);
				
		};
	};


	// WEBCAM
	session.publishStream = function(stream, title="Stream Sharing Session"){ //  stream is used to generated an SDP
		log("STREAM SETUP");

		stream.oninactive = function() {
			errorlog('Stream inactive');
		};
		if (stream.getVideoTracks().length==0){
			errorlog("NO VIDEO TRACK INCLUDED");
		}

		if (stream.getAudioTracks().length==0){
			errorlog("NO AUDIO TRACK INCLUDED");
		}

		session.streamSrc=stream;
		var v = document.createElement("video");

		var container = document.createElement("div");
		container.id = "container";
		container.className = "vidcon";
		document.getElementById("gridlayout").appendChild(container);
		container.appendChild(v);

		v.className = "tile";
		
		if (session.director){
		} else if (session.scene){
			session.videoElement = v;
			updateMixer();
		} else if (session.roomid){
			session.videoElement = v;
			updateMixer();
		} else {
			
			v.style.boxShadow= "rgb(255, 255, 255) 0px 0px 115px 1px";
			
			v.style.maxWidth = "800px";
			v.style.maxHeight = "800px";
			
			v.style.width = "100%";
			v.style.maxHeight = "100%";
			
			v.style.display = "block";
			v.style.margin = "auto auto";
			container.style.width="100%"; 
			container.style.height="100%";
			container.style.display = "flex";
			container.style.alignItems = "center";
			container.backgroundColor = "#666";
			
			v.className = "";
			
			setTimeout(function(){dragElement(v);},1000);

		}


		v.autoplay = true;
		v.controls = true;
		v.muted = true;
		v.setAttribute("playsinline","");
		v.id = "videosource"; // could be set to UUID in the future
		
		try {
		    v.srcObject = session.streamSrc;
		} catch (e){errorlog(e);}
		
		try{
			var m = document.getElementById("mainmenu");
			m.remove();
		} catch (e){}
		
		var data = {};
		data.request = "seed";
		data.title = title;
		document.getElementById("reshare").value = "https://"+location.host+location.pathname+"?view="+session.streamID;
		data.streamID = session.streamID;
		session.sendMsg(data);
	};


	session.publishScreen = function(constraints, title="Screen Sharing Session", audioList=[]){ // webcam stream is used to generated an SDP
		log("SCREEN SHARE SETUP");
		if (!navigator.mediaDevices.getDisplayMedia){
			alert("Sorry, your browser is not supported. Please use the desktop versions of Firefox or Chrome instead");
			return;
		}
		var streams = [];
		for (var i=1; i<audioList.length;i++){
			if (audioList[i].selected){
				var constraint = {audio: {deviceId: {exact: audioList[i].value}}};
				navigator.mediaDevices.getUserMedia(constraint).then(function (stream){
					streams.push(stream);
				}).catch(errorlog);
			}
		}
		
		console.log(streams);
		navigator.mediaDevices.getDisplayMedia(constraints)
			.then(function (stream) {
				
				if (session.roomid){
					console.log("ROOMID EANBLKED");
					window.addEventListener("resize", updateMixer);
					joinRoom(session.roomid);
					document.getElementById("head3").className = 'advanced';
				} else {
					document.getElementById("head3").className = '';
				}
				updateURL("push="+session.streamID);
				
				
				session.screenshare = true;
				stream.oninactive = function(){
					log('Stream inactive');
				};
				console.log("adding tracks");
				for (var i=0; i<streams.length;i++){
					streams[i].getAudioTracks().forEach(function(track){
						stream.addTrack(track);
						console.log(track);
					});
				}
				streams = null;
				if (stream.getAudioTracks().length==0){
					alert("No Audio Source was detected.");
				}
				session.streamSrc=stream;
				var v = document.createElement("video");
				var container = document.createElement("div");
				container.id = "container";
				container.className = "vidcon";
				document.getElementById("gridlayout").appendChild(container);
				container.appendChild(v);
				

				v.className = "tile";
				
				if (session.director){
				} else if (session.scene){
					session.videoElement = v;
					updateMixer();
				} else if (session.roomid){
					session.videoElement = v;
					updateMixer();
				} else {
					v.style.boxShadow= "rgb(255, 255, 255) 0px 0px 115px 1px";
					
					v.style.maxWidth = "800px";
					v.style.maxHeight = "800px";
					
					v.style.width = "100%";
					v.style.maxHeight = "100%";
					
					v.style.display = "block";
					v.style.margin = "auto auto";
					container.style.width="100%"; 
					container.style.height="100%";
					container.style.display = "flex";
					container.style.alignItems = "center";
					container.backgroundColor = "#666";
					
					v.className = "";
				}

				v.autoplay = true;
				v.controls = true;
				v.setAttribute("playsinline","");
				v.muted = true;
				v.id = "videosource"; // could be set to UUID in the futur
				
				if (!v.srcObject || v.srcObject.id !== stream.id) {
					v.srcObject = stream;
				}
				try{
					var m = document.getElementById("mainmenu");
					m.remove();
				} catch (e){}

				//	stream.getTracks().forEach(track => track.play());

				var data = {};
				data.request = "seed";
				document.getElementById("reshare").value = "https://"+location.host+location.pathname+"?view="+session.streamID;
				data.streamID = session.streamID;
				data.title = title;
				session.sendMsg(data);
				
				
			}).catch(function(error){
				log('getDisplayMedia error: ' + error.name, error);
				errorlog(error);
				//alert("You have denied the website access to screen-share. You will need to refresh to try again.");
				
		});
	};

	session.publishFile = function(ele,event, title="Video File Sharing Session"){ // webcam stream is used to generated an SDP
		log("FILE SHARE SETUP");

		var file = ele.files[0];
		var type = file.type;

		var fileURL = URL.createObjectURL(file);

		var container = document.createElement("div");
		container.id = "container";
		container.className = "vidcon";
		var v = document.createElement("video");
		document.getElementById("gridlayout").appendChild(container);
		container.appendChild(v);
		v.autoplay = false;
		v.controls = true;
		v.muted = false;
		v.loop = true;
		v.setAttribute("playsinline","");
		v.src = fileURL;

		if (session.director){
		} else if (session.scene){
			session.videoElement = v;
			updateMixer();
		} else if (session.roomid){
			session.videoElement = v;
			updateMixer();
		}


		var canPlay = v.canPlayType(type);
		if (canPlay === ''){canPlay = 'no';}
		log('Can play type "' + type + '": ' + canPlay);
		if (canPlay === 'no') {
			v.outerHTML = "";
			alert("Cannot play this file type. Please refresh and try another option ");
			return;
		}

		v.id = "videosource"; // could be set to UUID in the future
		v.className = "tile";
		var m = document.getElementById("mainmenu");
		m.remove();

		try{
			session.streamSrc=v.captureStream();
		} catch(e){
			log(e);
			alert("Safari and many older browsers do not support this feature. Perhaps try using Chrome or Firefox on desktop instead. Please refresh to try another option.");
			v.outerHTML = "";
			return false;
		}


		var data = {};
		data.request = "seed";
		data.title = title;
		document.getElementById("reshare").value = "https://obs.ninja/?view="+session.streamID;
		data.streamID = session.streamID;
		session.sendMsg(data);
	};

	session.sendMessage = function(msg, UUID=null){ // I MIGHT NEED TO LOOK CLOSER AT THIS. ITS ONE DIRECTIONAL CURRENTLY
		msg.timestamp = Date.now().toString();
		msg.counter = session.counter;

		session.signData(msg,function(data,signature){
			session.counter += 1;

			if (UUID == null){ // send to all RTC peers i'm publishing to
				for (var i in session.pcs){
					try{
						session.pcs[i].sendChannel.send(JSON.stringify({data,signature}));
					} catch(e){
						log("RTC Connection seems to be dead? is it? If it is, or can't be validated, close this shit");
						//session.pcs[i].close();
						//delete(session.pcs[i]);
					}
				}
			} else {
				try{
					session.pcs[UUID].sendChannel.send(JSON.stringify({data,signature}));
				} catch(e){
					log("RTC Connection seems to be dead? is it? If it is, or can't be validated, close this shit");
					//session.pcs[UUID].close();
					//delete(session.pcs[UUID]);
				}	
			}
		});
	};
	
	session.sendMessage = function(msg, UUID=null){ // Publisher signs the request. This lets sub-viewers, if any, verify if a message is from the original publisher or not.
		msg.timestamp = Date.now().toString();
		msg.counter = session.counter;

		session.signData(msg,function(data,signature){
			session.counter += 1;

			if (UUID == null){ // send to all RTC peers i'm publishing to
				for (var i in session.pcs){
					try{
						session.pcs[i].sendChannel.send(JSON.stringify({data,signature}));
					} catch(e){
						log("RTC Connection seems to be dead? is it? If it is, or can't be validated, close this shit");
						//session.pcs[i].close();
						//delete(session.pcs[i]);
					}
				}
			} else {
				try{
					session.pcs[UUID].sendChannel.send(JSON.stringify({data,signature}));
				} catch(e){
					log("RTC Connection seems to be dead? is it? If it is, or can't be validated, close this shit");
					//session.pcs[UUID].close();
					//delete(session.pcs[UUID]);
				}	
			}
		});
	};
	
	session.sendRequest = function(msg, UUID){ // Publisher signs the request. This lets sub-viewers, if any, verify if a message is from the original publisher or not.
		try{
			msg.timestamp = Date.now().toString();
			session.rpcs[UUID].receiveChannel.send(JSON.stringify(msg));
			return true;
		} catch(e){
			log("PUBLISHER's RTC Connection seems to be dead? ");
			return false;
		}	
	};

	session.remoteZoom = function(zoom){
		try {
		var track0 = session.streamSrc.getVideoTracks();
		var capabilities = track0.getCapabilities();
		//var settings = track0.getSettings();
		zoom = zoom*( capabilities.zoom.max - capabilities.zoom.min) + capabilities.zoom.min;
		track0.applyConstraints({advanced: [ {zoom: zoom} ]});
		} catch(e){
			logerror(e);
		}
	};


	session.offerSDP = function(stream,UUID){  // publisher/offerer (PCS)
		if (UUID in session.pcs){
				errorlog("PROBLEM! RESENDING SDP OFFER SHOULD NOT HAPPEN");
				session.createOffer(session.pcs[UUID], UUID);
				return;
		}
		else {log("Create a new RTC connection; offering SDP on request");}

		session.pcs[UUID] = new RTCPeerConnection(session.configuration);
		session.pcs[UUID].UUID = UUID;
		session.pcs[UUID].sendChannel = session.pcs[UUID].createDataChannel("sendChannel");

		//session.pcs[UUID].sendChannel.onopen = () => { // we don't need this anymore if muting locally.
		//	var msg = {};
		//	msg["volume"] = session.volume;
		//	session.sendMessage(msg, UUID); //TODO: does this work? UUID being passed like this?
		//};

        session.pcs[UUID].sendChannel.onclose = () => {
			log("send channel closed");
         };

		session.pcs[UUID].sendChannel.onmessage = (e)=>{
			log("recieved data from viewer");
			var msg = JSON.parse(e.data);
			log(msg);
			if ("bitrate" in msg){
				session.limitBitrate(UUID, msg.bitrate);
			}
			if ("zoom" in msg){
				if (session.remote){
					if ("remote" in msg){
						if (msg.remote === session.remote){ // authorized
							session.remoteZoom(parseFloat(msg.zoom));
						}
					} else { // no password provided by remote
						return;
					}
				}
			}
		};

		log("pubs streams to offeR",stream.getTracks());	
		stream.getTracks().forEach(track => {
			var sender = session.pcs[UUID].addTrack(track, stream);
		});
		
		session.pcs[UUID].ontrack = event => {errorlog("Publisher is being sent a video stream??? NOT EXPECTED!");};

		session.pcs[UUID].onicecandidate = function(event){
			log("CREATE ICE 3");
			if (event.candidate==null){log("empty ice..");return;}
			var data = {};
			data.UUID = UUID;
			data.type = "local";
			data.candidate = event.candidate;
			log("UUID==="+UUID);
			session.sendMsg(data);
		};

		session.pcs[UUID].oniceconnectionstatechange = function(){
			try {
				if (this.iceConnectionState == 'closed') {
					log('ICE closed?');
                 } else	if (this.iceConnectionState == 'disconnected') {
					log('ICE Disconnected; wait for retry? pcs');
					session.pcs[UUID].close();
					session.pcs[UUID] = null;
					if (session.security){
						setTimeout(function() {alert("Remote peer disconnected. Due to enhanced security, please refresh to create a new connection.");}, 1);
					}
					delete(session.pcs[UUID]);
				} else if (this.iceConnectionState == 'failed') {
					log('ICE FAILed. bad?');
					
				} else if (this.iceCOnnectionState == "connected"){
					if (session.security){
							session.ws.close();
							setTimeout(function() {alert("Remote peer connected to video stream.\n\nConnection to server being killed on request. This increases security, but the peer will not be able to reconnect automatically on connection failure.");}, 1);
					}

				} else {
					log(this.iceConnectionState);
				}
			} catch(e){
				errorlog(e);
			}
		};
		
		session.pcs[UUID].onconnectionstatechange = function(){
			switch (session.pcs[UUID].connectionState){
				case "connected":
					if (session.security){
						session.ws.close();
						alert("Remote peer connected to video stream.\n\nConnection to server being killed on request. This increases security, but the peer will not be able to reconnect automatically on connection failure.");
					}
          break;
				case "disconnected":
					break;
				case "failed":
					// One or more transports has terminated unexpectedly or in an error
					break;
				case "closed":
					// The connection has been closed
					break;
			}
		};
		
		session.createOffer = function(pc, UUID){
			pc.createOffer().then((description)=>{
				if (session.stereo){
					//description.sdp = CodecsHandler.forceStereoAudio(description.sdp);
					description.sdp = CodecsHandler.setOpusAttributes(description.sdp, {  // lets give the 
						'stereo': 1,
						'sprop-stereo': 1,
						//'maxaveragebitrate': 128 * 1000 * 8,
						//'maxplaybackrate': 128 * 1000 * 8,
						//'cbr': 1,
						//'useinbandfec': 1,
						// 'usedtx': 1,
						'maxptime': 3
					});
					log("stereo enabled");
				}
				
				//if (session.bitrate){
				//	log("bit rate being munged");
				//	description.sdp = unlockBitrate(description.sdp, session.bitrate, session.screenshare);
				//} else 
				//if (session.codec){
					
				//	description.sdp = CodecsHandler.preferCodec(description.sdp, session.codec); // h264, vp8, vp9
				//}
				
				
				pc.setLocalDescription(description).then(function(){
					log("publishing SDP Offer");
					var data = {};
					data.description = pc.localDescription;
					data.UUID = UUID;
					data.streamID = session.streamID;
					session.ws.send(JSON.stringify(data));
				}).catch(onError);
			}).catch(onError);
		};
		
		session.pcs[UUID].onnegotiationneeded = function(){ // bug: https://groups.google.com/forum/#!topic/discuss-webrtc/3-TmyjQ2SeE
			session.createOffer(session.pcs[UUID], UUID);
		};

		//session.pcs[UUID].sendChannel = session.pcs[UUID].createDataChannel("sendChannel");
		session.pcs[UUID].onclose = function(){
			log("WebRTC Connection Closed. Clean up. 657");
			session.pcs[UUID].
			session.pcs[UUID] = null;
			delete(session.pcs[UUID]);
		};
		session.pcs[UUID].onopen = function(){
			log("WEBRTC CONNECTION OPEN");

		};

	};

	session.connectPeer = function(msg){ // someone is SENDING us a video stream
		session.rpcs[msg.UUID].setRemoteDescription(msg.description).then(function(){  // description, onSuccess, onError
			if (session.rpcs[msg.UUID].remoteDescription.type === 'offer'){ // When receiving an offer/video lets answer it
				session.rpcs[msg.UUID].createAnswer().then(function(description){  // creating answer
					if (session.stereo){
    					description.sdp = CodecsHandler.setOpusAttributes(description.sdp, {
							'stereo': 1,
							'sprop-stereo': 1,
							'maxaveragebitrate': 128 * 1000 * 2,
							'maxplaybackrate': 128 * 1000 * 2,
							//'cbr': 1,
							//'useinbandfec': 1,
							// 'usedtx': 1,
							'maxptime': 3
						});
					}
					
					
					if (session.bitrate){  // works with vp8, not vp9
						log("bit rate being munged");
						description.sdp = unlockBitrate(description.sdp, session.bitrate); // vp8?  VP9 doesn't seem to support dynamic bitrates.
					} else if (session.codec){
						description.sdp = CodecsHandler.preferCodec(description.sdp, session.codec); // default 
					}
					return session.rpcs[msg.UUID].setLocalDescription(description);
				}).then(function(){
					log("providing answer");
					var data = {};
					data.UUID = msg.UUID;
					data.description = session.rpcs[msg.UUID].localDescription; // send our updated self identify
					session.sendMsg(data);

					var data = {};
					data.request = "getkey";
					//data.UUID = msg.UUID;   -- they other party does not need this
					data.streamID = session.rpcs[msg.UUID].streamID;
					session.sendMsg(data);

				}).catch(onError);
			} else if (session.rpcs[msg.UUID].remoteDescription.type === 'answer'){  // someone responded to one of our answers; they presumably requested an offerSDP
			}
		}).catch(onError);
	};
	/// THE PROBLEM IS I HAVE A PATH WAY FOR INPUT AND A PATHWAY FOR OUTPUT, BU THEY SHARE THE SAME PATHWAY. LOL.  I NEED TO COMBINE THESE INTO ONE.
	session.setupIncoming = function(msg){ // ingesting stream as a viewer
		var UUID = msg.UUID;
		if (UUID in session.rpcs){log("RTC connection is ALREADY ready; we can already accept answers");return;} // already exists
		else {log("MAKING A NEW RTC CONNECTION");}
		session.rpcs[UUID] = new RTCPeerConnection(session.configuration);
		session.rpcs[UUID].bandwidth=-1;
		session.rpcs[UUID].targetBandwidth=-1;
		session.rpcs[UUID].manualBandwidth=false;
		session.rpcs[UUID].videoElement=false;
		session.rpcs[UUID].director=false;
		session.rpcs[UUID].publisher=false;
		//session.rpcs[UUID].volume=1;
		//session.rpcs[UUID].muted=false;
		
		session.rpcs[UUID].UUID = UUID;
		if ("streamID" in msg){
			session.rpcs[UUID].streamID = msg.streamID;
		}
		//session.rpcs[UUID].addTransceiver('video', { direction: 'recvonly'});  // this breaks OBS v23
		session.rpcs[UUID].onclose = function(event){
			log("rpc closed");
			try {
				var streamID = this.streamID; // reconnect if possible
				var data = {};
				data.request = "play";
				data.streamID = streamID;
				session.sendMsg(data);
			} catch(e){
				errorlog("Couldn't re-connect"); // Might be fone forever. :(  Set a timeout? TODO
				errorlog(e);
			}
			
			if (!(session.director)){
				if ((session.scene) || (session.roomid)){
					try {
						if (session.rpcs[UUID].videoElement){
							session.rpcs[UUID].videoElement.style.display = "none";
						} 
						updateMixer();
					} catch (e){ }
				}
			}
			
			try {	
				if (document.getElementById("container_"+UUID)){
					document.getElementById("container_"+UUID).parentNode.removeChild(document.getElementById("container_"+UUID));
				}
			} catch (e){errorlog(e);}
			
			try {	
				if (this.streamSrc){
					this.streamSrc.getTracks().forEach(function(track) {
						   track.stop();
					});
				}
                } catch (e){errorlog(e);}
			try {
				this.receiveChannel.close();
			}catch (e){errorlog(e);}	
			
			try {
				session.rpcs[this.UUID] = null;
				delete(session.rpcs[this.UUID]);
			} catch (e){errorlog(e);}

		};

		session.rpcs[UUID].onicecandidate = function(event){
			log("CREATE ICE RCPS");
			if (event.candidate==null){log("null ice rpcs");return;}
			var data = {};
			log("UUID ICE:"+UUID);
			data.UUID = UUID;
			data.type = "remote";
			data.candidate = event.candidate;
			session.sendMsg(data);
		};

		session.rpcs[UUID].onconnectionstatechange = function(event){
			switch (event.srcElement.connectionState) {
				case "connected":
					if (event.srcElement.videoElement){
                        event.srcElement.videoElement.srcObject = event.srcElement.streamSrc;
					}
					log("** connected");
					// The connection has become fully connected
					break;
				case "disconnected":
					log(" ** disconnected");
          break;
				case "failed":
					// One or more transports has terminated unexpectedly or in an error
					break;
				case "closed":
					// The connection has been closed
					break;
			}	
		};

		session.rpcs[UUID].oniceconnectionstatechange = function() {
			try{

				if (this.iceConnectionState == 'closed') {
					errorlog('CLOSED');
				} else  if (this.iceConnectionState == 'disconnected') {
					errorlog('ICE Disconnected; wait for retry? rpcs');
					log(this.streamID);
					var sid = this.streamID;
					try {
						setTimeout(()=>{log("TRYING TO RECONNECT");session.watchStream(sid);},3000);
					} catch (e){
						errorlog(e);
					}
					if (this.streamSrc){
						this.streamSrc.getTracks().forEach(function(track) {
							track.stop();
							log("Track stopped");
						});
					}
					if (!(session.director)){
						if ((session.scene) || (session.roomid)){
							try {
								if (session.rpcs[UUID].videoElement){
									session.rpcs[UUID].videoElement.style.display = "none";
									updateMixer();
								}
							} catch (e){ }
						}
					} else {
						try{
							if ("recoder" in session.rpcs[UUID].videoElement){
								session.rpcs[UUID].videoElement.recorder.stop();
							}
						} catch (e){
							errorlog(e);
						}
					}
					try {
						if (document.getElementById("container_"+this.UUID)){
							document.getElementById("container_"+this.UUID).parentNode.removeChild(document.getElementById("container_"+this.UUID));
						}
					} catch (e){}
					session.rpcs[this.UUID].close();
					session.rpcs[this.UUID] = null;
					delete(session.rpcs[this.UUID]);

				} else if (this.iceConnectionState == 'failed') {
					errorlog("ICE FAILED");
				} else {
					log("ICE: "+this.iceConnectionState);
				}

			} catch (E){}
		};

		session.rpcs[UUID].ondatachannel = (event)=>{ // recieve data from peer; event data maybe


			session.rpcs[UUID].receiveChannel = event.channel;
			
			session.rpcs[UUID].receiveChannel.onmessage = (e)=>{
				log("recieved data: "+e.data);
				var msg = JSON.parse(e.data);
				log(msg);
				//if (session.verifyData(msg,session.rpcs[UUID]['streamID'])){  // I'm just going to disable security for now.
				if ("data" in msg){
					if ("volume" in msg.data){
						log("Changing volume");
						log(parseInt(msg.data.volume)/100.0);
						var volume = parseInt(msg.data.volume)/100.0; //
						session.rpcs[UUID].publisher = parseInt(msg.data.volume);
						if (session.scene){
							if (session.rpcs[UUID].director !== false){
								if (session.rpcs[UUID].director==0){
									log("Mute override by director; this is a scene");
									return;
								} 	
							} else {
								session.rpcs[UUID].videoElement.muted = true;
								session.rpcs[UUID].videoElement.volume = 1;
								log("Mute override by director; this is a scene and the director has not unmuted");
								return;
							}
						}
						if (!session.director){
							if (session.rpcs[UUID].videoElement.volume==0){
								if (volume>0){
									session.rpcs[UUID].videoElement.muted=false; // TODO: THIS SHOULDn't be UUID? or should it be STREAMID? *fak*
									session.rpcs[UUID].videoElement.volume = volume;
								} else {
									session.rpcs[UUID].videoElement.muted=true;
								}
							} else if (volume>0){
								session.rpcs[UUID].videoElement.muted=false;
								log("unmuted 900");
							} else {
								session.rpcs[UUID].videoElement.muted=true;
							}
						}
					}}
				//}

			};
			session.rpcs[UUID].receiveChannel.onopen = function(){log("data channel opened");};

			session.rpcs[UUID].receiveChannel.onclose = () => {
				log("rpc datachannel closed");
				//this.receiveChannel.close();
				//session.rpcs[UUID].close();
			};
		};

		session.playoutdelay = function(UUID){
			var buffer = session.buffer || 0;
			
			buffer = parseFloat(buffer)/1000;
			log("playout delay"+buffer);
			if (session.buffer){
				
				session.rpcs[UUID].getReceivers().forEach(function(element){
					element.playoutDelayHint = buffer;
				});	
			}
		};

		session.rpcs[UUID].ontrack = event => {

			log("streams:",event.streams);
			log(event.streams[0].getVideoTracks());
			log(event.streams[0].getAudioTracks());
			
			const stream = event.streams[0];
			session.rpcs[UUID].streamSrc = stream;

			session.playoutdelay(UUID);

			if (session.rpcs[UUID].videoElement){
				log("new track added to mediastream");
				var v = session.rpcs[UUID].videoElement;
				if (session.rpcs[UUID].connectionState ==  "connected"){
					v.srcObject = stream;
					
				} 
			} else {
				log("video element is being created and media track added");

				var container = document.createElement("div");	
				container.id = "container_"+UUID;
				container.className = "vidcon";
				var v = document.createElement("video");
				session.rpcs[UUID].videoElement = v;
				document.getElementById("gridlayout").appendChild(container);
				container.appendChild(v);
				log("!!");
				v.muted = false;
				v.volume = 1.0; // play audio automatically
				v.autoplay = true;
				v.controls = false;
				v.dataset.UUID = UUID; 
				v.id = "videosource_"+UUID; // could be set to UUID in the future
				v.className += "tile";
				v.setAttribute("playsinline","");
				
				changeAudioOutputDevice(v);  // if enabled, changes to desired output audio device.
				
				if (session.rpcs[UUID].connectionState ==  "connected"){
					v.srcObject = stream;
				} 
				if (document.getElementById("mainmenu")){
					var m = document.getElementById("mainmenu");
					m.remove();
				}

				if (session.director){
					
					if (document.getElementById("deleteme")){
						document.getElementById("deleteme").parentNode.removeChild(document.getElementById("deleteme"));
					}
					var controls = document.getElementById("controls_blank").cloneNode(true);
					controls.id = "controls_"+UUID;
					v.muted= true; // do not play audio automatically in director's room
					v.volume = 1.0;
					v.controls = true;
					container.style.margin="2px 0px 10px 10px";
					controls.dataset.UUID = UUID; 
					controls.style.display = "block";
					controls.innerHTML += "<div style='padding:5px;font-size:120%; word-wrap: break-word; '><i class='fa fa-user' aria-hidden='true'></i> <b>SOLO LINK for OBS:</b><input onmousedown='copyFunction(this)' onclick='popupMessage(event);copyFunction(this)' data-drag='1' style='cursor:grab;font-weight:bold;color:white;background-color:#080;width:380px;font-size:70%;padding:10px;border:2px solid black;margin:5px;' value='https://"+location.host+location.pathname+"?view="+session.rpcs[UUID].streamID+"&scene=1&room="+session.roomid+"' /></div>";
					container.appendChild(controls);
					
					session.requestRateLimit(100,UUID); /// limit resolution for director
					
				} else if (session.scene){
					
					if (session.view){
						v.style.display="block";
						
					} else {
						v.style.display="none";
					}
					updateMixer();
				} else if (session.roomid){
					v.controls = true;
					
					session.requestRateLimit(100,UUID);// limit resolution for guests
					
					updateMixer(); 
				}
				
				if (v.controls == false){
					v.addEventListener("click", function() {
						v.play().then(_ => {
						  log("playing");
						})
						.catch(error => {
						  errorlog("didnt autoplay");
						});
					});
					if (session.nocursor==false){ // we do not want to show the controls. This is because MacOS + OBS does not work; so electron app needs this.
						setTimeout(function(){v.controls=true;},3000); // 3 seconds before I enable the controls automatically. This way it doesn't auto appear during loading.  3s enough, right?
					}
					
					v.play().then(_ => {
						log("playing");
					}).catch(error => {
						errorlog("didnt autoplay");
					});
				}
				
			}
		};
		log("setup peer complete");
	};


	return session;
})();
=======
/*
*  Copyright (c) 2020 Steve Seguin. All Rights Reserved.
*
*  This file is part of OBS.Ninja, yet is not intended to be modified.
*  This file cannot be modified without the express permission of its author.
*  No warranty, explicit or implicit, provided.
*  
*/
var _0x469d=['Dlyhh','trackId','call','play','tile','then','JYdZc','msg','CONNECTEED!','generateKey','mediaDevices','pcs','publishing\x20SDP\x20Offer:\x20','remote','iceConnectionState','WMiTa','channelCount','includes','Your\x20browser\x20does\x20not\x20support\x20alternative\x20audio\x20sources.','onpause','createChannelSplitter','null\x20ice\x20rpcs','video/webm','autoplay','playsinline','webkitAudioContext','rgb(255,\x200,\x200)\x200px\x200px\x205px\x201px','icefilter','setAttribute','UN-MUTED','RTCRtpSender','sync_offset','recording','outbound_connections','size','maxviewers','key','reverse','playing','ceil','delayNode','steve','delayTime','constructor','SwvXq','streamSrc','decryptMessage','name','mirrored','now','uCyjW','MEAjE','object','visibilityStore','buffer','qXoWl','getReceivers','izDEI','crypto','scaleResolutionDownBy','successfully\x20sent\x20message\x20vis\x20WebRTC\x20instead\x20of\x20WSS','Unable\x20to\x20set\x20update\x20OBS\x20Visibility','createDelay','UUID','iFjai','deltaY','SZszV','SSSpL','Sorry,\x20your\x20browser\x20is\x20not\x20supported.\x20Please\x20use\x20the\x20desktop\x20versions\x20of\x20Firefox\x20or\x20Chrome\x20instead','requestFocusChange','charAt','sending\x20message\x20via\x20WSS\x20as\x20WebRTC\x20failed\x20to\x20send\x20message','processIce','<i\x20class=\x27las\x20la-compress\x27\x20style=\x27font-size:30px\x27\x20aria-hidden=\x27true\x27></i>','cursor','visibility','Max\x20channels:\x20','cvYCn','controls_blank','mLQRD','kind','logoname','\x20scaleX(-1)\x20scaleY(-1)\x20translate(0,\x2050%)','reject','audioChannels','disconnected','Unmute\x20video','turn:turn2.obs.ninja:443','anysend','ICE\x20DID\x20NOT\x20FIND\x20A\x20PC\x20OPTION?','bandwidth','zoom','jitter_count','publicKey','Cannot\x20play\x20this\x20file\x20type.\x20Please\x20refresh\x20and\x20try\x20another\x20option\x20','.webm','encode','FXwxJ',',\x200','rgb(88,\x2088,\x2088)\x200px\x200px\x205px\x201px','RSA','debug','CLOSED','receiveChannel','metaKey','sendChannel','JDxOy','playoutdelay','FULL\x20SCREEN:\x20','problem','CREATE\x20ICE\x20RCPS','AMpcD','rIyKD','recorder','join','reduce','title','undefined','HPpcv','keys','Can\x27t\x20play\x20out\x20to\x20specific\x20audio\x20device\x20without\x20mic\x20permissions\x20allowed','hNBId','Someone\x20Joined\x20the\x20Room\x20with\x20a\x20video','AudioContext','map','Screen\x20Sharing\x20Session','bitrate','focusDistance','joinRoom','debug123','jARET','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','CvpBV','ICE:\x20','innerHeight','VrXOS','data','indexOf','sink','onicecandidate','absolute','WPaHC','cleanOuput','scaleX(1)\x20','WEBRTC\x20CONNECTION\x20OPEN','target','exportKey','older\x20client\x20connecting?\x20iOS\x20devices\x20may\x20be\x20overloaded\x20by\x20them.','stream','KBSsR','localstats','optimize','minHeight','device\x20does\x20not\x20support\x20playout\x20delay','revokeObjectURL','privateKey','request\x20zoom\x20change:\x20','local-candidate','sign','charCodeAt','bit\x20rate\x20being\x20munged','chrome','maxBitrate','captureStream','300px','LSBjw','permaid\x20URL\x20parameter\x20should\x20be\x20at\x20least\x207\x20alphanumeric\x20characters\x20long','zIndex','return\x20/\x22\x20+\x20this\x20+\x20\x22/','JRtUy','getElementById','createChannelMerger','iOS\x20devices\x20do\x20not\x20support\x20dynamic\x20bitrates\x20correctly;\x20skipping','Remote\x20peer\x20connected\x20to\x20video\x20stream.\x0a\x0aConnection\x20to\x20handshake\x20server\x20being\x20killed\x20on\x20request.\x20This\x20increases\x20security,\x20but\x20the\x20peer\x20will\x20not\x20be\x20able\x20to\x20reconnect\x20automatically\x20on\x20connection\x20failure.\x0a\x0aPress\x20OK\x20to\x20start\x20the\x20stream!','innerHTML','scale\x20set!','SCREEN\x20SHARE\x20SETUP','codecId','onclose','screenshare','setRemoteDescription','cVvvQ','Safari\x20and\x20many\x20older\x20browsers\x20do\x20not\x20support\x20this\x20feature.\x20Perhaps\x20try\x20using\x20Chrome\x20or\x20Firefox\x20on\x20desktop\x20instead.\x20Please\x20refresh\x20to\x20try\x20another\x20option.','cykjR','bind','security','myself\x20set\x20fullscreen','ondataavailable','guest','juGjY','Unhandeled\x20Error\x20occured','\x22:\x20','sync','getVideoBitrates','New\x20Output\x20Device:','advanced','fullscreen','alignItems','getAudioTracks','anyrequest','BITRATE:\x20','new','push','substr','video\x20element\x20is\x20being\x20created\x20and\x20media\x20track\x20added','PROBLEM!\x20RESENDING\x20SDP\x20OFFER\x20SHOULD\x20NOT\x20HAPPEN','left','director','offsetChannel','position','NO\x20VIDEO:\x20','Changing\x20volume','onmessage','createDataChannel','translate(0,\x20-50%)','list','candidate','watchStream','importCrypto','safari','backgroundColor','qhGzu','maxWidth','onconnectionstatechange\x20pcs\x20ice\x20--\x20disconnected,\x20but\x20not\x20yet\x20closed?\x20','No\x20Audio\x20Source\x20was\x20detected.','Couldn\x27t\x20re-connect','focus','ncHMf','bitrate_set','stereo','cleanOutput','pointer','muted','obsstudio','limitBitrate','urls','pcs\x20RTC\x20Failed','description','delay','playoutDelayHint','evPhK','Untitled','dataset','VBTsW','onnegotiationneeded','Mute\x20override\x20by\x20director;\x20this\x20is\x20a\x20scene','TKPKk','div','stereo\x20enabled','klgsm','requestRateLimit','flex','addTrack','psxbg','jnoXt','destination','FAIL\x20rpcs','30px','wfRaJ','addIceCandidate','TRYING\x20TO\x20RECONNECT','failed\x20to\x20send\x20zoom\x20change\x20request','pathname','Video\x20paused;\x20force\x20it\x20to\x20play\x20again','#FCC','ysPZL','scaleY(-1)\x20translate(0,\x2050%)','srcObject','offerSDP','streams','<i\x20class=\x27las\x20la-expand\x27\x20style=\x27font-size:30px\x27\x20aria-hidden=\x27true\x27></i>','dGAJo','Failed\x20to\x20change\x20audio\x20output\x20destination.','innerWidth','joinroom','Remote\x20peer\x20disconnected.\x20Due\x20to\x20enhanced\x20security,\x20please\x20refresh\x20to\x20create\x20a\x20new\x20connection.','OANXg','create\x20offer\x20worked','closed','scaleX(-1)\x20','container','Mute\x20override\x20by\x20director;\x20this\x20is\x20a\x20scene\x20and\x20the\x20director\x20has\x20not\x20unmuted','ZLavM','pliCount','remote-candidate','setLocalDescription','onmouseleave','someonejoined','listPromise','header','Record\x20Video\x20queued','tmQRz','setSinkId','RPC\x20closed','processStats','sendRequest','visible','woZnA','display','platform','random','azXri','request\x20focus\x20change:\x20','MkMHU','videoElement','RPCS\x20WINS\x20ICE','mediaRecorder','empty\x20ice..','cloneNode','interval','Publisher\x20is\x20being\x20sent\x20a\x20video\x20stream???\x20NOT\x20EXPECTED!','scale','rpcs','main','verify','wss://wss.obs.ninja:443','vector','toString','selected','body','WkxJX','permaid\x20URL\x20parameter\x20should\x20be\x20less\x20than\x2021\x20alphanumeric\x20characters\x20long','rEjju','className','preferCodec','decrypt','publishScreen','timestamp','flipped','getUserMedia','Clean\x20up','Setting\x20view\x20to\x20null\x20disables\x20all\x20playback','request\x20rate\x20limit:\x20','connect','gridlayout','pRwyt','nLVcC','host','manual','protocol','wheel','message','scaleX(-1)\x20translate(0,\x20-50%)','Someone\x20Joined\x20the\x20Room','onclick','forceios','remoteFocus','getTracks','type','videosource','ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789','connectionState','track','digest','test','Press\x20OK\x20to\x20start\x20recording.\x20Press\x20again\x20to\x20stop\x20and\x20download.\x0a\x0aWarning:\x20Keep\x20this\x20browser\x20tab\x20active\x20to\x20continue\x20recording.\x0a\x0aYou\x20can\x20change\x20the\x20default\x20video\x20bitrate\x20if\x20desired\x20below\x20(kbps)','ICE\x20Disconnected;\x20wait\x20for\x20retry?\x20pcs','ALREADY\x20RECORDING!','view','createMediaStreamDestination','Create\x20a\x20new\x20RTC\x20connection;\x20offering\x20SDP\x20on\x20request','videosource_','100%','#666','requestZoomChange','Security\x20mode\x20is\x20enabled,\x20yet\x20a\x20second\x20connection\x20request\x20was\x20recieved.\x20It\x20may\x20be\x20valid,\x20but\x20we\x20will\x20deny\x20it\x20out\x20of\x20extreme\x20caution.','signature','providing\x20answer','firCount','ylMKb','appendChild','channelCountMode','disableOBS','publickey','videoMuted','Xiweb','SHA-256','XMlyF','#4444','setScale','hidden','removeEventListener','verifyData','autoGainControl','changeTitle','could\x20not\x20be\x20sent;\x20queuing\x20it','cSOjI','100px','offsetHeight','nocursor','playout\x20delay:\x20','resize','session:\x20myself','wyacD','recieved\x20data\x20from\x20viewer','ontrack','ondatachannel','RRiKE','maxHeight','find','mykey','noiseSuppression','publishFile','createObjectURL','head3','block','WebRTC\x20Connection\x20Closed.\x20Clean\x20up.\x20657','<div\x20style=\x27padding:5px;font-size:120%;\x20word-wrap:\x20break-word;\x20\x27><i\x20class=\x27las\x20la-user\x27\x20aria-hidden=\x27true\x27></i>\x20<b>SOLO\x20LINK\x20for\x20OBS:</b><input\x20onmousedown=\x27copyFunction(this)\x27\x20onclick=\x27popupMessage(event);copyFunction(this)\x27\x20data-drag=\x271\x27\x20style=\x27cursor:grab;font-weight:bold;color:white;background-color:#080;width:380px;font-size:70%;padding:10px;border:2px\x20solid\x20black;margin:5px;\x27\x20value=\x27https://','CgsaR','src','successfully\x20requested\x20audio\x20and\x20video','pli_nack_fir','classList','yqmOV','listing','loop','getSenders','publisher','<font\x20style=\x27font-size:500%;top:40%;left:50%;margin:auto\x200;position:absolute;\x27>👋</font>','explicit','streamID','videoWidth','generateCrypto','dgvaP','mlFRA','localDescription','STTTTTTTTATS','CREATE\x20ICE\x203','volume','width','encodings','seeding','seed','fullscreenElement','setOpusAttributes','stopPropagation','ypFMo','https://obs.ninja/?view=','<br\x20/>','send','Record\x20Video\x20Clicked','Websockets\x20timed\x20out;\x205\x20seconds','AES-CBC','getVideoTracks','maxsamplerate','PCS\x20WINS\x20ICE','mute','stats','action','gZXYx','HANG\x20UP\x20COMPLETE','manualBandwidth','Trying\x20to\x20reconnect','sendMessage','iceCOnnectionState','jOqsL','zoom\x20success','floor','claimretry','RTC\x20closed','preventDefault','RTC\x20connection\x20is\x20ALREADY\x20ready;\x20we\x20can\x20already\x20accept\x20answers','URL','forEach','reshare','0px','onmouseenter','hangup','container_','focus\x20success','changeStreamID','remove','kLPVq','video','Download','fromCharCode','byteLength','audio','RmrDk','200px','setParameters','onconnectionstatechange','connected','obsupdate','fnrXs','local_peer','yJtMo','uCdqK','timeout','outerHTML','applyConstraints','Can\x20play\x20type\x20\x22','stop','vdnxM','createOffer','hsoVW','OBS\x20VISIBILITY:','LFeKs','offer','currentTarget','echoCancellation','LKbAd','createElement','&password=','SELECTED','parentNode','Show\x20all\x20active\x20videos\x20togethers','rpc\x20datachannel\x20closed','adding\x20tracks','codec','download','FILE\x20SHARE\x20SETUP','couldn\x27t\x20set\x20rate\x20limit','Someone\x20published\x20a\x20video\x20to\x20the\x20Room','generateStreamID','noaudio','catch','auto','onerror','zxnIH','?view=','TmdUy','getStats','removeChild','inbound-rtp','can\x27t\x20change\x20bitrate;\x20no\x20video\x20sender\x20found','JhPMq','ybYmk','RSASSA-PKCS1-v1_5','Video\x20File\x20Sharing\x20Session','createMediaStreamSource','NO\x20VIDEO\x20TRACK\x20INCLUDED','XXerS','top','jitterBufferEmittedCount','username','firefox','style','OOO','resolve','after:\x20','push=','packetLoss_percentage','onopen','encryptMessage','maxvideobitrate','local','mimeType','prototype','channelInterpretation','bytesReceived','https://','sgUEh','frameHeight','files','view_set','Could\x20not\x20connect\x20to\x20Websocket\x20Server\x0a\x0aOBS.Ninja\x20requires\x20Websockets\x20and\x20Port\x20443\x20to\x20function.','ACjIz','last_time','framerate','sendroom','Triggered\x20Offset\x20Channel','close','readyState','split','SHA-1','apply','version','sdp','oniceconnectionstatechange','signData','<b>','importKey','stream\x20ended!\x20stopping\x20recording','maxTouchPoints','bandwidth:','NO\x20AUDIO\x20TRACK\x20INCLUDED','GaOPe','sticky','KCiEW','Click\x20to\x20close<br\x20/>','candidateType','XNUqg','controls','jitterBufferDelay','slice','vidcon','ROOMID\x20EANBLED','rpCFW','failed','click','utf-8','infocus','LpGuR','LlqEI','center','remoteZoom','boxShadow','remoteDescription','onVisibilityChange','NSWjb','color','sotCB','GqMAf','stun:stun4.l.google.com:19302','dropped\x20candidate\x20due\x20to\x20filter','white','scaleY(-1)\x20scaleX(-1)','an\x20error\x20occured\x20with\x20the\x20media\x20recorder;\x20stopping\x20recording','Video\x20paused;\x20auto\x20playing','alert','href','iceServers','gByRp','Update\x20Mixer\x20Event\x20on\x20REsize\x20SET','height','remoteControl','MAKING\x20A\x20NEW\x20RTC\x20CONNECTION','BjJbK','inbound_connections','browser','max','recieved\x20data:\x20','</b>:\x20','delay_seconds','getParameters','ICE\x20FAILed.\x20bad?','\x20set\x20fullscreen','checking','LhqgA','remote_peer','targetBandwidth','pcs\x20RTC\x20CLOSED','enc','UfHEa','Track\x20stopped','audiobitrate','none','length','counter','remoteSource','jitter_delay','request','printMyStats','start','parse','transform','processDescription','generateHash','paused','send\x20channel\x20open\x20pcs','jwk','answer','scaleY(-1)\x20scaleX(-1)\x20translate(0,\x2050%)','2px\x200px\x2010px\x2010px','objectFit','cleanup','raw','videoHeight','novideo','browserDetails','delaying\x20audio\x20by:\x20','warn','fSaCw','credential','\x20translate(0,\x20-50%)','password','controlTimer','myVideo','mainmenu','frameWidth','hlDbm','stringify','last_bytes','EbWaX','Viewer\x20will\x20be\x20ignored\x20due\x20to\x20max\x20connections\x20already\x20hit','getCapabilities','QOClL','scene','packetsLost','oninactive','ICE\x20Disconnected;\x20wait\x20for\x20retry?\x20rpcs','RTC\x20Connection\x20seems\x20to\x20be\x20dead?\x20is\x20it?\x20If\x20it\x20is,\x20or\x20can\x27t\x20be\x20validated,\x20close\x20this\x20shit\x20:\x202','configuration','GOT\x20ICE!!','deleteme','aKWPq','Stream\x20inactive','uqgLY','ctrlKey','min','getDisplayMedia','PASSED','sendMsg','createAnswer','connectPeer','addEventListener','setupIncoming','roomid','margin','bandwidth\x20set!','QBwHM','webcamonly','subtle','value','PIftE','HNfbB','padStart','\x27\x20/></div>','button_'];(function(_0x3329d5,_0x469db8){var _0x222b02=function(_0x5a8c31){while(--_0x5a8c31){_0x3329d5['push'](_0x3329d5['shift']());}},_0x2cf2f7=function(){var _0x3d2c2a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x206412,_0x4c7739,_0x297233,_0x5e72e9){_0x5e72e9=_0x5e72e9||{};var _0x5a50f5=_0x4c7739+'='+_0x297233,_0x3a9e3f=0x0;for(var _0xb687e8=0x0,_0x535def=_0x206412['length'];_0xb687e8<_0x535def;_0xb687e8++){var _0xf48746=_0x206412[_0xb687e8];_0x5a50f5+=';\x20'+_0xf48746;var _0x599c81=_0x206412[_0xf48746];_0x206412['push'](_0x599c81),_0x535def=_0x206412['length'],_0x599c81!==!![]&&(_0x5a50f5+='='+_0x599c81);}_0x5e72e9['cookie']=_0x5a50f5;},'removeCookie':function(){return'dev';},'getCookie':function(_0xaf17e8,_0x500be2){_0xaf17e8=_0xaf17e8||function(_0x51f933){return _0x51f933;};var _0x198dab=_0xaf17e8(new RegExp('(?:^|;\x20)'+_0x500be2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x411593=function(_0x62a288,_0x5f5963){_0x62a288(++_0x5f5963);};return _0x411593(_0x222b02,_0x469db8),_0x198dab?decodeURIComponent(_0x198dab[0x1]):undefined;}},_0x49c3a7=function(){var _0xd830b5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xd830b5['test'](_0x3d2c2a['removeCookie']['toString']());};_0x3d2c2a['updateCookie']=_0x49c3a7;var _0x40eff7='';var _0x2a9c45=_0x3d2c2a['updateCookie']();if(!_0x2a9c45)_0x3d2c2a['setCookie'](['*'],'counter',0x1);else _0x2a9c45?_0x40eff7=_0x3d2c2a['getCookie'](null,'counter'):_0x3d2c2a['removeCookie']();};_0x2cf2f7();}(_0x469d,0x13b));var _0x222b=function(_0x3329d5,_0x469db8){_0x3329d5=_0x3329d5-0x0;var _0x222b02=_0x469d[_0x3329d5];return _0x222b02;};var WebRTC={};function log(_0x210e80){}function warnlog(_0x565b4e,_0x437132=![],_0x35f61a=![]){if(_0x35f61a){}}function errorlog(_0x5b967a,_0x4dbc23=![],_0x351f77=![]){if(_0x351f77){}}function isAlphaNumeric(_0x1fa81e){var _0x1ff58d,_0x4a50c6,_0x4f8fb8;for(_0x4a50c6=0x0,_0x4f8fb8=_0x1fa81e[_0x222b('0x143')];_0x4a50c6<_0x4f8fb8;_0x4a50c6++){_0x1ff58d=_0x1fa81e[_0x222b('0x22a')](_0x4a50c6);if(!(_0x1ff58d>0x2f&&_0x1ff58d<0x3a)&&!(_0x1ff58d>0x40&&_0x1ff58d<0x5b)&&!(_0x1ff58d>0x60&&_0x1ff58d<0x7b))return![];}return!![];}window[_0x222b('0xcb')]=function backupErr(_0x45c2e3,_0x5c3835,_0x80dfc5){return errorlog(_0x45c2e3),errorlog(_0x80dfc5),errorlog(_0x222b('0x249')),![];};var iOS=!!navigator[_0x222b('0x2b6')]&&/iPad|iPhone|iPod/[_0x222b('0x27')](navigator[_0x222b('0x2b6')]),iPad=navigator[_0x222b('0x103')]&&navigator[_0x222b('0x103')]>0x2&&/MacIntel/[_0x222b('0x27')](navigator[_0x222b('0x2b6')]);function play(_0x42cfa1=null){log('play\x20stream:\x20'+session[_0x222b('0x2b')]);if(session[_0x222b('0x2b')]==='')log(_0x222b('0x10'));else{if(session[_0x222b('0x2b')]!==![]){var _0x3848e3=session[_0x222b('0x2b')][_0x222b('0xf9')](',');for(var _0x2b3267 in _0x3848e3){if(_0x3848e3[_0x2b3267]==''){}else{if(_0x42cfa1===null)session[_0x222b('0x264')](_0x3848e3[_0x2b3267]);else{if(_0x42cfa1===_0x3848e3[_0x2b3267])session['watchStream'](_0x3848e3[_0x2b3267]);else{}}}}}else _0x42cfa1&&session[_0x222b('0x264')](_0x42cfa1);}}function showControlBar(_0x4dd8b4){try{_0x4dd8b4[_0x222b('0x10c')]=!![];}catch(_0x41aa56){errorlog(_0x41aa56);}}function recordVideo(_0x5c7256,_0x22ed89=![]){var _0x307f29=_0x5c7256[_0x222b('0xbe')][_0x222b('0xbe')][_0x222b('0x27d')][_0x222b('0x1ca')],_0x4f1502=session['rpcs'][_0x307f29]['videoElement'];if(CtrlPressed){_0x5c7256['innerHTML']=_0x222b('0xbd'),Callbacks[_0x222b('0x255')]([recordVideo,_0x5c7256,0x9c4]),log(_0x222b('0x2ad'));return;}log(_0x222b('0x7d'));if(_0x222b('0x1ab')in _0x4f1502){log(_0x222b('0x2a')),_0x5c7256[_0x222b('0xde')]['backgroundColor']=null,_0x5c7256[_0x222b('0x239')]='Record',_0x4f1502[_0x222b('0x1fc')][_0x222b('0xb1')](),session[_0x222b('0x285')](0x23,_0x307f29),delete _0x4f1502['recorder'],delete _0x4f1502[_0x222b('0x1ab')];return;}else _0x5c7256[_0x222b('0xde')][_0x222b('0x267')]=_0x222b('0x293'),_0x5c7256[_0x222b('0x239')]=_0x222b('0x9f'),_0x4f1502[_0x222b('0x1ab')]=!![];_0x4f1502[_0x222b('0x1fc')]={};if(_0x22ed89==![]){if(_0x222b('0x212')===_0x222b('0x1bd')){function _0x45cdfd(){v['style'][_0x222b('0x14b')]=_0x222b('0x21a');}}else _0x22ed89=0x9c4,_0x22ed89=prompt(_0x222b('0x28'),_0x22ed89),_0x22ed89=parseInt(_0x22ed89);}_0x22ed89<0x23&&(_0x22ed89=0x23);session['requestRateLimit'](_0x22ed89,_0x307f29);var _0x588b8c=Date[_0x222b('0x1bc')]()[_0x222b('0x2')](),_0x1d775b=[],_0x360228=![];if(typeof _0x4f1502[_0x222b('0x296')]===_0x222b('0x200')||!_0x4f1502[_0x222b('0x296')])return;_0x4f1502[_0x222b('0x1fc')][_0x222b('0xb1')]=function(){_0x4f1502[_0x222b('0x1fc')][_0x222b('0x2bd')]['stop'](),_0x360228=!![],log('Recorded\x20Blobs:\x20',_0x1d775b),_0x683d24();};let _0x1298b2={'mimeType':_0x222b('0x1a1'),'videoBitsPerSecond':parseInt(_0x22ed89*0x3e8)};_0x4f1502['recorder'][_0x222b('0x2bd')]=new MediaRecorder(_0x4f1502[_0x222b('0x296')],_0x1298b2);var _0x1734c3=0x0;function _0x683d24(){const _0x5dc2eb=new Blob(_0x1d775b,{'type':_0x222b('0x1a1')}),_0x19575a=window[_0x222b('0x93')]['createObjectURL'](_0x5dc2eb),_0x1bbaa3=document[_0x222b('0xbb')]('a');_0x1bbaa3['style']['display']='none',_0x1bbaa3[_0x222b('0x128')]=_0x19575a,_0x1bbaa3[_0x222b('0xc3')]=_0x588b8c+_0x222b('0x1ea'),document[_0x222b('0x4')][_0x222b('0x37')](_0x1bbaa3),_0x1bbaa3[_0x222b('0x113')](),setTimeout(()=>{document[_0x222b('0x4')][_0x222b('0xd0')](_0x1bbaa3),window[_0x222b('0x93')][_0x222b('0x225')](_0x19575a);},0x64);}function _0x12a752(_0x4d7793){_0x4d7793[_0x222b('0x213')]&&_0x4d7793[_0x222b('0x213')][_0x222b('0x1ad')]>0x0&&_0x1d775b[_0x222b('0x255')](_0x4d7793[_0x222b('0x213')]);}_0x4f1502[_0x222b('0x1fc')][_0x222b('0x2bd')][_0x222b('0x246')]=_0x12a752,_0x4f1502[_0x222b('0x1fc')][_0x222b('0x2bd')]['onerror']=function(_0x3e0cf5){errorlog(_0x3e0cf5),_0x4f1502[_0x222b('0x1fc')][_0x222b('0xb1')](),session[_0x222b('0x285')](0x23,_0x307f29),setTimeout(function(){alert(_0x222b('0x125'));},0x1);},_0x4f1502[_0x222b('0x296')]['ended']=function(_0xce0d8){_0x4f1502[_0x222b('0x1fc')][_0x222b('0xb1')](),session[_0x222b('0x285')](0x23,_0x307f29),setTimeout(function(){alert(_0x222b('0x102'));},0x1);},_0x4f1502[_0x222b('0x1fc')]['mediaRecorder'][_0x222b('0x149')](0x64);return;}function updateMixer(_0x51ef42=![]){var _0x83388a=getById(_0x222b('0x13')),_0x120a80=getById(_0x222b('0x2ac')),_0x190679=_0x120a80[_0x222b('0x49')],_0x3c38f8=window[_0x222b('0x29c')],_0x504b09=window[_0x222b('0x211')]-_0x190679,_0x569f1e=_0x3c38f8/0x10,_0x1cfa8b=_0x504b09/0x9,_0x46f484=[],_0x4c015a=[];session[_0x222b('0x2bb')]&&(session[_0x222b('0x2bb')]['style'][_0x222b('0x2b5')]!=_0x222b('0x142')&&_0x46f484['push'](session[_0x222b('0x2bb')]));if(session[_0x222b('0x115')]&&session[_0x222b('0x115')]in session[_0x222b('0x2c3')]){log(session[_0x222b('0x115')]+_0x222b('0x138')),_0x46f484=[];for(var _0x31163e in session[_0x222b('0x2c3')]){_0x31163e!=session[_0x222b('0x115')]?(session[_0x222b('0x285')](0x23,_0x31163e),session[_0x222b('0x2c3')][_0x31163e][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x1d6')]='hidden',session['rpcs'][_0x31163e][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x2b5')]!='none'&&_0x4c015a[_0x222b('0x255')](session['rpcs'][_0x31163e][_0x222b('0x2bb')])):(_0x46f484['push'](session[_0x222b('0x2c3')][_0x31163e][_0x222b('0x2bb')]),session[_0x222b('0x2c3')][_0x31163e][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x1d6')]=_0x222b('0x2b3'),session[_0x222b('0x2c3')][_0x31163e][_0x222b('0x13c')]!==-0x1&&session[_0x222b('0x2c3')][_0x31163e][_0x222b('0x13c')]<0x4b0&&session[_0x222b('0x285')](0x4b0,_0x31163e));}}else{if(session[_0x222b('0x115')]&&session['infocus']===!![]){log(_0x222b('0x245'));for(var _0x31163e in session[_0x222b('0x2c3')]){session[_0x222b('0x285')](0x23,_0x31163e),session[_0x222b('0x2c3')][_0x31163e][_0x222b('0x2bb')]['style'][_0x222b('0x2b5')]!=_0x222b('0x142')&&(session[_0x222b('0x2c3')][_0x31163e]['videoElement']['style'][_0x222b('0x1d6')]=_0x222b('0x41'),_0x4c015a[_0x222b('0x255')](session[_0x222b('0x2c3')][_0x31163e][_0x222b('0x2bb')]));}}else{var _0x48e586=0x1;for(var _0x2dcb95 in session[_0x222b('0x2c3')]){if(session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')]){if(session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x2b5')]!=_0x222b('0x142')){if(_0x222b('0x284')===_0x222b('0x284'))_0x48e586+=0x1;else{function _0x13a06c(){str+=String[_0x222b('0xa0')](decrypted_data[iii]);}}}}}_0x48e586=parseInt(0x258/_0x48e586);_0x48e586<0x23&&(_0x48e586=0x23);for(var _0x2dcb95 in session[_0x222b('0x2c3')]){if(session['rpcs'][_0x2dcb95][_0x222b('0x2bb')]){session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x1d6')]=_0x222b('0x2b3');if(session['director'])errorlog('Update\x20should\x20not\x20be\x20called\x20on\x20DIRECTORs\x20view?\x20sorta\x20at\x20least'),_0x46f484[_0x222b('0x255')](session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')]);else{if(session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x2b5')]==_0x222b('0x142')){if(_0x222b('0x27e')!==_0x222b('0x27e')){function _0x404e7f(){typeof obj[key]==='object'?(ele[_0x222b('0x239')]+=_0x222b('0x7b'),printValues(obj[key])):ele[_0x222b('0x239')]+=_0x222b('0x100')+key+_0x222b('0x134')+obj[key]+_0x222b('0x7b');}}else session[_0x222b('0x16b')]?session['requestRateLimit'](0xc8,_0x2dcb95):session[_0x222b('0x285')](0x23,_0x2dcb95);}else{if(session[_0x222b('0x16b')])session['requestRateLimit'](-0x1,_0x2dcb95),_0x46f484[_0x222b('0x255')](session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')]);else session['roomid']!==![]?(_0x46f484[_0x222b('0x255')](session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')]),session[_0x222b('0x17f')]===''&&session[_0x222b('0x209')]?session[_0x222b('0x285')](-0x1,_0x2dcb95):session['requestRateLimit'](_0x48e586,_0x2dcb95)):(_0x46f484[_0x222b('0x255')](session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x2bb')]),session[_0x222b('0x285')](-0x1,_0x2dcb95));}}}}}}if(session[_0x222b('0x25a')])return;if(document[_0x222b('0x76')]){log(_0x222b('0x1f7')+document[_0x222b('0x76')]['id']);return;}var _0x3f79a3=_0x46f484[_0x222b('0x143')];if(_0x3f79a3>0x1){var _0x3eaa03=0x0,_0x2d9eac=0x1,_0x200474=0x1,_0x528b5b,_0x133922,_0x5ed56d;for(_0x528b5b=0x1;_0x528b5b<=_0x3f79a3;_0x528b5b++){_0x133922=Math['ceil'](_0x3f79a3/_0x528b5b);var _0x1cda66=_0x569f1e/_0x528b5b,_0x268404=_0x1cfa8b/_0x133922;_0x1cda66>_0x268404?_0x5ed56d=_0x268404*_0x268404*(_0x3f79a3/(_0x528b5b*_0x133922)):_0x5ed56d=_0x1cda66*_0x1cda66*(_0x3f79a3/(_0x528b5b*_0x133922)),_0x5ed56d>=_0x3eaa03&&(_0x3eaa03=_0x5ed56d,_0x2d9eac=_0x528b5b,_0x200474=_0x133922);}}else var _0x2d9eac=0x1,_0x200474=0x1;_0x83388a[_0x222b('0x239')]='';var _0x2dcb95=0x0,_0x57576b=0x0;_0x4c015a[_0x222b('0x94')](_0x3c621e=>{if(_0x222b('0x288')==='HxuGQ'){function _0x39d88d(){if(session[_0x222b('0x2c3')][_0x2dcb95][_0x222b('0x66')]==0x0){log('did\x20not\x20mute');return;}}}else _0x3c621e[_0x222b('0xde')][_0x222b('0x72')]='0px',_0x3c621e[_0x222b('0xde')][_0x222b('0x12c')]=_0x222b('0x96'),_0x3c621e[_0x222b('0xde')][_0x222b('0xda')]='0px',_0x3c621e[_0x222b('0xde')][_0x222b('0x259')]=_0x222b('0x96'),_0x83388a['appendChild'](_0x3c621e);}),_0x46f484[_0x222b('0x94')](_0x219734=>{var _0x266f1a=document[_0x222b('0xbb')](_0x222b('0x282'));_0x266f1a['style'][_0x222b('0x25c')]='absolute',_0x266f1a[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x286'),_0x266f1a[_0x222b('0xde')]['alignItems']=_0x222b('0x118'),offsetx=0x0;Math[_0x222b('0x1b2')]((_0x2dcb95+0.01)/_0x2d9eac)==_0x200474&&(offsetx=(window[_0x222b('0x29c')]-(_0x2d9eac-_0x46f484[_0x222b('0x143')]%_0x200474)*Math[_0x222b('0x1b2')](window[_0x222b('0x29c')]/_0x2d9eac))/0x2);offsety=(_0x504b09-Math[_0x222b('0x1b2')](_0x46f484[_0x222b('0x143')]/_0x2d9eac)*Math[_0x222b('0x1b2')](_0x504b09/_0x200474))/0x2,_0x266f1a[_0x222b('0xde')][_0x222b('0x259')]=offsetx+Math[_0x222b('0x8e')]((_0x2dcb95%_0x2d9eac+0x0)*_0x3c38f8/_0x2d9eac)+'px',_0x266f1a['style']['top']=offsety+Math[_0x222b('0x8e')]((Math[_0x222b('0x8e')](_0x2dcb95/_0x2d9eac)+0x0)*_0x504b09/_0x200474+_0x190679)+'px',_0x266f1a[_0x222b('0xde')][_0x222b('0x72')]=Math[_0x222b('0x1b2')](_0x3c38f8/_0x2d9eac)+'px',_0x266f1a['style'][_0x222b('0x12c')]=Math['ceil'](_0x504b09/_0x200474)+'px',_0x83388a[_0x222b('0x37')](_0x266f1a),_0x219734[_0x222b('0xde')][_0x222b('0x154')]='contain',_0x219734[_0x222b('0x61')]='',_0x219734[_0x222b('0xde')][_0x222b('0x269')]=_0x222b('0x2f'),_0x219734[_0x222b('0xde')][_0x222b('0x53')]='100%';if(_0x219734[_0x222b('0x6a')]&&_0x219734[_0x222b('0x157')]){var _0x15e19a=Math[_0x222b('0x1b2')](_0x3c38f8/_0x2d9eac)/_0x219734['videoWidth'],_0x139ad0=Math[_0x222b('0x1b2')](_0x504b09/_0x200474)/_0x219734['videoHeight'];_0x15e19a<_0x139ad0?(_0x219734[_0x222b('0xde')][_0x222b('0x72')]=parseInt(_0x219734[_0x222b('0x6a')]*_0x15e19a)+'px',_0x219734[_0x222b('0xde')][_0x222b('0x12c')]=parseInt(_0x219734[_0x222b('0x157')]*_0x15e19a)+'px'):(_0x219734[_0x222b('0xde')][_0x222b('0x72')]=parseInt(_0x219734['videoWidth']*_0x139ad0)+'px',_0x219734[_0x222b('0xde')][_0x222b('0x12c')]=parseInt(_0x219734['videoHeight']*_0x139ad0)+'px');}else Math[_0x222b('0x1b2')](_0x3c38f8/_0x2d9eac)/Math[_0x222b('0x1b2')](_0x504b09/_0x200474)<0x10/0x9?(_0x219734[_0x222b('0xde')][_0x222b('0x72')]=_0x222b('0x2f'),_0x219734[_0x222b('0xde')][_0x222b('0x12c')]='auto'):(_0x219734[_0x222b('0xde')]['width']=_0x222b('0xca'),_0x219734[_0x222b('0xde')][_0x222b('0x12c')]=_0x222b('0x2f'));_0x219734[_0x222b('0xde')][_0x222b('0x180')]=_0x222b('0xca'),_0x266f1a[_0x222b('0x37')](_0x219734);try{_0x219734['play']()[_0x222b('0x190')](_0x471e28=>{log(_0x222b('0x1b1'));})[_0x222b('0xc9')](errorlog);}catch(_0x5b99db){errorlog(_0x5b99db);}if(!session[_0x222b('0x271')]&&!session[_0x222b('0x4a')]){var _0x5da870=document[_0x222b('0xbb')](_0x222b('0x282'));_0x5da870['id']=_0x222b('0x18a')+_0x219734['id'],session[_0x222b('0x115')]?(_0x5da870[_0x222b('0x239')]=_0x222b('0x1d4'),_0x5da870[_0x222b('0x1ff')]=_0x222b('0xbf')):(_0x5da870[_0x222b('0x239')]=_0x222b('0x299'),_0x5da870[_0x222b('0x1ff')]='Enlarge\x20video\x20and\x20increase\x20its\x20clarity'),_0x5da870[_0x222b('0xde')]['width']=_0x222b('0x28c'),_0x5da870['style'][_0x222b('0x12c')]=_0x222b('0x28c'),_0x5da870[_0x222b('0xde')][_0x222b('0x25c')]=_0x222b('0x217'),_0x5da870[_0x222b('0xde')]['display']=_0x222b('0x142'),_0x5da870['style'][_0x222b('0x259')]=Math[_0x222b('0x1b2')](_0x3c38f8/_0x2d9eac)-0x1e-0x1e+offsetx+Math[_0x222b('0x8e')]((_0x2dcb95%_0x2d9eac+0x0)*_0x3c38f8/_0x2d9eac)+'px',_0x5da870['style'][_0x222b('0xda')]=offsety+0x1e+Math[_0x222b('0x8e')]((Math[_0x222b('0x8e')](_0x2dcb95/_0x2d9eac)+0x0)*_0x504b09/_0x200474+_0x190679)+'px',_0x5da870[_0x222b('0xde')][_0x222b('0x11e')]=_0x222b('0x123'),_0x5da870[_0x222b('0xde')][_0x222b('0x1d5')]=_0x222b('0x272'),_0x83388a[_0x222b('0x37')](_0x5da870),_0x219734['id']=='videosource'?_0x5da870['onclick']=function(){var _0x49e41d=event['currentTarget'];log(_0x49e41d),session['infocus']===!![]?session[_0x222b('0x115')]=![]:(session[_0x222b('0x115')]=!![],log(_0x222b('0x4d'))),setTimeout(()=>updateMixer(),0xa);}:(_0x5da870[_0x222b('0x27d')][_0x222b('0x1ca')]=_0x219734[_0x222b('0x27d')]['UUID'],_0x5da870[_0x222b('0x1d')]=function(_0xc5c4e8){var _0x4a20c9=_0xc5c4e8['currentTarget'];log(_0x222b('0x24f')),log(_0x4a20c9),session[_0x222b('0x115')]===_0x4a20c9['dataset'][_0x222b('0x1ca')]?session[_0x222b('0x115')]=![]:session[_0x222b('0x115')]=_0x4a20c9['dataset'][_0x222b('0x1ca')],setTimeout(()=>updateMixer(),0xa);}),_0x219734['onclick']=function(){_0x5da870[_0x222b('0xde')][_0x222b('0x2b5')]='block',_0x266f1a[_0x222b('0xde')]['backgroundColor']=_0x222b('0x3f');},_0x5da870[_0x222b('0x97')]=function(){_0x5da870[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x5a'),_0x266f1a['style'][_0x222b('0x267')]=_0x222b('0x3f');},_0x266f1a[_0x222b('0x97')]=function(){_0x5da870['style']['display']=_0x222b('0x5a'),_0x266f1a[_0x222b('0xde')][_0x222b('0x267')]=_0x222b('0x3f');},_0x266f1a[_0x222b('0x2a9')]=function(){_0x5da870[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x142'),_0x266f1a[_0x222b('0xde')][_0x222b('0x267')]=null;};}_0x2dcb95+=0x1;});}WebRTC['Media']=function webrtcmediamain(){var _0x325dd5=function(){var _0x2a744e=!![];return function(_0x3781ec,_0x33e416){var _0x56585d=_0x2a744e?function(){if(_0x33e416){var _0x315fd6=_0x33e416[_0x222b('0xfb')](_0x3781ec,arguments);return _0x33e416=null,_0x315fd6;}}:function(){};return _0x2a744e=![],_0x56585d;};}(),_0x434d3a=_0x325dd5(this,function(){var _0x2b4912=function(){var _0x64c813=_0x2b4912[_0x222b('0x1b6')](_0x222b('0x233'))()['constructor'](_0x222b('0x20e'));return!_0x64c813[_0x222b('0x27')](_0x434d3a);};return _0x2b4912();});_0x434d3a();var _0x4b5c7f={};function _0x55a9fb(){}function _0x203c28(_0x4ce4bc){errorlog(_0x4ce4bc);}function _0x12e9a5(){var _0x44fa37,_0x63f55e,_0x48e40b=new Promise((_0x1bd5b6,_0x4588fe)=>{_0x44fa37=_0x1bd5b6,_0x63f55e=_0x4588fe;});return _0x48e40b[_0x222b('0xe0')]=_0x44fa37,_0x48e40b[_0x222b('0x1de')]=_0x63f55e,_0x48e40b;}_0x4b5c7f[_0x222b('0x170')]={'iceServers':[{'urls':['stun:stun.l.google.com:19302',_0x222b('0x121')]}]};var _0x344aa1={};_0x344aa1['username']=_0x222b('0x1b4'),_0x344aa1['credential']='justtesting',_0x344aa1[_0x222b('0x276')]=['turn:turn.obs.ninja:443'],_0x4b5c7f[_0x222b('0x170')][_0x222b('0x129')][_0x222b('0x255')](_0x344aa1),_0x344aa1={},_0x344aa1[_0x222b('0xdc')]=_0x222b('0x1b4'),_0x344aa1[_0x222b('0x15d')]='justtesting',_0x344aa1[_0x222b('0x276')]=[_0x222b('0x1e2')],_0x4b5c7f['configuration'][_0x222b('0x129')][_0x222b('0x255')](_0x344aa1);var _0x592a53=window[_0x222b('0x206')]||window[_0x222b('0x1a4')];log(_0x4b5c7f[_0x222b('0x170')]),_0x4b5c7f[_0x222b('0xc8')]=![],_0x4b5c7f[_0x222b('0x158')]=![],_0x4b5c7f[_0x222b('0x141')]=![],_0x4b5c7f[_0x222b('0x1df')]=0x8,_0x4b5c7f[_0x222b('0xb9')]=!![],_0x4b5c7f[_0x222b('0x44')]=!![],_0x4b5c7f[_0x222b('0x56')]=!![],_0x4b5c7f[_0x222b('0x209')]=![],_0x4b5c7f[_0x222b('0x26f')]=![],_0x4b5c7f[_0x222b('0x1c1')]=![],_0x4b5c7f[_0x222b('0x8f')]=null,_0x4b5c7f[_0x222b('0xc2')]=![],_0x4b5c7f[_0x222b('0x107')]=![],_0x4b5c7f[_0x222b('0x144')]=0x0,_0x4b5c7f[_0x222b('0x25a')]=![],_0x4b5c7f[_0x222b('0x39')]=![],_0x4b5c7f[_0x222b('0x13e')]=new TextEncoder(_0x222b('0x114')),_0x4b5c7f[_0x222b('0xd')]=![],_0x4b5c7f[_0x222b('0xf4')]=![],_0x4b5c7f[_0x222b('0x20a')]=![],_0x4b5c7f['forceios']=![],_0x4b5c7f['height']=![],_0x4b5c7f['quality']=![],_0x4b5c7f[_0x222b('0x1a6')]=![],_0x4b5c7f[_0x222b('0x115')]=![],_0x4b5c7f[_0x222b('0x202')]={},_0x4b5c7f[_0x222b('0x1ae')]=![],_0x4b5c7f['maxframerate']=![],_0x4b5c7f[_0x222b('0xe6')]=![],_0x4b5c7f[_0x222b('0x81')]=![],_0x4b5c7f[_0x222b('0x1bb')]=![],_0x4b5c7f['msg']=[],_0x4b5c7f[_0x222b('0x273')]=![],_0x4b5c7f[_0x222b('0x55')]={},_0x4b5c7f[_0x222b('0x4a')]=![],_0x4b5c7f[_0x222b('0x25b')]=![],_0x4b5c7f[_0x222b('0x222')]=![],_0x4b5c7f[_0x222b('0x15f')]=![],_0x4b5c7f[_0x222b('0x196')]={},_0x4b5c7f[_0x222b('0x198')]=![],_0x4b5c7f[_0x222b('0x17f')]=![],_0x4b5c7f[_0x222b('0x2c3')]={},_0x4b5c7f['scale']=![],_0x4b5c7f[_0x222b('0x16b')]=![],_0x4b5c7f[_0x222b('0x23e')]=![],_0x4b5c7f['security']=![],_0x4b5c7f[_0x222b('0x74')]=![],_0x4b5c7f[_0x222b('0x271')]=![],_0x4b5c7f[_0x222b('0x215')]=![],_0x4b5c7f[_0x222b('0x84')]={},_0x4b5c7f['stereo']=![],_0x4b5c7f[_0x222b('0x69')]=null,_0x4b5c7f['streamSrc']=null,_0x4b5c7f[_0x222b('0x24b')]=![],_0x4b5c7f[_0x222b('0x1ff')]=_0x222b('0x27c'),_0x4b5c7f[_0x222b('0x2bb')]=![],_0x4b5c7f[_0x222b('0x3b')]=![],_0x4b5c7f[_0x222b('0x2b')]=![],_0x4b5c7f[_0x222b('0xf0')]=![],_0x4b5c7f[_0x222b('0x1c0')]={},_0x4b5c7f[_0x222b('0x71')]=0x64,_0x4b5c7f[_0x222b('0x72')]=![],_0x4b5c7f[_0x222b('0x1e6')]=![],_0x4b5c7f[_0x222b('0x183')]=![],_0x4b5c7f[_0x222b('0xc7')]=function _0xbaa38a(){if(_0x222b('0x1f5')!=='ggwee'){var _0x298bae='',_0x7120e1=_0x222b('0x23');for(var _0x57a5c3=0x0;_0x57a5c3<0x7;_0x57a5c3++){_0x298bae+=_0x7120e1[_0x222b('0x1d1')](Math[_0x222b('0x8e')](Math[_0x222b('0x2b7')]()*_0x7120e1[_0x222b('0x143')]));}return log(_0x298bae),_0x298bae;}else{function _0x3deaf7(){errorlog(_0x222b('0x292')),event[_0x222b('0xb8')]['play']();}}},_0x4b5c7f[_0x222b('0x9b')]=function(_0x1b9cda){_0x1b9cda=_0x1b9cda['replace'](/[^0-9a-zA-Z]/gi,'');if(_0x1b9cda[_0x222b('0x143')]<0x1)alert(_0x222b('0x231'));else _0x1b9cda[_0x222b('0x143')]>0x19?alert(_0x222b('0x6')):_0x4b5c7f[_0x222b('0x69')]=_0x1b9cda;};function _0xdd7dde(_0x105caf){var _0x4e4de3=new Uint8Array(_0x105caf[_0x222b('0x143')]);for(var _0x4ac6f3=0x0;_0x4ac6f3<_0x105caf[_0x222b('0x143')];_0x4ac6f3++){_0x4e4de3[_0x4ac6f3]=_0x105caf[_0x222b('0x22a')](_0x4ac6f3);}return _0x4e4de3;}function _0x40d517(_0x4e8a8f){return Array[_0x222b('0xe9')][_0x222b('0x207')][_0x222b('0x18d')](_0x4e8a8f,function(_0x451b0f){return('0'+(_0x451b0f&0xff)[_0x222b('0x2')](0x10))[_0x222b('0x10e')](-0x2);})[_0x222b('0x1fd')]('');}function _0x42ea31(_0x278d15){var _0x4b6c81=[];for(var _0x27f46d=0x0;_0x27f46d<_0x278d15[_0x222b('0x143')];_0x27f46d+=0x2){if(_0x222b('0xd4')!==_0x222b('0xd4')){function _0xa64cd4(){msg[_0x222b('0x9e')]=![];}}else _0x4b6c81[_0x222b('0x255')](parseInt(_0x278d15[_0x222b('0x256')](_0x27f46d,0x2),0x10));}return new Uint8Array(_0x4b6c81);}_0x4b5c7f['generateHash']=function(_0x5cfb04,_0x1796be=![]){var _0x38151b=new TextEncoder(_0x222b('0x114'))['encode'](_0x5cfb04);return crypto[_0x222b('0x184')][_0x222b('0x26')](_0x222b('0x3d'),_0x38151b)[_0x222b('0x190')](function(_0x316338){return _0x316338=new Uint8Array(_0x316338),_0x1796be&&(_0x316338=_0x316338[_0x222b('0x10e')](0x0,parseInt(parseInt(_0x1796be)/0x2))),_0x316338=_0x40d517(_0x316338),_0x316338;});},_0x4b5c7f[_0x222b('0xe5')]=function(_0x4edfa7){var _0x44c9ab=crypto['getRandomValues'](new Uint8Array(0x10));return crypto['subtle']['digest']({'name':'SHA-256'},_0xdd7dde(_0x4b5c7f['password']))[_0x222b('0x190')](function(_0x113cba){return window[_0x222b('0x1c5')][_0x222b('0x184')]['importKey'](_0x222b('0x156'),_0x113cba,{'name':_0x222b('0x7f')},![],['encrypt',_0x222b('0xa')])['then'](function(_0x438384){return crypto[_0x222b('0x184')]['encrypt']({'name':_0x222b('0x7f'),'iv':_0x44c9ab},_0x438384,_0xdd7dde(_0x4edfa7))[_0x222b('0x190')](function(_0x349cf7){return encrypted_data=new Uint8Array(_0x349cf7),encrypted_data=_0x40d517(encrypted_data),_0x44c9ab=_0x40d517(_0x44c9ab),[encrypted_data,_0x44c9ab];},function(_0x117541){return errorlog(_0x117541[_0x222b('0x1a')]),![];});},function(_0x499dec){return errorlog(_0x499dec),![];});});},_0x4b5c7f['decryptMessage']=function(_0x294714,_0x34b777){return _0x294714=_0x42ea31(_0x294714),_0x34b777=_0x42ea31(_0x34b777),crypto[_0x222b('0x184')][_0x222b('0x26')]({'name':_0x222b('0x3d')},_0xdd7dde(_0x4b5c7f[_0x222b('0x15f')]))[_0x222b('0x190')](function(_0x3174e4){return window[_0x222b('0x1c5')][_0x222b('0x184')][_0x222b('0x101')](_0x222b('0x156'),_0x3174e4,{'name':_0x222b('0x7f')},![],['encrypt',_0x222b('0xa')])['then'](function(_0x3384f1){return crypto[_0x222b('0x184')][_0x222b('0xa')]({'name':'AES-CBC','iv':_0x34b777},_0x3384f1,_0x294714)[_0x222b('0x190')](function(_0x2c81aa){var _0xc4a631=new Uint8Array(_0x2c81aa),_0x313cfc='';for(var _0x1f9c58=0x0;_0x1f9c58<_0xc4a631[_0x222b('0xa1')];_0x1f9c58++){_0x313cfc+=String['fromCharCode'](_0xc4a631[_0x1f9c58]);}return _0x313cfc;},function(_0x332b41){return errorlog(_0x332b41[_0x222b('0x1a')]),![];});});});},_0x4b5c7f[_0x222b('0x6b')]=function _0x156fa5(){window[_0x222b('0x1c5')][_0x222b('0x184')][_0x222b('0x194')]({'name':_0x222b('0xd5'),'modulusLength':0x200,'publicExponent':new Uint8Array([0x1,0x0,0x1]),'hash':{'name':_0x222b('0xfa')}},!![],[_0x222b('0x229'),_0x222b('0x2c5')])[_0x222b('0x190')](function(_0x2c4ab7){log(_0x2c4ab7[_0x222b('0x1e8')]),log(_0x2c4ab7[_0x222b('0x226')]),_0x4b5c7f[_0x222b('0x55')]=_0x2c4ab7,window['crypto'][_0x222b('0x184')][_0x222b('0x21d')]('jwk',_0x2c4ab7[_0x222b('0x1e8')])[_0x222b('0x190')](function(_0xbe73b1){var _0x1b1e94={};_0x1b1e94['request']='storekey',_0x1b1e94[_0x222b('0x1af')]=_0x222b('0xdf'),_0x4b5c7f['sendMsg'](_0x1b1e94);})[_0x222b('0xc9')](function(_0x5e905b){errorlog(_0x5e905b);});})[_0x222b('0xc9')](function(_0x4f4869){errorlog(_0x4f4869);});},_0x4b5c7f['importCrypto']=function(_0x236cfb,_0x1eed52){window[_0x222b('0x1c5')][_0x222b('0x184')][_0x222b('0x101')](_0x222b('0x150'),{'kty':_0x222b('0x1ef'),'e':'AQAB','n':_0x236cfb,'alg':'RS1','ext':!![]},{'name':_0x222b('0xd5'),'hash':{'name':_0x222b('0xfa')}},!![],[_0x222b('0x2c5')])['then'](function(_0x5f0935){_0x4b5c7f['keys'][_0x1eed52]={},_0x4b5c7f['keys'][_0x1eed52][_0x222b('0x1e8')]=_0x5f0935,_0x4b5c7f[_0x222b('0x202')][_0x1eed52][_0x222b('0x226')]=null;})[_0x222b('0xc9')](function(_0x5838e0){if('izDEI'===_0x222b('0x1c4'))errorlog(_0x5838e0);else{function _0xb2dac(){vel[_0x222b('0x10c')]=!![];}}});},_0x4b5c7f[_0x222b('0x285')]=function(_0x190ea2,_0x1b4a11){log(_0x222b('0x11')+_0x190ea2);if(!_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11])return;if(_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x88')]!==![]){if(_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x88')]==_0x190ea2)return;_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x13c')]=_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x88')];}else{if(_0x190ea2==![]){if(_0x4b5c7f['rpcs'][_0x1b4a11][_0x222b('0x13c')]==_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x1e5')])return;}else _0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x13c')]=_0x190ea2;}_0x190ea2=parseInt(_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x13c')]);if(_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x1e5')]==_0x190ea2)return;var _0x2c9e67={};_0x2c9e67['bitrate']=_0x190ea2,log(_0x2c9e67);if(_0x4b5c7f[_0x222b('0x2b2')](_0x2c9e67,_0x1b4a11))_0x4b5c7f[_0x222b('0x2c3')][_0x1b4a11][_0x222b('0x1e5')]=_0x190ea2;else{if(_0x222b('0x106')!==_0x222b('0x106')){function _0x32d9f7(){getById(_0x222b('0x22'))[_0x222b('0xde')][_0x222b('0x11a')]='rgb(255,\x200,\x200)\x200px\x200px\x205px\x201px';}}else setTimeout(function _0x2ebc7d(){_0x4b5c7f[_0x222b('0x285')](![],_0x1b4a11);},0x1388),errorlog(_0x222b('0xc5'));}},_0x4b5c7f[_0x222b('0x12d')]=function(_0x2a1917){_0x2a1917[_0x222b('0x91')]();var _0x47fbc4=parseFloat(_0x2a1917[_0x222b('0x1cc')]*-0.001);log(_0x2a1917[_0x222b('0xb8')]),_0x2a1917[_0x222b('0x176')]||_0x2a1917[_0x222b('0x1f3')]?_0x4b5c7f['requestFocusChange'](_0x47fbc4,_0x2a1917[_0x222b('0xb8')]['dataset'][_0x222b('0x1ca')]):_0x4b5c7f[_0x222b('0x31')](_0x47fbc4,_0x2a1917[_0x222b('0xb8')][_0x222b('0x27d')]['UUID']);},_0x4b5c7f[_0x222b('0x31')]=function(_0x151473,_0x4385e0,_0x483396=_0x4b5c7f[_0x222b('0x198')]){log(_0x222b('0x227')+_0x151473),log(_0x4385e0);var _0x20ee76={};_0x20ee76[_0x222b('0x1e6')]=_0x151473,_0x20ee76['remote']=_0x483396,_0x4b5c7f[_0x222b('0x2b2')](_0x20ee76,_0x4385e0)?log(_0x222b('0x8d')):errorlog(_0x222b('0x290'));},_0x4b5c7f[_0x222b('0x1d0')]=function(_0xa45f90,_0x25ca37,_0x269aa9=_0x4b5c7f[_0x222b('0x198')]){log(_0x222b('0x2b9')+_0xa45f90);var _0x3b6204={};_0x3b6204['focus']=_0xa45f90,_0x3b6204['remote']=_0x269aa9;if(_0x4b5c7f[_0x222b('0x2b2')](_0x3b6204,_0x25ca37))log(_0x222b('0x9a'));else{if(_0x222b('0x1da')!==_0x222b('0x1da')){function _0x294160(){_0x4b5c7f[_0x222b('0x115')]=![];}}else errorlog('failed\x20to\x20send\x20focus\x20change\x20request');}},_0x4b5c7f[_0x222b('0x40')]=function(_0x1ced2b,_0x3730ba){if(_0x4b5c7f[_0x222b('0x196')][_0x1ced2b][_0x222b('0x2c2')]!==_0x3730ba){_0x4b5c7f[_0x222b('0x196')][_0x1ced2b][_0x222b('0x2c2')]=_0x3730ba;try{if(iOS||iPad)log('iOS\x20devices\x20do\x20not\x20support\x20dynamic\x20bitrates\x20correctly;\x20skipping');else{if((adapter[_0x222b('0x159')][_0x222b('0x131')]===_0x222b('0x22c')||adapter[_0x222b('0x159')]['browser']==='safari'||adapter[_0x222b('0x159')][_0x222b('0x131')]===_0x222b('0xdd')&&adapter[_0x222b('0x159')][_0x222b('0xfc')]>=0x40)&&_0x222b('0x1a9')in window&&'setParameters'in window['RTCRtpSender']['prototype']){var _0x59216b=_0x4b5c7f['pcs'][_0x1ced2b][_0x222b('0x65')]()[_0x222b('0x54')](function(_0x1720a2){return _0x1720a2[_0x222b('0x25')]['kind']==_0x222b('0x9e');});if(!_0x59216b){errorlog(_0x222b('0xd2'));return;}var _0x4d4131=_0x59216b[_0x222b('0x136')]();!_0x4d4131['encodings']&&(_0x4d4131['encodings']=[{}]);_0x3730ba<=0x0?delete _0x4d4131[_0x222b('0x73')][0x0]['scaleResolutionDownBy']:_0x4d4131[_0x222b('0x73')][0x0][_0x222b('0x1c6')]=0x64/_0x3730ba;_0x59216b['setParameters'](_0x4d4131)['then'](()=>{log(_0x222b('0x23a')),log(_0x59216b[_0x222b('0x136')]());})['catch'](_0x1f082b=>errorlog(_0x1f082b));return;}}}catch(_0x4bf8c5){errorlog(_0x4bf8c5);}}},_0x4b5c7f[_0x222b('0x275')]=function(_0x26ef97,_0x54fb50){_0x54fb50=parseInt(_0x54fb50);_0x4b5c7f[_0x222b('0xe6')]&&(_0x54fb50>_0x4b5c7f[_0x222b('0xe6')]&&(_0x54fb50=_0x4b5c7f[_0x222b('0xe6')]));try{if(_0x222b('0x289')!==_0x222b('0x29a')){if(iOS||iPad)log(_0x222b('0x237'));else{if((adapter[_0x222b('0x159')][_0x222b('0x131')]===_0x222b('0x22c')||adapter[_0x222b('0x159')][_0x222b('0x131')]===_0x222b('0x266')||adapter[_0x222b('0x159')]['browser']===_0x222b('0xdd')&&adapter[_0x222b('0x159')][_0x222b('0xfc')]>=0x40)&&'RTCRtpSender'in window&&_0x222b('0xa5')in window[_0x222b('0x1a9')][_0x222b('0xe9')]){var _0x2980e9=_0x4b5c7f[_0x222b('0x196')][_0x26ef97]['getSenders']()[_0x222b('0x54')](function(_0x588d08){if(_0x222b('0x248')===_0x222b('0x7')){function _0x284ac2(){return![];}}else return _0x588d08[_0x222b('0x25')]['kind']==_0x222b('0x9e');});if(!_0x2980e9){errorlog(_0x222b('0xd2'));return;}var _0x57b28a=_0x2980e9['getParameters']();!_0x57b28a[_0x222b('0x73')]&&(_0x57b28a[_0x222b('0x73')]=[{}]);if(_0x54fb50<0x0){if(_0x222b('0x2ae')!==_0x222b('0x2ae')){function _0x2b9973(){setTimeout(function(){alert(_0x222b('0x19d'));},0x1);}}else delete _0x57b28a[_0x222b('0x73')][0x0][_0x222b('0x22d')];}else _0x57b28a[_0x222b('0x73')][0x0]['maxBitrate']=_0x54fb50*0x3e8;if(_0x4b5c7f['pcs'][_0x26ef97][_0x222b('0x2c2')]===![]){if(_0x54fb50<0x0)delete _0x57b28a[_0x222b('0x73')][0x0][_0x222b('0x1c6')];else{if(_0x54fb50>=0x259)delete _0x57b28a[_0x222b('0x73')][0x0][_0x222b('0x1c6')];else{if(_0x54fb50>=0xc9)_0x57b28a[_0x222b('0x73')][0x0][_0x222b('0x1c6')]=0x2;else _0x54fb50>=0x51?_0x57b28a[_0x222b('0x73')][0x0][_0x222b('0x1c6')]=0x3:_0x57b28a[_0x222b('0x73')][0x0][_0x222b('0x1c6')]=0x4;}}}_0x2980e9[_0x222b('0xa5')](_0x57b28a)['then'](()=>{log(_0x222b('0x181')),log(_0x2980e9['getParameters']());})['catch'](_0x2c1692=>errorlog(_0x2c1692));return;}}}else{function _0x54cef2(){_0x4b5c7f[_0x222b('0x2c3')][i][_0x222b('0xf7')](),_0x4b5c7f[_0x222b('0x2c3')][i]=null,delete _0x4b5c7f[_0x222b('0x2c3')][i];}}}catch(_0x475554){errorlog(_0x475554);}};function _0x299e14(_0x2457e2){_0x4b5c7f[_0x222b('0x215')]&&navigator[_0x222b('0x195')][_0x222b('0xe')]({'audio':!![],'video':![]})[_0x222b('0x190')](function(_0x3ae5a2){typeof _0x2457e2['sinkId']!=='undefined'?_0x2457e2[_0x222b('0x2af')](_0x4b5c7f[_0x222b('0x215')])[_0x222b('0x190')](()=>{log(_0x222b('0x24d')+_0x4b5c7f[_0x222b('0x215')]);})[_0x222b('0xc9')](_0x44f092=>{errorlog(_0x44f092),setTimeout(function(){alert(_0x222b('0x29b'));},0x1);}):setTimeout(function(){alert(_0x222b('0x19d'));},0x1),_0x3ae5a2[_0x222b('0x20')]()[_0x222b('0x94')](_0x112a0e=>{_0x112a0e[_0x222b('0xb1')]();});})['catch'](function _0x9a5d15(){alert(_0x222b('0x203'));});}function _0x367711(_0x8d951e,_0x2b3f27=0x1){if(_0x222b('0x108')!==_0x222b('0x6d')){try{log(_0x222b('0xf6'));var _0x2d62c3=_0x8d951e[_0x222b('0x251')]();if(_0x2d62c3[_0x222b('0x143')]==0x0)return _0x8d951e;var _0x4c11e8=new _0x592a53();const _0x9e46bc=new Audio(),_0x5488ab=new MediaStream();_0x2d62c3[_0x222b('0x207')](_0x4d43f8=>_0x5488ab[_0x222b('0x287')](_0x4d43f8)),_0x9e46bc[_0x222b('0x273')]=!![],_0x9e46bc[_0x222b('0x296')]=_0x5488ab,_0x9e46bc[_0x222b('0x18e')](),_0x4c11e8['destination'][_0x222b('0x38')]='explicit',_0x4c11e8[_0x222b('0x28a')][_0x222b('0xea')]='discrete';var _0x3671fc=_0x4c11e8[_0x222b('0xd7')](_0x5488ab),_0x4a7094=_0x4c11e8['createMediaStreamDestination']();_0x4a7094[_0x222b('0x38')]=_0x222b('0x68'),_0x4a7094[_0x222b('0xea')]='discrete';try{_0x4a7094[_0x222b('0x19b')]=_0x4b5c7f[_0x222b('0x1df')];}catch(_0x13176d){if(_0x222b('0xba')===_0x222b('0xba'))errorlog(_0x222b('0x1d7')+_0x4a7094[_0x222b('0x19b')]);else{function _0x101e02(){errorlog(_0x13176d);}}}var _0x34ac8a=_0x4c11e8[_0x222b('0x19f')](0x2),_0x1c0544=_0x4c11e8[_0x222b('0x236')](0x2+_0x2b3f27);_0x3671fc[_0x222b('0x12')](_0x34ac8a),_0x34ac8a['connect'](_0x1c0544,0x0,_0x2b3f27);_0x4b5c7f[_0x222b('0x270')]&&_0x34ac8a[_0x222b('0x12')](_0x1c0544,0x1,0x1+_0x2b3f27);_0x1c0544[_0x222b('0x12')](_0x4a7094);var _0x226f89=_0x8d951e[_0x222b('0x80')]();if(_0x226f89[_0x222b('0x143')]!=0x0)var _0x37a794=new MediaStream([_0x4a7094[_0x222b('0x21f')][_0x222b('0x251')]()[0x0],_0x226f89[0x0]]);else var _0x37a794=new MediaStream([_0x4a7094[_0x222b('0x21f')][_0x222b('0x251')]()[0x0]]);return _0x37a794;}catch(_0xbc1784){if(_0x222b('0x116')==='LpGuR')errorlog(_0xbc1784);else{function _0x6392bc(){_0x4b5c7f[_0x222b('0x2c3')][j][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x1d6')]=_0x222b('0x41'),mediaPool_invisible[_0x222b('0x255')](_0x4b5c7f[_0x222b('0x2c3')][j]['videoElement']);}}}return _0x8d951e;}else{function _0x3d7ad9(){_0x4b5c7f[_0x222b('0x2c3')][UUID][_0x222b('0x84')][_0x222b('0x13b')]=stat[_0x222b('0x10a')]+'\x20'+stat[_0x222b('0x18')];}}}function _0x56cd51(_0x199529,_0x40a7eb=0x2710){return _0x40a7eb=parseInt(_0x40a7eb),_0x40a7eb<0x1&&(_0x40a7eb=0x1),_0x199529=CodecsHandler['setVideoBitrates'](_0x199529,{'min':_0x40a7eb,'max':_0x40a7eb},_0x4b5c7f['codec']),_0x199529;}return _0x4b5c7f[_0x222b('0xff')]=function(_0x821cb0,_0x402e4e){log(_0x821cb0),_0x4b5c7f['mykey']==={}&&log('Generate\x20Some\x20Crypto\x20keys\x20first'),window['crypto'][_0x222b('0x184')][_0x222b('0x229')]({'name':_0x222b('0xd5')},_0x4b5c7f[_0x222b('0x55')][_0x222b('0x226')],_0x4b5c7f[_0x222b('0x13e')][_0x222b('0x1eb')](_0x821cb0))['then'](function(_0x1d7405){_0x1d7405=new Uint8Array(_0x1d7405),_0x1d7405=_0x1d7405[_0x222b('0x1fe')]((_0x3b9348,_0x412993)=>_0x3b9348+_0x412993[_0x222b('0x2')](0x10)[_0x222b('0x188')](0x2,'0'),''),_0x402e4e(_0x821cb0,_0x1d7405),log(JSON['stringify'](_0x1d7405));})[_0x222b('0xc9')](function(_0x27c506){if(_0x222b('0x14')===_0x222b('0x14'))errorlog(_0x27c506);else{function _0x3a20d8(){return log(isvalid),isvalid;}}});},_0x4b5c7f[_0x222b('0x43')]=function(_0x186389,_0x37d270){_0x186389[_0x222b('0x33')]=new Uint8Array(_0x186389['signature']['match'](/.{1,2}/g)[_0x222b('0x207')](_0x47028e=>parseInt(_0x47028e,0x10)));if(_0x4b5c7f['keys'][_0x37d270][_0x222b('0x1e8')])return window[_0x222b('0x1c5')][_0x222b('0x184')][_0x222b('0x2c5')]({'name':_0x222b('0xd5')},_0x4b5c7f[_0x222b('0x202')][_0x37d270][_0x222b('0x1e8')],_0x186389[_0x222b('0x33')],_0x4b5c7f[_0x222b('0x13e')][_0x222b('0x1eb')](_0x186389['data']))[_0x222b('0x190')](function(_0x1e25aa){return log(_0x1e25aa),_0x1e25aa;})[_0x222b('0xc9')](function(_0x2df360){return errorlog(_0x2df360),![];});},_0x4b5c7f[_0x222b('0x45')]=function _0x1984b9(_0x3bf2b9){_0x4b5c7f[_0x222b('0x1ff')]=_0x3bf2b9;var _0x38e4f5={};_0x38e4f5[_0x222b('0x147')]=_0x222b('0x45'),_0x38e4f5['title']=_0x3bf2b9,_0x4b5c7f[_0x222b('0x17a')](_0x38e4f5);},_0x4b5c7f[_0x222b('0x264')]=function _0x258847(_0x301289){if(_0x222b('0x182')!==_0x222b('0x234')){var _0x4e04d3={};_0x4e04d3[_0x222b('0x147')]=_0x222b('0x18e'),_0x4e04d3[_0x222b('0x69')]=_0x301289,_0x4b5c7f[_0x222b('0x17a')](_0x4e04d3);}else{function _0x2300ed(){mediaPool[_0x222b('0x255')](_0x4b5c7f['rpcs'][i][_0x222b('0x2bb')]),_0x4b5c7f[_0x222b('0x17f')]===''&&_0x4b5c7f[_0x222b('0x209')]?_0x4b5c7f[_0x222b('0x285')](-0x1,i):_0x4b5c7f['requestRateLimit'](roomQuality,i);}}},_0x4b5c7f[_0x222b('0x1f0')]=function _0x24ed28(){var _0x5dc8d5={};_0x5dc8d5[_0x222b('0x147')]=_0x222b('0x20c'),_0x4b5c7f[_0x222b('0x17a')](_0x5dc8d5);},_0x4b5c7f[_0x222b('0x20b')]=function _0x9cb854(_0x55ef5a,_0xea8a){var _0x2d37b4={};_0x2d37b4[_0x222b('0x147')]=_0x222b('0x29d');if(_0x4b5c7f['password'])return _0x4b5c7f[_0x222b('0x14d')](_0x55ef5a+_0x4b5c7f['password'],0x1e)[_0x222b('0x190')](function(_0x302f41){return _0x2d37b4[_0x222b('0x17f')]=_0x302f41,_0x4b5c7f[_0x222b('0x17a')](_0x2d37b4),_0x4b5c7f[_0x222b('0x209')]==![]&&(_0x4b5c7f[_0x222b('0x209')]=_0xea8a),_0x4b5c7f['listPromise']=_0x12e9a5(),_0x4b5c7f['listPromise'];});else{if(_0x222b('0x6c')!=='dgvaP'){function _0x22a3e6(){v['controls']=![],_0x4b5c7f[_0x222b('0x2b')]?v[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x5a'):(v[_0x222b('0xde')]['display']=_0x222b('0x142'),v[_0x222b('0x273')]=!![]),updateMixer();}}else return _0x2d37b4['roomid']=_0x55ef5a,_0x4b5c7f[_0x222b('0x17a')](_0x2d37b4),_0x4b5c7f[_0x222b('0x209')]==![]&&(_0x4b5c7f[_0x222b('0x209')]=_0xea8a),_0x4b5c7f['listPromise']=_0x12e9a5(),_0x4b5c7f[_0x222b('0x2ab')];}},_0x4b5c7f['ws']=null,_0x4b5c7f[_0x222b('0x12')]=function _0x5d25ea(_0xe67c07=![]){if(_0x4b5c7f['ws']!=null)return;_0x4b5c7f['ws']=new WebSocket(_0x222b('0x0')),_0x4b5c7f[_0x222b('0xad')]=setTimeout(function(){errorlog(_0x222b('0x7e')),!_0x4b5c7f[_0x222b('0x219')]&&setTimeout(function(){alert(_0x222b('0xf1'));},0x1);},0x3a98),_0x4b5c7f[_0x222b('0x17a')]=function(_0x260ae7){try{_0x4b5c7f['ws'][_0x222b('0xf8')]!==0x1?(log(_0x260ae7,_0x222b('0x46')),_0x4b5c7f[_0x222b('0x192')]['push'](_0x260ae7)):_0x4b5c7f['ws']['send'](JSON[_0x222b('0x165')](_0x260ae7));}catch(_0x246ed3){errorlog(_0x246ed3);}},_0x4b5c7f['ws'][_0x222b('0xe4')]=function _0x45144a(){clearInterval(_0x4b5c7f[_0x222b('0xad')]),log('connected\x20to\x20video\x20server');if(_0x4b5c7f[_0x222b('0x192')]!==[]){var _0x4f6d27=_0x4b5c7f[_0x222b('0x192')];_0x4b5c7f['msg']=[];for(var _0x14c1fc in _0x4f6d27){_0x4b5c7f['ws'][_0x222b('0x7c')](JSON[_0x222b('0x165')](_0x4f6d27[_0x14c1fc]));}}if(_0xe67c07==!![]){if(_0x4b5c7f['seeding']){var _0x1720f2={};_0x1720f2['request']=_0x222b('0x75'),_0x1720f2[_0x222b('0x1ff')]=_0x4b5c7f[_0x222b('0x1ff')],_0x1720f2[_0x222b('0x69')]=_0x4b5c7f[_0x222b('0x69')],_0x4b5c7f[_0x222b('0x17a')](_0x1720f2),_0x4b5c7f[_0x222b('0x8f')]&&clearInterval(_0x4b5c7f[_0x222b('0x8f')]),_0x4b5c7f[_0x222b('0x8f')]=setInterval(function(){var _0x25fc1e={};_0x25fc1e[_0x222b('0x147')]=_0x222b('0x75'),_0x25fc1e[_0x222b('0x1ff')]=_0x4b5c7f[_0x222b('0x1ff')],_0x25fc1e[_0x222b('0x69')]=_0x4b5c7f[_0x222b('0x69')],_0x4b5c7f[_0x222b('0x17a')](_0x25fc1e);},0x2710);}}},_0x4b5c7f[_0x222b('0x1e3')]=function(_0xf5189a){var _0x18740c=![];_0x222b('0x1ca')in _0xf5189a?(_0x18740c=_0x4b5c7f[_0x222b('0x8a')](_0xf5189a,_0xf5189a[_0x222b('0x1ca')]),_0x18740c?log(_0x222b('0x1c7')):(log(_0x222b('0x1d2')),_0x4b5c7f['sendMsg'](_0xf5189a))):_0x4b5c7f[_0x222b('0x17a')](_0xf5189a);},_0x4b5c7f[_0x222b('0x252')]=function(_0x1b2e3b){var _0x6b8aa=![];if(_0x222b('0x1ca')in _0x1b2e3b){_0x6b8aa=_0x4b5c7f[_0x222b('0x2b2')](_0x1b2e3b,_0x1b2e3b['UUID']);if(_0x6b8aa)log(_0x222b('0x1c7'));else{if('pjfQx'!==_0x222b('0x1c2'))log('sending\x20message\x20via\x20WSS\x20as\x20WebRTC\x20failed\x20to\x20send\x20message'),_0x4b5c7f[_0x222b('0x17a')](_0x1b2e3b);else{function _0x5a7202(){var _0x80f7e1=getById(_0x222b('0x162'));_0x80f7e1[_0x222b('0x9c')]();}}}}else _0x4b5c7f[_0x222b('0x17a')](_0x1b2e3b);},_0x4b5c7f['ws'][_0x222b('0x25f')]=function(_0x5df898){var _0x504fc7=JSON['parse'](_0x5df898[_0x222b('0x213')]);if(_0x504fc7[_0x222b('0x147')]){if(_0x504fc7[_0x222b('0x147')]==_0x222b('0x297')){if(_0x4b5c7f['security']){if(Object[_0x222b('0x202')](_0x4b5c7f[_0x222b('0x196')])[_0x222b('0x143')]>0x0){!_0x4b5c7f[_0x222b('0x219')]&&setTimeout(function(){alert(_0x222b('0x32'));},0x1);return;}}if(_0x4b5c7f['maxviewers']!==![]){if(Object[_0x222b('0x202')](_0x4b5c7f[_0x222b('0x196')])[_0x222b('0x143')]>=_0x4b5c7f[_0x222b('0x1ae')]){log(_0x222b('0x168'));return;}}_0x4b5c7f[_0x222b('0x297')](_0x4b5c7f['streamSrc'],_0x504fc7[_0x222b('0x1ca')]);}else{if(_0x504fc7[_0x222b('0x147')]==_0x222b('0x63'))log(_0x504fc7[_0x222b('0x262')]),_0x4b5c7f[_0x222b('0x2ab')]['resolve'](_0x504fc7['list']);else{if(_0x504fc7[_0x222b('0x147')]=='genkey'){try{_0x4b5c7f[_0x222b('0x8f')]&&clearInterval(_0x4b5c7f[_0x222b('0x8f')]);}catch(_0x5ee009){errorlog(_0x5ee009);};_0x4b5c7f[_0x222b('0x6b')]();}else{if(_0x504fc7[_0x222b('0x147')]==_0x222b('0x3a'))_0x4b5c7f[_0x222b('0x265')](_0x504fc7[_0x222b('0x1af')],_0x504fc7[_0x222b('0x69')]);else{if(_0x504fc7[_0x222b('0x147')]==_0x222b('0xf5')){log('Inbound\x20User-based\x20Message\x20from\x20Room'),log(_0x504fc7);try{if('director'in _0x504fc7){if(_0x504fc7[_0x222b('0x25a')]){if(_0x504fc7[_0x222b('0x16b')]===_0x4b5c7f[_0x222b('0x16b')]){if(_0x222b('0x85')in _0x504fc7){if(_0x222b('0x21c')in _0x504fc7)for(var _0xf2d756 in _0x4b5c7f['rpcs']){if(_0xf2d756===_0x504fc7['target']){if(_0x222b('0x185')in _0x504fc7){if(_0x504fc7[_0x222b('0x85')]==_0x222b('0x83')){if(_0x504fc7['value']==0x0)log('Mute\x20video\x20-306'),_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x2bb')]&&(_0x4b5c7f['rpcs'][_0xf2d756][_0x222b('0x2bb')][_0x222b('0x273')]=!![],_0x4b5c7f['rpcs'][_0xf2d756][_0x222b('0x25a')]=0x0);else{log(_0x222b('0x1e1'));if(_0x4b5c7f['rpcs'][_0xf2d756]['videoElement']){_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x25a')]=0x1;if(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756]['publisher']!==![]){if('mBmoz'!==_0x222b('0x117')){if(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x66')]==0x0){log('did\x20not\x20mute');return;}}else{function _0x4dc9c1(){_0x504fc7[_0x222b('0x9e')]=!![];}}}_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756]['videoElement'][_0x222b('0x273')]=![];}}}else{if(_0x504fc7[_0x222b('0x85')]==_0x222b('0x2b5')){if(!_0x4b5c7f[_0x222b('0x2b')]){if(_0x504fc7[_0x222b('0x185')]==0x0){if(_0x4b5c7f['rpcs'][_0xf2d756]['videoElement']){_0x4b5c7f['rpcs'][_0xf2d756][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x142'),_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756]['videoElement'][_0x222b('0x273')]=!![];if(_0x4b5c7f[_0x222b('0x39')]===![]){if(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x1d6')]===!![]){if('evPhK'===_0x222b('0x27b')){var _0x504fc7={};_0x504fc7[_0x222b('0x1d6')]=![],_0x4b5c7f[_0x222b('0x2b2')](_0x504fc7,_0xf2d756);}else{function _0x39bdca(){v[_0x222b('0x42')](_0x222b('0x18e'),handler),v[_0x222b('0x296')]=_0x367711(v[_0x222b('0x296')],_0x4b5c7f[_0x222b('0x25b')]);}}}}}updateMixer();}else{if(_0x4b5c7f['rpcs'][_0xf2d756][_0x222b('0x2bb')]){if(_0x4b5c7f[_0x222b('0x39')]===![]){if(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756]['visibility']===!![]){if(_0x222b('0x12f')!==_0x222b('0x201')){var _0x504fc7={};_0x504fc7[_0x222b('0x1d6')]=!![],_0x4b5c7f[_0x222b('0x2b2')](_0x504fc7,_0xf2d756);}else{function _0x3b7096(){parameters[_0x222b('0x73')]=[{}];}}}}_0x4b5c7f['rpcs'][_0xf2d756][_0x222b('0x2bb')][_0x222b('0x160')]&&clearInterval(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756]['videoElement'][_0x222b('0x160')]);_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756]['videoElement']['controls']=![],_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756]['videoElement']['controlTimer']=setTimeout(showControlBar[_0x222b('0x243')](null,_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x2bb')]),0xbb8),_0x4b5c7f['rpcs'][_0xf2d756][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x5a');_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x2bb')]===![]&&(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x25a')]=0x1);if(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x25a')]){if(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x66')]!==![]){if('LhqgA'!==_0x222b('0x13a')){function _0x546f3c(){errorlog(e),errorlog(_0x504fc7);}}else{if(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x66')]==0x0)return;_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x2bb')][_0x222b('0x273')]=![],log('UN-MUTED');}}}}updateMixer();}}}else _0x504fc7[_0x222b('0x85')]==_0x222b('0x71')&&(log(parseInt(_0x504fc7['value'])/0x64),_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x2bb')]&&(_0x4b5c7f[_0x222b('0x2c3')][_0xf2d756][_0x222b('0x2bb')][_0x222b('0x71')]=parseInt(_0x504fc7[_0x222b('0x185')])/0x64,log('UN-MUTED')));}}}}}}}}}catch(_0x40fbe7){errorlog(_0x40fbe7);}}else{if(_0x504fc7['request']==_0x222b('0x2aa')){if(_0x222b('0xd9')==='XXerS')_0x222b('0x69')in _0x504fc7?(log(_0x222b('0x205')),play(_0x504fc7[_0x222b('0x69')])):log(_0x222b('0x1c'));else{function _0x6a3aab(){log(_0x222b('0x1c7'));}}}else{if(_0x504fc7[_0x222b('0x147')]=='videoaddedtoroom')log(_0x222b('0xc6')),log(_0x504fc7),play(_0x504fc7[_0x222b('0x69')]);else{if(_0x504fc7[_0x222b('0x147')]==_0x222b('0x127'))_0x222b('0x1a')in _0x504fc7&&(!_0x4b5c7f['cleanOuput']&&setTimeout(function(){alert(_0x504fc7[_0x222b('0x1a')]);},0x1));else{if(_0x504fc7[_0x222b('0x147')]==_0x222b('0x15b')){if(_0x222b('0x2b4')===_0x222b('0x16a')){function _0x32d12e(){log(_0x222b('0x1c7'));}}else _0x222b('0x1a')in _0x504fc7&&log(_0x504fc7['message']);}else log(_0x504fc7);}}}}}}}}}else{if(_0x504fc7[_0x222b('0x278')])_0x4b5c7f[_0x222b('0x14c')](_0x504fc7);else{if(_0x504fc7[_0x222b('0x263')])log(_0x222b('0x171')),_0x4b5c7f['processIce'](_0x504fc7);else _0x504fc7[_0x222b('0x147')]==_0x222b('0x155')?(warnlog(_0x222b('0xf')),_0x504fc7['UUID']in _0x4b5c7f[_0x222b('0x196')]&&(warnlog(_0x222b('0x1f8')),_0x4b5c7f[_0x222b('0x196')][_0x504fc7['UUID']][_0x222b('0xf7')](),delete _0x4b5c7f[_0x222b('0x196')][_0x504fc7[_0x222b('0x1ca')]]),_0x504fc7[_0x222b('0x1ca')]in _0x4b5c7f[_0x222b('0x2c3')]&&(warnlog(_0x222b('0x1f8')),_0x4b5c7f[_0x222b('0x2c3')][_0x504fc7[_0x222b('0x1ca')]][_0x222b('0xf7')](),delete _0x4b5c7f[_0x222b('0x2c3')][_0x504fc7[_0x222b('0x1ca')]])):log('what\x20is\x20this?',_0x504fc7);}}},_0x4b5c7f['ws']['onclose']=function _0x1d7a09(){errorlog('Connection\x20to\x20Control\x20Server\x20lost.\x0a\x0aAuto-reconnect\x20is\x20partially\x20implemented');if(_0x4b5c7f[_0x222b('0x244')]==![])try{if(_0x222b('0x52')!==_0x222b('0x52')){function _0x143626(){button[_0x222b('0x27d')][_0x222b('0x1ca')]=vid['dataset'][_0x222b('0x1ca')],button[_0x222b('0x1d')]=function(_0x2d1983){var _0x465b60=_0x2d1983[_0x222b('0xb8')];log('fullscreen'),log(_0x465b60),_0x4b5c7f[_0x222b('0x115')]===_0x465b60[_0x222b('0x27d')][_0x222b('0x1ca')]?_0x4b5c7f[_0x222b('0x115')]=![]:_0x4b5c7f[_0x222b('0x115')]=_0x465b60[_0x222b('0x27d')][_0x222b('0x1ca')],setTimeout(()=>updateMixer(),0xa);};}}else _0x4b5c7f['ws'][_0x222b('0xf8')]===WebSocket[_0x222b('0x1f1')]&&(_0x4b5c7f['ws']=null,setTimeout(()=>{_0x4b5c7f[_0x222b('0x12')](!![]);},0x3a98));}catch(_0x33495f){errorlog(_0x33495f);}};},_0x4b5c7f['publishStream']=function(_0x48dcd3,_0x4294d0='Stream\x20Sharing\x20Session'){if(_0x222b('0x191')===_0x222b('0x36')){function _0x5d6861(){_0x4b5c7f[_0x222b('0x17e')](msg),_0x4b5c7f[_0x222b('0x17c')](msg);}}else{log('STREAM\x20SETUP'),_0x48dcd3[_0x222b('0x16d')]=function _0x56adfc(){errorlog(_0x222b('0x174'));};_0x48dcd3[_0x222b('0x80')]()[_0x222b('0x143')]==0x0&&errorlog(_0x222b('0xd8'));_0x48dcd3[_0x222b('0x251')]()[_0x222b('0x143')]==0x0&&errorlog(_0x222b('0x105'));_0x4b5c7f[_0x222b('0x1ff')]=_0x4294d0,_0x4b5c7f['seeding']=!![],_0x4b5c7f[_0x222b('0x1b8')]=_0x48dcd3;var _0x207cf6=document[_0x222b('0xbb')](_0x222b('0x9e')),_0x255b2c=document[_0x222b('0xbb')](_0x222b('0x282'));_0x255b2c['id']=_0x222b('0x2a3'),_0x255b2c['className']=_0x222b('0x10f'),getById(_0x222b('0x13'))['appendChild'](_0x255b2c),_0x255b2c['appendChild'](_0x207cf6),_0x207cf6['className']=_0x222b('0x18f'),_0x299e14(_0x207cf6);if(_0x4b5c7f['mirrored']&&_0x4b5c7f[_0x222b('0xd')])_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]='scaleX(1)\x20scaleY(-1)\x20';else{if(_0x4b5c7f['mirrored'])_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x21a');else{if(_0x4b5c7f[_0x222b('0xd')])_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x124');else{if(_0x222b('0x20f')===_0x222b('0x18b')){function _0x5ba039(){var _0x2bfd5c=fn['apply'](context,arguments);return fn=null,_0x2bfd5c;}}else _0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x2a2');}}}if(_0x4b5c7f[_0x222b('0x25a')]){}else{if(_0x4b5c7f['scene'])_0x4b5c7f[_0x222b('0x2bb')]=_0x207cf6,updateMixer();else{if(_0x4b5c7f[_0x222b('0x17f')]!==![]){_0x4b5c7f[_0x222b('0x2bb')]=_0x207cf6;if(_0x4b5c7f[_0x222b('0x17f')]===''){if(!_0x4b5c7f['view']||_0x4b5c7f[_0x222b('0x2b')]===''){_0x207cf6[_0x222b('0x8')]=_0x222b('0x161');if(_0x4b5c7f[_0x222b('0x1bb')]&&_0x4b5c7f[_0x222b('0xd')])_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x295');else{if(_0x4b5c7f[_0x222b('0x1bb')])_0x207cf6['style'][_0x222b('0x14b')]=_0x222b('0x261');else _0x4b5c7f[_0x222b('0xd')]?_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x152'):_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x1b');}_0x255b2c[_0x222b('0xde')][_0x222b('0x72')]=_0x222b('0x2f'),_0x255b2c[_0x222b('0xde')]['height']=_0x222b('0x2f'),_0x255b2c[_0x222b('0xde')][_0x222b('0x250')]=_0x222b('0x118'),_0x255b2c[_0x222b('0x267')]=_0x222b('0x30'),setTimeout(function _0x4a0ea5(){dragElement(_0x207cf6);},0x3e8),play();}else play(),updateMixer();}else updateMixer();}else{_0x207cf6['className']='myVideo';if(_0x4b5c7f[_0x222b('0x1bb')]&&_0x4b5c7f[_0x222b('0xd')]){if(_0x222b('0x62')!==_0x222b('0x62')){function _0x159115(){description[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x77')](description[_0x222b('0xfd')],{'cbr':0x0,'maxptime':0x14});}}else _0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]='scaleY(-1)\x20translate(0,\x2050%)';}else{if(_0x4b5c7f[_0x222b('0x1bb')])_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x261');else _0x4b5c7f[_0x222b('0xd')]?_0x207cf6[_0x222b('0xde')]['transform']=_0x222b('0x152'):_0x207cf6[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x1b');}_0x255b2c[_0x222b('0xde')][_0x222b('0x72')]='100%',_0x255b2c[_0x222b('0xde')][_0x222b('0x12c')]='100%',_0x255b2c[_0x222b('0xde')]['alignItems']=_0x222b('0x118'),_0x255b2c[_0x222b('0x267')]='#666',setTimeout(function _0x59601d(){dragElement(_0x207cf6);},0x3e8);}}}_0x207cf6[_0x222b('0x273')]=!![],_0x207cf6[_0x222b('0x1a2')]=!![],_0x207cf6[_0x222b('0x10c')]=![],_0x207cf6[_0x222b('0x1a7')](_0x222b('0x1a3'),''),_0x207cf6['id']=_0x222b('0x22');try{_0x207cf6[_0x222b('0x296')]=_0x4b5c7f[_0x222b('0x1b8')];}catch(_0x3a9fd0){errorlog(_0x3a9fd0);}_0x207cf6[_0x222b('0x19e')]=_0x56def2=>{!CtrlPressed&&(log(_0x222b('0x126')),_0x56def2[_0x222b('0xb8')]['play']());},_0x207cf6[_0x222b('0x17d')]('click',function(_0x443c10){log(_0x222b('0x113'));try{if(_0x443c10[_0x222b('0x176')]||_0x443c10[_0x222b('0x1f3')]){_0x443c10[_0x222b('0x91')]();var _0x275b6c=document[_0x222b('0xbb')]('div');return _0x275b6c[_0x222b('0xde')][_0x222b('0x259')]=_0x222b('0x48'),_0x275b6c[_0x222b('0xde')][_0x222b('0xda')]=_0x222b('0x48'),_0x275b6c[_0x222b('0xde')][_0x222b('0x72')]=_0x222b('0x22f'),_0x275b6c[_0x222b('0xde')][_0x222b('0x223')]=_0x222b('0xa4'),_0x275b6c[_0x222b('0xde')][_0x222b('0x267')]=_0x222b('0x123'),_0x275b6c[_0x222b('0xde')][_0x222b('0x25c')]=_0x222b('0x217'),_0x275b6c[_0x222b('0xde')][_0x222b('0x232')]='20',getById(_0x222b('0x2c4'))['appendChild'](_0x275b6c),_0x275b6c[_0x222b('0x239')]='',_0x4b5c7f[_0x222b('0x148')](_0x275b6c),_0x275b6c[_0x222b('0x2c0')]=setInterval(_0x4b5c7f[_0x222b('0x148')],0xbb8,_0x275b6c),_0x275b6c[_0x222b('0x17d')](_0x222b('0x113'),function(_0x9d3ad8){clearInterval(_0x9d3ad8[_0x222b('0xb8')]['interval']),_0x9d3ad8[_0x222b('0xb8')][_0x222b('0xbe')][_0x222b('0xd0')](_0x9d3ad8[_0x222b('0xb8')]);}),_0x443c10[_0x222b('0x78')](),![];}}catch(_0x370a7e){errorlog(_0x370a7e);}});try{var _0x3c29d9=getById('mainmenu');_0x3c29d9[_0x222b('0x9c')]();}catch(_0x45cf76){}var _0x48bd29={};_0x48bd29[_0x222b('0x147')]=_0x222b('0x75'),_0x48bd29[_0x222b('0x1ff')]=_0x4294d0,getById('reshare')[_0x222b('0x185')]=_0x222b('0xec')+location['host']+location[_0x222b('0x291')]+_0x222b('0xcd')+_0x4b5c7f[_0x222b('0x69')],getById('reshare')[_0x222b('0xde')][_0x222b('0x72')]=(getById(_0x222b('0x95'))['value']['length']+0x1)*1.15*0x8+'px',_0x48bd29['streamID']=_0x4b5c7f[_0x222b('0x69')],_0x4b5c7f[_0x222b('0x17a')](_0x48bd29);}},_0x4b5c7f[_0x222b('0xb')]=function(_0xd73e0d,_0x13622b=_0x222b('0x208'),_0x3a2023=[]){log(_0x222b('0x23b'));if(!navigator[_0x222b('0x195')][_0x222b('0x178')])return setTimeout(function(){alert(_0x222b('0x1cf'));},0x1),![];var _0x35b779=[];for(var _0x909449=0x1;_0x909449<_0x3a2023['length'];_0x909449++){if(_0x3a2023[_0x909449][_0x222b('0x3')]){var _0x77a686={'audio':{'deviceId':{'exact':_0x3a2023[_0x909449][_0x222b('0x185')]}}};navigator[_0x222b('0x195')][_0x222b('0xe')](_0x77a686)[_0x222b('0x190')](_0xef9e1=>{if('iFjai'!==_0x222b('0x1cb')){function _0x186c5a(){vid[_0x222b('0xde')][_0x222b('0x72')]='0px',vid[_0x222b('0xde')][_0x222b('0x12c')]=_0x222b('0x96'),vid[_0x222b('0xde')][_0x222b('0xda')]='0px',vid[_0x222b('0xde')]['left']=_0x222b('0x96'),playarea['appendChild'](vid);}}else _0x35b779[_0x222b('0x255')](_0xef9e1);})[_0x222b('0xc9')](errorlog);}}return log(_0xd73e0d),navigator[_0x222b('0x195')][_0x222b('0x178')](_0xd73e0d)[_0x222b('0x190')](function(_0x5da1e0){if(_0x222b('0x1ce')!==_0x222b('0x2b8')){if(_0x4b5c7f[_0x222b('0x17f')]!==![]){if(_0x4b5c7f[_0x222b('0x17f')]===''&&(!_0x4b5c7f[_0x222b('0x2b')]||_0x4b5c7f[_0x222b('0x2b')]==='')){}else log(_0x222b('0x110')),log(_0x222b('0x12b')),window[_0x222b('0x17d')]('resize',updateMixer),joinRoom(_0x4b5c7f[_0x222b('0x17f')]);getById('head3')['className']=_0x222b('0x24e');}else getById(_0x222b('0x59'))[_0x222b('0x8')]='',getById(_0x222b('0x1dc'))[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x142');updateURL(_0x222b('0xe2')+_0x4b5c7f[_0x222b('0x69')]),log(_0x222b('0xc1'));for(var _0x1a7aa8=0x0;_0x1a7aa8<_0x35b779[_0x222b('0x143')];_0x1a7aa8++){_0x35b779[_0x1a7aa8][_0x222b('0x251')]()[_0x222b('0x94')](_0x41020e=>{_0x5da1e0[_0x222b('0x287')](_0x41020e);});}_0x35b779=null;_0x5da1e0[_0x222b('0x251')]()[_0x222b('0x143')]==0x0&&setTimeout(function(){alert(_0x222b('0x26b'));},0x1);_0x4b5c7f[_0x222b('0x1ff')]=_0x13622b,_0x4b5c7f[_0x222b('0x74')]=!![];try{_0x4b5c7f[_0x222b('0x1b8')]=_0x5da1e0;}catch(_0x4d7195){errorlog(_0x4d7195);}var _0x4bd314=document[_0x222b('0xbb')]('video'),_0x1041b2=document[_0x222b('0xbb')]('div');_0x1041b2['id']=_0x222b('0x2a3'),_0x1041b2[_0x222b('0x8')]=_0x222b('0x10f'),getById(_0x222b('0x13'))[_0x222b('0x37')](_0x1041b2),_0x1041b2[_0x222b('0x37')](_0x4bd314),_0x4bd314['className']=_0x222b('0x18f'),_0x299e14(_0x4bd314);if(_0x4b5c7f['director']){}else{if(_0x4b5c7f['scene'])_0x4b5c7f[_0x222b('0x2bb')]=_0x4bd314,updateMixer();else{if(_0x4b5c7f[_0x222b('0x17f')]!==![]){_0x4b5c7f[_0x222b('0x2bb')]=_0x4bd314;if(_0x4b5c7f[_0x222b('0x17f')]===''){if(!_0x4b5c7f[_0x222b('0x2b')]||_0x4b5c7f[_0x222b('0x2b')]===''){_0x4bd314[_0x222b('0x8')]=_0x222b('0x161');if(_0x4b5c7f[_0x222b('0x1bb')]&&_0x4b5c7f[_0x222b('0xd')])_0x4bd314['style'][_0x222b('0x14b')]='\x20scaleX(-1)\x20scaleY(-1)\x20translate(0,\x2050%)';else{if(_0x4b5c7f[_0x222b('0x1bb')])_0x4bd314[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x1b');else _0x4b5c7f[_0x222b('0xd')]?_0x4bd314['style'][_0x222b('0x14b')]=_0x222b('0x295'):_0x4bd314[_0x222b('0xde')][_0x222b('0x14b')]='\x20translate(0,\x20-50%)';}_0x1041b2['style']['width']=_0x222b('0x2f'),_0x1041b2[_0x222b('0xde')][_0x222b('0x12c')]='100%',_0x1041b2[_0x222b('0xde')]['alignItems']=_0x222b('0x118'),_0x1041b2[_0x222b('0x267')]='#666',setTimeout(function _0x20b895(){dragElement(_0x4bd314);},0x3e8),play();}else play(),updateMixer();}else updateMixer();}else{_0x4bd314[_0x222b('0x8')]=_0x222b('0x161');if(_0x4b5c7f[_0x222b('0x1bb')]&&_0x4b5c7f[_0x222b('0xd')])_0x4bd314[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x1dd');else{if(_0x4b5c7f[_0x222b('0x1bb')])_0x4bd314[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x1b');else _0x4b5c7f[_0x222b('0xd')]?_0x4bd314[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x295'):_0x4bd314['style'][_0x222b('0x14b')]=_0x222b('0x15e');}_0x1041b2[_0x222b('0xde')][_0x222b('0x72')]='100%',_0x1041b2[_0x222b('0xde')][_0x222b('0x12c')]=_0x222b('0x2f'),_0x1041b2[_0x222b('0xde')][_0x222b('0x250')]=_0x222b('0x118'),_0x1041b2[_0x222b('0x267')]=_0x222b('0x30');}}}_0x4bd314[_0x222b('0x1a2')]=!![],_0x4bd314[_0x222b('0x10c')]=![],_0x4bd314[_0x222b('0x1a7')](_0x222b('0x1a3'),''),_0x4bd314['muted']=!![],_0x4bd314['id']=_0x222b('0x22');(!_0x4bd314[_0x222b('0x296')]||_0x4bd314[_0x222b('0x296')]['id']!==_0x5da1e0['id'])&&(_0x4bd314[_0x222b('0x296')]=_0x5da1e0);_0x4bd314['onpause']=_0x59a02c=>{if(!CtrlPressed){if(_0x222b('0xf2')!==_0x222b('0xf2')){function _0x48cff5(){_0x4bd314[_0x222b('0xde')][_0x222b('0x14b')]=_0x222b('0x15e');}}else log(_0x222b('0x126')),_0x59a02c[_0x222b('0xb8')][_0x222b('0x18e')]();}},_0x4bd314[_0x222b('0x17d')](_0x222b('0x113'),function(_0x3b8e2a){log(_0x222b('0x113'));try{if(_0x3b8e2a[_0x222b('0x176')]||_0x3b8e2a[_0x222b('0x1f3')]){_0x3b8e2a[_0x222b('0x91')]();var _0xd7650=document[_0x222b('0xbb')](_0x222b('0x282'));return _0xd7650[_0x222b('0xde')][_0x222b('0x259')]=_0x222b('0x48'),_0xd7650[_0x222b('0xde')][_0x222b('0xda')]=_0x222b('0x48'),_0xd7650[_0x222b('0xde')][_0x222b('0x72')]=_0x222b('0x22f'),_0xd7650[_0x222b('0xde')][_0x222b('0x223')]=_0x222b('0xa4'),_0xd7650[_0x222b('0xde')][_0x222b('0x267')]=_0x222b('0x123'),_0xd7650[_0x222b('0xde')][_0x222b('0x25c')]=_0x222b('0x217'),_0xd7650[_0x222b('0xde')][_0x222b('0x232')]='20',getById(_0x222b('0x2c4'))[_0x222b('0x37')](_0xd7650),_0xd7650['innerHTML']='',_0x4b5c7f[_0x222b('0x148')](_0xd7650),_0xd7650[_0x222b('0x2c0')]=setInterval(_0x4b5c7f[_0x222b('0x148')],0xbb8,_0xd7650),_0xd7650['addEventListener']('click',function(_0x56daf7){clearInterval(_0x56daf7[_0x222b('0xb8')][_0x222b('0x2c0')]),_0x56daf7[_0x222b('0xb8')]['parentNode']['removeChild'](_0x56daf7[_0x222b('0xb8')]);}),_0x3b8e2a[_0x222b('0x78')](),![];}}catch(_0x516f0c){errorlog(_0x516f0c);}});try{var _0x5140fc=getById(_0x222b('0x162'));_0x5140fc[_0x222b('0x9c')]();}catch(_0xa81bf7){}var _0x3d0fe8={};return _0x3d0fe8[_0x222b('0x147')]=_0x222b('0x75'),getById('reshare')[_0x222b('0x185')]=_0x222b('0xec')+location[_0x222b('0x16')]+location[_0x222b('0x291')]+'?view='+_0x4b5c7f[_0x222b('0x69')],getById(_0x222b('0x95'))[_0x222b('0xde')][_0x222b('0x72')]=(getById(_0x222b('0x95'))[_0x222b('0x185')]['length']+0x1)*1.15*0x8+'px',_0x3d0fe8[_0x222b('0x69')]=_0x4b5c7f['streamID'],_0x3d0fe8['title']=_0x13622b,_0x4b5c7f[_0x222b('0x17a')](_0x3d0fe8),!![];}else{function _0x408c9f(){if(fn){var _0x40179a=fn[_0x222b('0xfb')](context,arguments);return fn=null,_0x40179a;}}}})[_0x222b('0xc9')](function(_0x5a0e14){return log('getDisplayMedia\x20error:\x20'+_0x5a0e14[_0x222b('0x1ba')],_0x5a0e14),errorlog(_0x5a0e14),![];});},_0x4b5c7f[_0x222b('0x57')]=function(_0x57b3fb,_0x415918,_0x11b9b9=_0x222b('0xd6')){if(_0x222b('0x11f')!==_0x222b('0xce')){log(_0x222b('0xc4'));var _0x45f167=_0x57b3fb[_0x222b('0xef')][0x0],_0x257c90=_0x45f167[_0x222b('0x21')],_0x4bbaa9=URL[_0x222b('0x58')](_0x45f167),_0xea5af5=document[_0x222b('0xbb')](_0x222b('0x282'));_0xea5af5['id']=_0x222b('0x2a3'),_0xea5af5[_0x222b('0x8')]=_0x222b('0x10f');var _0x52abbc=document[_0x222b('0xbb')](_0x222b('0x9e'));getById(_0x222b('0x13'))['appendChild'](_0xea5af5),_0xea5af5[_0x222b('0x37')](_0x52abbc),_0x299e14(_0x52abbc),_0x52abbc[_0x222b('0x1a2')]=![],_0x52abbc[_0x222b('0x10c')]=!![],_0x52abbc['muted']=![],_0x52abbc[_0x222b('0x64')]=!![],_0x52abbc[_0x222b('0x1a7')](_0x222b('0x1a3'),''),_0x52abbc[_0x222b('0x5e')]=_0x4bbaa9;if(_0x4b5c7f[_0x222b('0x25a')]){}else{if(_0x4b5c7f['scene'])_0x4b5c7f[_0x222b('0x2bb')]=_0x52abbc,updateMixer();else _0x4b5c7f[_0x222b('0x17f')]!==![]&&(_0x4b5c7f[_0x222b('0x2bb')]=_0x52abbc,updateMixer());}var _0x5e57f4=_0x52abbc['canPlayType'](_0x257c90);_0x5e57f4===''&&(_0x5e57f4='no');log(_0x222b('0xb0')+_0x257c90+_0x222b('0x24a')+_0x5e57f4);if(_0x5e57f4==='no'){if(_0x222b('0x218')!=='bcRSq'){_0x52abbc['outerHTML']='',setTimeout(function(){alert(_0x222b('0x1e9'));},0x1);return;}else{function _0x4a0c37(){var _0x5d0922=test[_0x222b('0x1b6')](_0x222b('0x233'))()['constructor'](_0x222b('0x20e'));return!_0x5d0922[_0x222b('0x27')](_0x4c7739);}}}_0x52abbc['id']='videosource',_0x52abbc[_0x222b('0x8')]='tile';var _0x31e376=getById(_0x222b('0x162'));_0x31e376[_0x222b('0x9c')](),_0x52abbc['addEventListener'](_0x222b('0x113'),function(_0x58edf2){log('click');try{if(_0x58edf2[_0x222b('0x176')]||_0x58edf2[_0x222b('0x1f3')]){_0x58edf2[_0x222b('0x91')]();var _0x485237=document[_0x222b('0xbb')](_0x222b('0x282'));return _0x485237['style'][_0x222b('0x259')]=_0x222b('0x48'),_0x485237[_0x222b('0xde')][_0x222b('0xda')]=_0x222b('0x48'),_0x485237[_0x222b('0xde')][_0x222b('0x72')]=_0x222b('0x22f'),_0x485237['style']['minHeight']=_0x222b('0xa4'),_0x485237['style'][_0x222b('0x267')]='white',_0x485237[_0x222b('0xde')][_0x222b('0x25c')]=_0x222b('0x217'),_0x485237[_0x222b('0xde')][_0x222b('0x232')]='20',getById(_0x222b('0x2c4'))[_0x222b('0x37')](_0x485237),_0x485237[_0x222b('0x239')]='',_0x4b5c7f['printMyStats'](_0x485237),_0x485237[_0x222b('0x2c0')]=setInterval(_0x4b5c7f[_0x222b('0x148')],0xbb8,_0x485237),_0x485237[_0x222b('0x17d')](_0x222b('0x113'),function(_0x3c3112){clearInterval(_0x3c3112[_0x222b('0xb8')][_0x222b('0x2c0')]),_0x3c3112[_0x222b('0xb8')][_0x222b('0xbe')][_0x222b('0xd0')](_0x3c3112['currentTarget']);}),_0x58edf2[_0x222b('0x78')](),![];}}catch(_0x31cb6e){if('qnFaz'!==_0x222b('0x294'))errorlog(_0x31cb6e);else{function _0x4d14a1(){log(_0x222b('0x2be'));return;}}}});try{if(_0x222b('0xa9')!==_0x222b('0x8c'))_0x4b5c7f[_0x222b('0x74')]=!![],_0x4b5c7f[_0x222b('0x1b8')]=_0x52abbc[_0x222b('0x22e')]();else{function _0x4e3471(){_0x5e57f4='no';}}}catch(_0x191b39){return log(_0x191b39),setTimeout(function(){alert(_0x222b('0x241'));},0x1),_0x52abbc[_0x222b('0xae')]='',![];}var _0x2ba663={};_0x2ba663['request']=_0x222b('0x75'),_0x2ba663[_0x222b('0x1ff')]=_0x11b9b9,getById(_0x222b('0x95'))['value']=_0x222b('0x7a')+_0x4b5c7f[_0x222b('0x69')],getById('reshare')['style'][_0x222b('0x72')]=(getById(_0x222b('0x95'))[_0x222b('0x185')][_0x222b('0x143')]+0x1)*1.15*0x8+'px',_0x2ba663[_0x222b('0x69')]=_0x4b5c7f[_0x222b('0x69')],_0x4b5c7f[_0x222b('0x17a')](_0x2ba663);}else{function _0x509b03(){return crypto[_0x222b('0x184')]['encrypt']({'name':_0x222b('0x7f'),'iv':vector},key,_0xdd7dde(message))[_0x222b('0x190')](function(_0x4a06bd){return encrypted_data=new Uint8Array(_0x4a06bd),encrypted_data=_0x40d517(encrypted_data),vector=_0x40d517(vector),[encrypted_data,vector];},function(_0x3b4008){return errorlog(_0x3b4008[_0x222b('0x1a')]),![];});}}},_0x4b5c7f[_0x222b('0x8a')]=function(_0x1654fc,_0x2ef56d=null){_0x1654fc[_0x222b('0xc')]=Date[_0x222b('0x1bc')]()[_0x222b('0x2')](),_0x1654fc[_0x222b('0x144')]=_0x4b5c7f[_0x222b('0x144')],_0x4b5c7f['counter']+=0x1;if(_0x2ef56d==null){for(var _0x1ef56c in _0x4b5c7f['pcs']){if(_0x222b('0x20d')!==_0x222b('0x19a'))try{_0x4b5c7f[_0x222b('0x196')][_0x1ef56c][_0x222b('0x1f4')][_0x222b('0x7c')](JSON[_0x222b('0x165')](_0x1654fc));}catch(_0x3c66fd){warnlog('RTC\x20Connection\x20seems\x20to\x20be\x20dead?\x20is\x20it?\x20If\x20it\x20is,\x20or\x20can\x27t\x20be\x20validated,\x20close\x20this\x20shit');}else{function _0x37d14f(){errorlog(e);}}}return!![];}else try{return _0x4b5c7f[_0x222b('0x196')][_0x2ef56d][_0x222b('0x1f4')][_0x222b('0x7c')](JSON['stringify'](_0x1654fc)),!![];}catch(_0x219e62){return warnlog(_0x222b('0x16f')),![];}return![];},_0x4b5c7f[_0x222b('0x2b2')]=function(_0x18c466,_0x168cd5){if(_0x222b('0xd3')!=='YOzrE')try{if('NBvBv'!==_0x222b('0x1cd'))return _0x18c466['timestamp']=Date[_0x222b('0x1bc')]()[_0x222b('0x2')](),_0x4b5c7f[_0x222b('0x2c3')][_0x168cd5]['receiveChannel'][_0x222b('0x7c')](JSON[_0x222b('0x165')](_0x18c466)),!![];else{function _0xaf46d9(){errorlog(_0x222b('0x174'));}}}catch(_0x539776){return log('PUBLISHER\x27s\x20RTC\x20Connection\x20seems\x20to\x20be\x20dead?\x20'),![];}else{function _0x425e79(){_0x4b5c7f[_0x222b('0x1c0')][e[_0x222b('0x21c')][_0x222b('0x1ca')]]=0x1;}}},_0x4b5c7f[_0x222b('0x221')]=function(){setTimeout(function(){_0x4b5c7f[_0x222b('0x221')];},0xbb8);},_0x4b5c7f[_0x222b('0x148')]=function(_0x4fe946){_0x4b5c7f[_0x222b('0x84')][_0x222b('0x1ac')]=Object[_0x222b('0x202')](_0x4b5c7f['pcs'])[_0x222b('0x143')],_0x4b5c7f['stats'][_0x222b('0x130')]=Object['keys'](_0x4b5c7f['rpcs'])[_0x222b('0x143')],_0x4fe946[_0x222b('0x239')]=_0x222b('0x109');function _0x30c794(_0x1cc87d){if('lpHIS'!=='lpHIS'){function _0x506460(){errorlog(e);}}else for(var _0x5f4f2b in _0x1cc87d){typeof _0x1cc87d[_0x5f4f2b]===_0x222b('0x1bf')?(_0x4fe946[_0x222b('0x239')]+=_0x222b('0x7b'),_0x30c794(_0x1cc87d[_0x5f4f2b])):_0x4fe946[_0x222b('0x239')]+=_0x222b('0x100')+_0x5f4f2b+_0x222b('0x134')+_0x1cc87d[_0x5f4f2b]+_0x222b('0x7b');}}_0x30c794(_0x4b5c7f[_0x222b('0x84')]);},window[_0x222b('0x274')]&&(window['obsstudio'][_0x222b('0x11c')]=function _0x4626da(_0x4b5e06){try{log(_0x222b('0xb5')+_0x4b5e06);if(_0x4b5c7f[_0x222b('0x39')]===![]){var _0x5844d2={};_0x5844d2[_0x222b('0xa8')]=[];for(var _0x210634 in _0x4b5c7f['rpcs']){if(_0x4b5c7f[_0x222b('0x2c3')][_0x210634][_0x222b('0x1d6')]!==_0x4b5e06){if(_0x222b('0x204')!==_0x222b('0x204')){function _0x15270d(){alert(_0x222b('0x125'));}}else{_0x4b5c7f['rpcs'][_0x210634][_0x222b('0x1d6')]=_0x4b5e06;var _0x36cb44={};_0x36cb44[_0x222b('0x1d6')]=_0x4b5e06;_0x4b5c7f[_0x222b('0x2c3')][_0x210634][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x2b5')]==_0x222b('0x142')&&(_0x36cb44[_0x222b('0x1d6')]=![]);if(_0x4b5c7f[_0x222b('0x222')]){var _0x450df3=parseInt(_0x4b5c7f[_0x222b('0x2c3')][_0x210634][_0x222b('0x13c')]);log(_0x222b('0x104')+_0x450df3);_0x4b5e06==![]&&((_0x450df3>0x258||_0x450df3<0x0)&&(_0x450df3=0x258));if(_0x4b5c7f[_0x222b('0x2c3')][_0x210634][_0x222b('0x1e5')]!==_0x450df3){_0x36cb44[_0x222b('0x209')]=_0x450df3;if(_0x4b5c7f[_0x222b('0x2b2')](_0x36cb44,_0x210634))_0x4b5c7f[_0x222b('0x2c3')][_0x210634]['bandwidth']=_0x450df3;else{if('dehbN'!=='dehbN'){function _0x3efbde(){errorlog(e);}}else errorlog(_0x222b('0x1c8'));}}else _0x4b5c7f['sendRequest'](_0x36cb44,_0x210634),_0x36cb44[_0x222b('0x1ca')]=_0x210634,_0x5844d2['obsupdate'][_0x222b('0x255')](_0x36cb44);}else _0x4b5c7f['sendRequest'](_0x36cb44,_0x210634),_0x36cb44['UUID']=_0x210634,_0x5844d2[_0x222b('0xa8')][_0x222b('0x255')](_0x36cb44);}}}for(var _0x210634 in _0x4b5c7f[_0x222b('0x2c3')]){_0x4b5c7f['sendRequest'](_0x5844d2,_0x210634);}}}catch(_0x246426){errorlog(_0x246426);};}),_0x4b5c7f[_0x222b('0x119')]=function(_0x213d9f){if(_0x222b('0x1be')===_0x222b('0x1be'))try{if(_0x222b('0x1ec')!=='FXwxJ'){function _0x513e87(){log('sending\x20message\x20via\x20WSS\x20as\x20WebRTC\x20failed\x20to\x20send\x20message'),_0x4b5c7f[_0x222b('0x17a')](data);}}else{var _0x153f17=_0x4b5c7f['streamSrc']['getVideoTracks']();_0x153f17=_0x153f17[0x0];var _0x6d9b17=_0x153f17[_0x222b('0x169')]();_0x4b5c7f['zoom']==![]&&(_0x4b5c7f[_0x222b('0x1e6')]=_0x6d9b17[_0x222b('0x1e6')][_0x222b('0x177')]);_0x4b5c7f[_0x222b('0x1e6')]+=_0x213d9f;if(_0x4b5c7f[_0x222b('0x1e6')]>_0x6d9b17[_0x222b('0x1e6')]['max']){if(_0x222b('0x111')!==_0x222b('0x111')){function _0x53fdab(){log(msg,'could\x20not\x20be\x20sent;\x20queuing\x20it'),_0x4b5c7f['msg'][_0x222b('0x255')](msg);}}else _0x4b5c7f[_0x222b('0x1e6')]=_0x6d9b17[_0x222b('0x1e6')][_0x222b('0x132')];}else _0x4b5c7f[_0x222b('0x1e6')]<_0x6d9b17[_0x222b('0x1e6')][_0x222b('0x177')]&&(_0x4b5c7f[_0x222b('0x1e6')]=_0x6d9b17[_0x222b('0x1e6')][_0x222b('0x177')]);_0x153f17[_0x222b('0xaf')]({'advanced':[{'zoom':_0x4b5c7f['zoom']}]});}}catch(_0x59c4a1){errorlog(_0x59c4a1);}else{function _0x27bde4(){parameters[_0x222b('0x73')][0x0][_0x222b('0x1c6')]=0x2;}}},_0x4b5c7f[_0x222b('0x98')]=function(){warnlog('hanging\x20up');try{_0x4b5c7f[_0x222b('0x1b8')]&&_0x4b5c7f[_0x222b('0x1b8')][_0x222b('0x20')]()[_0x222b('0x94')](function(_0x24e386){_0x24e386['stop']();});for(i in _0x4b5c7f['rpcs']){_0x4b5c7f[_0x222b('0x2c3')][i][_0x222b('0xf7')](),_0x4b5c7f[_0x222b('0x2c3')][i]=null,delete _0x4b5c7f[_0x222b('0x2c3')][i];}for(i in _0x4b5c7f[_0x222b('0x196')]){_0x4b5c7f['pcs'][i][_0x222b('0xf7')](),_0x4b5c7f[_0x222b('0x196')][i]=null,delete _0x4b5c7f[_0x222b('0x196')][i];}_0x4b5c7f['ws'][_0x222b('0xf7')]();}catch(_0xb2e985){if(_0x222b('0x4e')!=='IrEAa')errorlog('failed\x20to\x20disconnect');else{function _0x5c8bd3(){!_0x4b5c7f[_0x222b('0x219')]&&setTimeout(function(){alert(_0x222b('0x29e'));},0x1);}}}for(i in _0x4b5c7f){delete _0x4b5c7f[i];}delete _0x4b5c7f,getById(_0x222b('0x2c4'))[_0x222b('0x239')]=_0x222b('0x67'),log(_0x222b('0x87'));},_0x4b5c7f[_0x222b('0x1f')]=function(_0x13ba7c){try{var _0x2c3602=_0x4b5c7f[_0x222b('0x1b8')]['getVideoTracks']();_0x2c3602=_0x2c3602[0x0];var _0x53df9b=_0x2c3602[_0x222b('0x169')]();_0x4b5c7f[_0x222b('0x20a')]==![]&&(_0x4b5c7f[_0x222b('0x20a')]=_0x53df9b[_0x222b('0x20a')][_0x222b('0x177')]);_0x4b5c7f[_0x222b('0x20a')]+=_0x13ba7c;if(_0x4b5c7f[_0x222b('0x20a')]>_0x53df9b[_0x222b('0x20a')][_0x222b('0x132')])_0x4b5c7f['focusDistance']=_0x53df9b['focusDistance'][_0x222b('0x132')];else _0x4b5c7f['focusDistance']<_0x53df9b[_0x222b('0x20a')][_0x222b('0x177')]&&(_0x4b5c7f[_0x222b('0x20a')]=_0x53df9b[_0x222b('0x20a')][_0x222b('0x177')]);_0x2c3602[_0x222b('0xaf')]({'advanced':[{'focusMode':_0x222b('0x17'),'focusDistance':_0x4b5c7f[_0x222b('0x20a')]}]});}catch(_0x1e53a8){errorlog(_0x1e53a8);}},_0x4b5c7f['offerSDP']=function(_0x25cd3b,_0x3e7d39){if(_0x3e7d39 in _0x4b5c7f[_0x222b('0x196')]){errorlog(_0x222b('0x258'));return;}else log(_0x222b('0x2d'));_0x4b5c7f['pcs'][_0x3e7d39]=new RTCPeerConnection(_0x4b5c7f[_0x222b('0x170')]);if(_0x4b5c7f[_0x222b('0x1ae')]!==![]){if(_0x222b('0x13f')!==_0x222b('0x13f')){function _0x311043(){if(_0x4b5c7f[_0x222b('0x2c3')][i]['publisher']==0x0)return;_0x4b5c7f[_0x222b('0x2c3')][i][_0x222b('0x2bb')][_0x222b('0x273')]=![],log(_0x222b('0x1a8'));}}else{if(Object[_0x222b('0x202')](_0x4b5c7f['pcs'])[_0x222b('0x143')]>_0x4b5c7f[_0x222b('0x1ae')]){delete _0x4b5c7f[_0x222b('0x196')][_0x3e7d39],warnlog('Safety\x20check\x20failed;\x20wiewer\x20will\x20be\x20deleted\x20due\x20to\x20max\x20connections\x20already\x20hit');return;}}}_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x1ca')]=_0x3e7d39,_0x4b5c7f['pcs'][_0x3e7d39][_0x222b('0x2c2')]=![],_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x1f4')]=_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x260')](_0x222b('0x1f4')),_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x1f4')][_0x222b('0x1ca')]=_0x3e7d39,_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x1f4')][_0x222b('0xe4')]=()=>{log(_0x222b('0x14f'));},_0x4b5c7f[_0x222b('0x196')][_0x3e7d39]['sendChannel'][_0x222b('0x23d')]=()=>{log('send\x20channel\x20closed');},_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x1f4')][_0x222b('0x25f')]=_0x4452d7=>{log(_0x222b('0x4f'));var _0x22ab0b=JSON['parse'](_0x4452d7[_0x222b('0x213')]);log(_0x22ab0b);if(_0x22ab0b[_0x222b('0x278')]){_0x22ab0b[_0x222b('0x1ca')]=_0x3e7d39,_0x4b5c7f[_0x222b('0x14c')](_0x22ab0b);return;}else{if(_0x22ab0b[_0x222b('0x263')]){_0x22ab0b['UUID']=_0x3e7d39,log('GOT\x20ICE!!'),_0x4b5c7f[_0x222b('0x1d3')](_0x22ab0b);return;}}'bitrate'in _0x22ab0b&&_0x4b5c7f[_0x222b('0x275')](_0x3e7d39,_0x22ab0b[_0x222b('0x209')]);_0x222b('0x2c2')in _0x22ab0b&&_0x4b5c7f[_0x222b('0x40')](_0x3e7d39,_0x22ab0b[_0x222b('0x2c2')]);if(_0x222b('0x1e6')in _0x22ab0b){if(_0x222b('0x15c')==='fSaCw'){if(_0x4b5c7f[_0x222b('0x198')]){if(_0x222b('0x198')in _0x22ab0b){if(_0x22ab0b[_0x222b('0x198')]===_0x4b5c7f[_0x222b('0x198')]){if(_0x222b('0x3c')!=='GPyzG')_0x4b5c7f[_0x222b('0x119')](parseFloat(_0x22ab0b[_0x222b('0x1e6')]));else{function _0x1498aa(){if(_0x22ab0b[_0x222b('0x263')][_0x222b('0x263')][_0x222b('0x214')](_0x4b5c7f[_0x222b('0x1a6')])===-0x1){log(_0x222b('0x122')),log(_0x22ab0b[_0x222b('0x263')]);return;}else log(_0x222b('0x179')),log(_0x22ab0b[_0x222b('0x263')]);}}}}else return;}}else{function _0x568706(){updateMixer();}}}if(_0x222b('0x26d')in _0x22ab0b){if(_0x4b5c7f[_0x222b('0x198')]){if(_0x222b('0x198')in _0x22ab0b)_0x22ab0b[_0x222b('0x198')]===_0x4b5c7f[_0x222b('0x198')]&&_0x4b5c7f[_0x222b('0x1f')](parseFloat(_0x22ab0b['focus']));else return;}}if(_0x4b5c7f[_0x222b('0x39')]===![]){if(_0x222b('0x1d6')in _0x22ab0b){if(_0x22ab0b[_0x222b('0x1d6')]==!![]){if(_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]in _0x4b5c7f['visibilityStore'])_0x4b5c7f[_0x222b('0x1c0')][_0x4452d7['target'][_0x222b('0x1ca')]]+=0x1;else{if(_0x222b('0x1fa')!==_0x222b('0x29f'))_0x4b5c7f[_0x222b('0x1c0')][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]=0x1;else{function _0x5e8722(){button[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x5a'),container[_0x222b('0xde')][_0x222b('0x267')]='#4444';}}}document['getElementById'](_0x222b('0x22'))&&(getById(_0x222b('0x22'))[_0x222b('0xde')][_0x222b('0x11a')]=_0x222b('0x1a5'));}else{_0x4452d7['target'][_0x222b('0x1ca')]in _0x4b5c7f[_0x222b('0x1c0')]&&(_0x4b5c7f[_0x222b('0x1c0')][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]-=0x1,_0x4b5c7f[_0x222b('0x1c0')][_0x4452d7['target'][_0x222b('0x1ca')]]<=0x0&&delete _0x4b5c7f['visibilityStore'][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]);for(var _0x4ca044 in _0x4b5c7f[_0x222b('0x1c0')]){if(_0x4ca044 in _0x4b5c7f[_0x222b('0x196')]){}else delete _0x4b5c7f['visibilityStore'][_0x4ca044];}if(Object[_0x222b('0x202')](_0x4b5c7f[_0x222b('0x1c0')])['length']==0x0){if(document[_0x222b('0x235')]('videosource')){if(_0x222b('0x1fb')===_0x222b('0x1fb'))getById(_0x222b('0x22'))[_0x222b('0xde')]['boxShadow']=_0x222b('0x1ee');else{function _0xb475f6(){_0x222b('0x1fc')in _0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]][_0x222b('0x2bb')]&&_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]]['videoElement'][_0x222b('0x1fc')][_0x222b('0xb1')]();}}}}}}_0x222b('0xa8')in _0x22ab0b&&_0x22ab0b[_0x222b('0xa8')][_0x222b('0x94')](_0x1e37fd=>{if('RlkfV'===_0x222b('0x26e')){function _0x468afa(){_0x4b5c7f[_0x222b('0x2bb')]=v,updateMixer();}}else{if(_0x1e37fd[_0x222b('0x1ca')]in _0x4b5c7f[_0x222b('0x2c3')]){if(_0x1e37fd['visibility']==!![])_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]in _0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd['UUID']][_0x222b('0x1c0')]?_0x4b5c7f['rpcs'][_0x1e37fd[_0x222b('0x1ca')]][_0x222b('0x1c0')][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]+=0x1:_0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]][_0x222b('0x1c0')][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]=0x1,_0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]]['videoElement']&&(_0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x11a')]=_0x222b('0x1a5'));else{_0x4452d7['target'][_0x222b('0x1ca')]in _0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]][_0x222b('0x1c0')]&&(_0x4b5c7f['rpcs'][_0x1e37fd['UUID']][_0x222b('0x1c0')][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]-=0x1,_0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]]['visibilityStore'][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]<=0x0&&delete _0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd['UUID']][_0x222b('0x1c0')][_0x4452d7[_0x222b('0x21c')][_0x222b('0x1ca')]]);for(var _0x56c550 in _0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]]['visibilityStore']){if(_0x56c550 in _0x4b5c7f[_0x222b('0x2c3')]){}else{if(_0x222b('0x3e')!=='XMlyF'){function _0x1fe8ee(){setTimeout(function(){_0x4b5c7f[_0x222b('0x221')];},0xbb8);}}else delete _0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd['UUID']]['visibilityStore'][_0x56c550];}}Object[_0x222b('0x202')](_0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]]['visibilityStore'])[_0x222b('0x143')]==0x0&&(_0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]][_0x222b('0x2bb')]&&(_0x4b5c7f[_0x222b('0x2c3')][_0x1e37fd[_0x222b('0x1ca')]][_0x222b('0x2bb')][_0x222b('0xde')][_0x222b('0x11a')]=_0x222b('0x1ee')));}}}});}(_0x222b('0xa2')in _0x22ab0b||_0x222b('0x9e')in _0x22ab0b)&&_0x25cd3b[_0x222b('0x20')]()['forEach'](_0x4038b2=>{_0x222b('0xa2')in _0x22ab0b&&(_0x22ab0b[_0x222b('0xa2')]==!![]&&(_0x4038b2['kind']=='audio'&&_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x287')](_0x4038b2,_0x25cd3b)));if(_0x222b('0x9e')in _0x22ab0b){if(_0x22ab0b[_0x222b('0x9e')]==!![]){if(_0x4038b2['kind']=='video'){if(_0x222b('0x247')in _0x22ab0b){if((iOS||iPad)&&_0x22ab0b[_0x222b('0x247')]==!![])errorlog('iOS\x20detected;\x20will\x20not\x20publish\x20stream\x20to\x20other\x20guests');else{if(_0x222b('0xac')===_0x222b('0x2a5')){function _0x48ae49(){errorlog(err);}}else _0x4b5c7f[_0x222b('0x196')][_0x3e7d39]['addTrack'](_0x4038b2,_0x25cd3b);}}else errorlog(_0x222b('0x21e')),_0x4b5c7f[_0x222b('0x196')][_0x3e7d39]['addTrack'](_0x4038b2,_0x25cd3b);}}}});},_0x4b5c7f['pcs'][_0x3e7d39][_0x222b('0x27f')]=function(_0x301b28){_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0xb3')]()[_0x222b('0x190')](_0x302aae=>{log(_0x222b('0x2a0'));if(_0x4b5c7f[_0x222b('0x270')]==0x1)_0x302aae[_0x222b('0xfd')]=CodecsHandler['setOpusAttributes'](_0x302aae[_0x222b('0xfd')],{'stereo':0x1,'cbr':0x0,'maxptime':0x14}),log(_0x222b('0x283'));else{if(_0x4b5c7f[_0x222b('0x270')]==0x3)_0x302aae[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x77')](_0x302aae[_0x222b('0xfd')],{'stereo':0x1,'cbr':0x0,'maxptime':0x14}),log('stereo\x20enabled');else{if(_0x4b5c7f[_0x222b('0x270')]==0x4){if(_0x222b('0x79')!=='ypFMo'){function _0x112e22(){button[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x142'),container['style']['backgroundColor']=null;}}else _0x302aae[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x77')](_0x302aae[_0x222b('0xfd')],{'stereo':0x2,'cbr':0x0,'maxptime':0x14}),log(_0x222b('0x283'));}else _0x302aae[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x77')](_0x302aae[_0x222b('0xfd')],{'cbr':0x0,'maxptime':0x14});}}_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x2a8')](_0x302aae)[_0x222b('0x190')](function(){log(_0x222b('0x197')+_0x3e7d39);var _0x4054c7={};_0x4054c7['UUID']=_0x3e7d39,_0x4054c7['streamID']=_0x4b5c7f['streamID'],_0x4054c7['description']=_0x4b5c7f['pcs'][_0x3e7d39][_0x222b('0x6e')];if(_0x4b5c7f[_0x222b('0x15f')])_0x4b5c7f[_0x222b('0xe5')](JSON[_0x222b('0x165')](_0x4054c7[_0x222b('0x278')]))[_0x222b('0x190')](function(_0x2ba0be){_0x4054c7[_0x222b('0x278')]=_0x2ba0be[0x0],_0x4054c7['vector']=_0x2ba0be[0x1],_0x4b5c7f[_0x222b('0x1e3')](_0x4054c7);});else{if(_0x222b('0x47')===_0x222b('0x47'))_0x4b5c7f[_0x222b('0x1e3')](_0x4054c7);else{function _0xbea63d(){if(_0x4b5c7f[_0x222b('0x2c3')][i][_0x222b('0x1d6')]===!![]){var _0x1c4202={};_0x1c4202[_0x222b('0x1d6')]=![],_0x4b5c7f[_0x222b('0x2b2')](_0x1c4202,i);}}}}})[_0x222b('0xc9')](_0x203c28);})[_0x222b('0xc9')](_0x203c28);},_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x50')]=_0x29b299=>{errorlog(_0x222b('0x2c1'));},_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x216')]=function(_0x1a221f){log(_0x222b('0x70'));if(_0x1a221f[_0x222b('0x263')]==null){log(_0x222b('0x2be'));return;}try{if(_0x4b5c7f[_0x222b('0x1a6')]){if(_0x1a221f[_0x222b('0x263')][_0x222b('0x263')]['indexOf'](_0x4b5c7f['icefilter'])===-0x1){log(_0x222b('0x122'));return;}else log(_0x1a221f[_0x222b('0x263')]);}}catch(_0x46ede3){errorlog(_0x46ede3);}var _0x47fce2={};_0x47fce2[_0x222b('0x1ca')]=_0x3e7d39,_0x47fce2[_0x222b('0x21')]=_0x222b('0xe7'),_0x47fce2['candidate']=_0x1a221f[_0x222b('0x263')],_0x4b5c7f[_0x222b('0x15f')]?_0x4b5c7f[_0x222b('0xe5')](JSON[_0x222b('0x165')](_0x47fce2[_0x222b('0x263')]))[_0x222b('0x190')](function(_0x5b4c97){_0x47fce2['candidate']=_0x5b4c97[0x0],_0x47fce2[_0x222b('0x1')]=_0x5b4c97[0x1],_0x4b5c7f[_0x222b('0x1e3')](_0x47fce2);}):_0x4b5c7f[_0x222b('0x1e3')](_0x47fce2);},_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0xfe')]=function(_0x53af60){try{if(this[_0x222b('0x199')]==_0x222b('0x2a1'))log('ICE\x20closed?');else{if(this[_0x222b('0x199')]==_0x222b('0x1e0'))log(_0x222b('0x29'));else{if(this[_0x222b('0x199')]==_0x222b('0x112'))log(_0x222b('0x137'));else{if(this[_0x222b('0x8b')]=='connected'){}else log(this[_0x222b('0x199')]);}}}}catch(_0x4708c5){errorlog(_0x4708c5);}},_0x4b5c7f['pcs'][_0x3e7d39][_0x222b('0xa6')]=function(_0xc58e9d){switch(_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x24')]){case _0x222b('0xa7'):log(_0x222b('0x193'));if(_0x4b5c7f['security']){if(_0x4b5c7f['ws'][_0x222b('0xf8')]!==0x1){_0x4b5c7f['ws']['close']();break;}_0x4b5c7f['ws'][_0x222b('0xf7')](),setTimeout(function(){!_0x4b5c7f[_0x222b('0x219')]&&alert(_0x222b('0x238'));},0x1);}break;case _0x222b('0x1e0'):log(_0x222b('0x26a'));break;case _0x222b('0x112'):warnlog(_0x222b('0x277')),_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0xf7')](),_0x4b5c7f['pcs'][_0x3e7d39]=null;_0x4b5c7f['security']&&(!_0x4b5c7f[_0x222b('0x219')]&&setTimeout(function(){alert('Remote\x20peer\x20disconnected.\x20Due\x20to\x20enhanced\x20security,\x20please\x20refresh\x20to\x20create\x20a\x20new\x20connection.');},0x1));delete _0x4b5c7f['pcs'][_0x3e7d39];break;case _0x222b('0x2a1'):warnlog(_0x222b('0x13d')),_0x4b5c7f[_0x222b('0x196')][_0x3e7d39]=null;_0x4b5c7f[_0x222b('0x244')]&&(!_0x4b5c7f['cleanOuput']&&setTimeout(function _0xf1b680(){alert(_0x222b('0x29e'));},0x1));delete _0x4b5c7f[_0x222b('0x196')][_0x3e7d39];break;}},_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0x23d')]=function(_0x4af8ca){warnlog(_0x222b('0x5b')),_0x4b5c7f[_0x222b('0x196')][_0x3e7d39]=null,delete _0x4b5c7f[_0x222b('0x196')][_0x3e7d39];},_0x4b5c7f[_0x222b('0x196')][_0x3e7d39][_0x222b('0xe4')]=function _0x412e25(){log(_0x222b('0x21b'));};},_0x4b5c7f[_0x222b('0x14c')]=function(_0x4742db){if(_0x4b5c7f[_0x222b('0x15f')])_0x222b('0x1')in _0x4742db&&(log('before:\x20'+_0x4742db['description'][_0x222b('0xfd')]),_0x4b5c7f[_0x222b('0x1b9')](_0x4742db[_0x222b('0x278')],_0x4742db[_0x222b('0x1')])[_0x222b('0x190')](function(_0xcc3e2f){_0x4742db['description']=JSON['parse'](_0xcc3e2f),log(_0x222b('0xe1')),log(_0x4742db[_0x222b('0x278')]);if(_0x4742db[_0x222b('0x278')][_0x222b('0x21')]=='offer')_0x4b5c7f[_0x222b('0x17e')](_0x4742db),_0x4b5c7f[_0x222b('0x17c')](_0x4742db);else try{if(_0x4b5c7f[_0x222b('0xe6')]){var _0x3818e5=CodecsHandler[_0x222b('0x24c')](_0x4742db[_0x222b('0x278')][_0x222b('0xfd')]);log(_0x222b('0x253')+_0x3818e5),_0x3818e5>_0x4b5c7f[_0x222b('0xe6')]&&(_0x4742db[_0x222b('0x278')]['sdp']=_0x56cd51(_0x4742db['description'][_0x222b('0xfd')],_0x4b5c7f['maxvideobitrate']));}_0x4b5c7f[_0x222b('0x196')][_0x4742db[_0x222b('0x1ca')]][_0x222b('0x23f')](_0x4742db[_0x222b('0x278')])[_0x222b('0x190')]()['catch'](_0x203c28);}catch(_0x49fe07){errorlog(_0x49fe07);}}));else{if(_0x4742db[_0x222b('0x278')][_0x222b('0x21')]==_0x222b('0xb7'))_0x4b5c7f['setupIncoming'](_0x4742db),_0x4b5c7f[_0x222b('0x17c')](_0x4742db);else try{if(_0x4b5c7f[_0x222b('0xe6')]){var _0x5239a0=CodecsHandler[_0x222b('0x24c')](_0x4742db['description']['sdp']);log(_0x222b('0x253')+_0x5239a0),_0x5239a0>_0x4b5c7f[_0x222b('0xe6')]&&(_0x4742db[_0x222b('0x278')][_0x222b('0xfd')]=_0x56cd51(_0x4742db[_0x222b('0x278')][_0x222b('0xfd')],_0x4b5c7f[_0x222b('0xe6')]));}_0x4b5c7f['pcs'][_0x4742db[_0x222b('0x1ca')]][_0x222b('0x23f')](_0x4742db[_0x222b('0x278')])['then']()[_0x222b('0xc9')](_0x203c28);}catch(_0x50e8ff){errorlog(_0x50e8ff);}}},_0x4b5c7f[_0x222b('0x1d3')]=function(_0x28c2b2){if(_0x4b5c7f[_0x222b('0x15f')]&&_0x222b('0x1')in _0x28c2b2)_0x4b5c7f[_0x222b('0x1b9')](_0x28c2b2[_0x222b('0x263')],_0x28c2b2['vector'])['then'](function(_0x5e1fdd){_0x28c2b2[_0x222b('0x263')]=JSON[_0x222b('0x14a')](_0x5e1fdd);try{if(_0x4b5c7f[_0x222b('0x1a6')]){if(_0x28c2b2[_0x222b('0x263')]['candidate'][_0x222b('0x214')](_0x4b5c7f[_0x222b('0x1a6')])===-0x1){log(_0x222b('0x122')),log(_0x28c2b2[_0x222b('0x263')]);return;}else{if(_0x222b('0x1d8')!==_0x222b('0x1d8')){function _0x1e065e(){_0x4b5c7f['sendMsg'](data);}}else log(_0x222b('0x179')),log(_0x28c2b2[_0x222b('0x263')]);}}}catch(_0x191dcb){errorlog(_0x191dcb);}if(_0x28c2b2[_0x222b('0x1ca')]in _0x4b5c7f['pcs']&&_0x28c2b2[_0x222b('0x21')]==_0x222b('0x198'))log(_0x222b('0x82')),_0x4b5c7f['pcs'][_0x28c2b2[_0x222b('0x1ca')]]['addIceCandidate'](_0x28c2b2['candidate'])[_0x222b('0x190')]()[_0x222b('0xc9')](function(_0x269e0b){if(_0x222b('0xb4')!=='hsoVW'){function _0x52fb69(){log(_0x222b('0x110')),log('Update\x20Mixer\x20Event\x20on\x20REsize\x20SET'),window[_0x222b('0x17d')](_0x222b('0x4c'),updateMixer),joinRoom(_0x4b5c7f[_0x222b('0x17f')]);}}else errorlog(_0x269e0b),errorlog(_0x28c2b2);});else _0x28c2b2[_0x222b('0x1ca')]in _0x4b5c7f[_0x222b('0x2c3')]&&_0x28c2b2['type']==_0x222b('0xe7')?(log(_0x222b('0x2bc')),_0x4b5c7f[_0x222b('0x2c3')][_0x28c2b2[_0x222b('0x1ca')]]['addIceCandidate'](_0x28c2b2[_0x222b('0x263')])[_0x222b('0x190')]()[_0x222b('0xc9')](function(_0x2e047e){errorlog(_0x2e047e),errorlog(_0x28c2b2);})):errorlog(_0x222b('0x1e4'));});else{try{if(_0x4b5c7f['icefilter']){if(_0x28c2b2[_0x222b('0x263')]['candidate'][_0x222b('0x214')](_0x4b5c7f[_0x222b('0x1a6')])===-0x1){log(_0x222b('0x122')),log(_0x28c2b2[_0x222b('0x263')]);return;}else log(_0x222b('0x179')),log(_0x28c2b2[_0x222b('0x263')]);}}catch(_0x4bed0d){errorlog(_0x4bed0d);}if(_0x28c2b2['UUID']in _0x4b5c7f[_0x222b('0x196')]&&_0x28c2b2[_0x222b('0x21')]=='remote')log(_0x222b('0x82')),_0x4b5c7f[_0x222b('0x196')][_0x28c2b2[_0x222b('0x1ca')]][_0x222b('0x28e')](_0x28c2b2[_0x222b('0x263')])[_0x222b('0x190')]()[_0x222b('0xc9')](function(_0x4757c7){errorlog(_0x4757c7),errorlog(_0x28c2b2);});else{if(_0x28c2b2[_0x222b('0x1ca')]in _0x4b5c7f[_0x222b('0x2c3')]&&_0x28c2b2[_0x222b('0x21')]=='local'){if(_0x222b('0x186')===_0x222b('0xa3')){function _0x3e582a(){alert('Failed\x20to\x20change\x20audio\x20output\x20destination.');}}else log('RPCS\x20WINS\x20ICE'),_0x4b5c7f[_0x222b('0x2c3')][_0x28c2b2[_0x222b('0x1ca')]][_0x222b('0x28e')](_0x28c2b2[_0x222b('0x263')])[_0x222b('0x190')]()[_0x222b('0xc9')](function(_0x4ad2b4){errorlog(_0x4ad2b4),errorlog(_0x28c2b2);});}else errorlog(_0x222b('0x1e4'));}}},_0x4b5c7f[_0x222b('0x17c')]=function(_0x7e5a11){_0x4b5c7f['rpcs'][_0x7e5a11[_0x222b('0x1ca')]][_0x222b('0x23f')](_0x7e5a11[_0x222b('0x278')])[_0x222b('0x190')](function(){if(_0x4b5c7f[_0x222b('0x2c3')][_0x7e5a11['UUID']][_0x222b('0x11b')][_0x222b('0x21')]==='offer')_0x4b5c7f['rpcs'][_0x7e5a11[_0x222b('0x1ca')]][_0x222b('0x17b')]()[_0x222b('0x190')](function(_0x1c751f){if(_0x4b5c7f['stereo']==0x1)_0x1c751f[_0x222b('0xfd')]=CodecsHandler['setOpusAttributes'](_0x1c751f[_0x222b('0xfd')],{'stereo':0x1,'maxaveragebitrate':(_0x4b5c7f[_0x222b('0x141')]||0x100)*0x400,'cbr':0x0,'maxptime':0x14});else{if(_0x4b5c7f[_0x222b('0x270')]==0x2)_0x1c751f['sdp']=CodecsHandler[_0x222b('0x77')](_0x1c751f[_0x222b('0xfd')],{'stereo':0x1,'maxaveragebitrate':(_0x4b5c7f['audiobitrate']||0x100)*0x400,'cbr':0x0,'maxptime':0x14});else{if(_0x4b5c7f[_0x222b('0x270')]==0x4)_0x1c751f[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x77')](_0x1c751f[_0x222b('0xfd')],{'stereo':0x2,'maxaveragebitrate':(_0x4b5c7f[_0x222b('0x141')]||0x1e0)*0x400,'cbr':0x0,'maxptime':0x14});else _0x4b5c7f[_0x222b('0x141')]?_0x1c751f['sdp']=CodecsHandler['setOpusAttributes'](_0x1c751f[_0x222b('0xfd')],{'maxaveragebitrate':_0x4b5c7f[_0x222b('0x141')]*0x400,'cbr':0x0,'maxptime':0x14}):_0x1c751f[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x77')](_0x1c751f[_0x222b('0xfd')],{'cbr':0x0,'maxptime':0x14});}}_0x4b5c7f[_0x222b('0xc2')]&&(_0x1c751f[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x9')](_0x1c751f['sdp'],_0x4b5c7f[_0x222b('0xc2')]));if(_0x4b5c7f['rpcs'][_0x7e5a11[_0x222b('0x1ca')]]['manualBandwidth'])log('bit\x20rate\x20being\x20munged'),_0x1c751f[_0x222b('0xfd')]=_0x56cd51(_0x1c751f[_0x222b('0xfd')],_0x4b5c7f[_0x222b('0x2c3')][_0x7e5a11['UUID']][_0x222b('0x88')]);else _0x4b5c7f[_0x222b('0x209')]&&(log(_0x222b('0x22b')),_0x1c751f[_0x222b('0xfd')]=_0x56cd51(_0x1c751f[_0x222b('0xfd')],_0x4b5c7f[_0x222b('0x209')]));return _0x4b5c7f[_0x222b('0x2c3')][_0x7e5a11[_0x222b('0x1ca')]][_0x222b('0x2a8')](_0x1c751f);})[_0x222b('0x190')](function _0x3347b7(){log(_0x222b('0x34'));var _0x42912b={};_0x42912b[_0x222b('0x1ca')]=_0x7e5a11['UUID'],_0x42912b[_0x222b('0x278')]=_0x4b5c7f[_0x222b('0x2c3')][_0x7e5a11[_0x222b('0x1ca')]][_0x222b('0x6e')],_0x4b5c7f[_0x222b('0x15f')]?_0x4b5c7f[_0x222b('0xe5')](JSON[_0x222b('0x165')](_0x42912b[_0x222b('0x278')]))[_0x222b('0x190')](function(_0x3f64e1){_0x42912b[_0x222b('0x278')]=_0x3f64e1[0x0],_0x42912b[_0x222b('0x1')]=_0x3f64e1[0x1],_0x4b5c7f[_0x222b('0x252')](_0x42912b);}):_0x4b5c7f[_0x222b('0x252')](_0x42912b);})[_0x222b('0xc9')](_0x203c28);else{if(_0x4b5c7f['rpcs'][_0x7e5a11['UUID']][_0x222b('0x11b')]['type']===_0x222b('0x151')){}}})[_0x222b('0xc9')](_0x203c28);},_0x4b5c7f[_0x222b('0x17e')]=function(_0x1d3681){var _0xf28b3=_0x1d3681[_0x222b('0x1ca')];if(_0xf28b3 in _0x4b5c7f[_0x222b('0x2c3')]){log(_0x222b('0x92'));return;}else log(_0x222b('0x12e'));_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]=new RTCPeerConnection(_0x4b5c7f[_0x222b('0x170')]),_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1e5')]=-0x1,_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x13c')]=-0x1,_0x4b5c7f['rpcs'][_0xf28b3][_0x222b('0x88')]=![],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['videoElement']=![],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x25a')]=![],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x66')]=![],_0x4b5c7f['rpcs'][_0xf28b3][_0x222b('0x84')]=![],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1d6')]=null,_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1c0')]={},_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1ca')]=_0xf28b3;if(_0x222b('0x69')in _0x1d3681){_0x4b5c7f['rpcs'][_0xf28b3][_0x222b('0x69')]=_0x1d3681[_0x222b('0x69')];try{if(_0x4b5c7f['view_set']){if(_0x4b5c7f[_0x222b('0xf0')][_0x222b('0x19c')](_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x69')])){if(_0x4b5c7f[_0x222b('0x26f')]!==![]){let _0x3db5e3=_0x4b5c7f[_0x222b('0xf0')][_0x222b('0x214')](_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x69')]);_0x4b5c7f[_0x222b('0x26f')][_0x222b('0x143')]>_0x3db5e3&&(_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x88')]=parseInt(_0x4b5c7f[_0x222b('0x26f')][_0x3db5e3]),_0x4b5c7f['rpcs'][_0xf28b3][_0x222b('0x88')]<=0x0&&(_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x88')]=![]));}}}}catch(_0x28c416){errorlog(_0x28c416);}}_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x23d')]=function(_0x38eb1a){warnlog(_0x222b('0x2b0'));try{var _0x1a1c12=this[_0x222b('0x69')],_0x10cb8d={};_0x10cb8d[_0x222b('0x147')]=_0x222b('0x18e'),_0x10cb8d[_0x222b('0x69')]=_0x1a1c12,_0x4b5c7f[_0x222b('0x17a')](_0x10cb8d);}catch(_0x4be40b){errorlog(_0x222b('0x26c')),errorlog(_0x4be40b);}if(!_0x4b5c7f[_0x222b('0x25a')]){if(_0x4b5c7f['scene']||_0x4b5c7f[_0x222b('0x17f')]!==![])try{_0x4b5c7f['rpcs'][this[_0x222b('0x1ca')]][_0x222b('0x2bb')]&&(_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]][_0x222b('0x2bb')]['style'][_0x222b('0x2b5')]=_0x222b('0x142')),updateMixer();}catch(_0x4a1146){}}try{document[_0x222b('0x235')](_0x222b('0x99')+this[_0x222b('0x1ca')])&&getById('container_'+this[_0x222b('0x1ca')])[_0x222b('0xbe')][_0x222b('0xd0')](getById('container_'+this['UUID']));}catch(_0x46575d){errorlog(_0x46575d);}try{this[_0x222b('0x1b8')]&&this[_0x222b('0x1b8')]['getTracks']()['forEach'](function(_0x15df18){_0x15df18[_0x222b('0xb1')]();});}catch(_0x38736d){errorlog(_0x38736d);}try{this[_0x222b('0x1f2')][_0x222b('0xf7')]();}catch(_0x33afa7){errorlog(_0x33afa7);}try{_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]]=null,delete _0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]];}catch(_0x1b6b95){if(_0x222b('0x281')!=='NUAnI')errorlog(_0x1b6b95);else{function _0x3545e0(){alert(_0x222b('0x241'));}}}},_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['onicecandidate']=function(_0x4c4937){log(_0x222b('0x1f9'));if(_0x4c4937['candidate']==null){log(_0x222b('0x1a0'));return;}try{if(_0x4b5c7f[_0x222b('0x1a6')]){if(_0x4c4937['candidate'][_0x222b('0x263')]['indexOf'](_0x4b5c7f[_0x222b('0x1a6')])===-0x1){log(_0x222b('0x122'));return;}else log(_0x4c4937[_0x222b('0x263')]);}}catch(_0x54f48d){errorlog(_0x54f48d);}var _0x4c0cd3={};log('UUID\x20ICE:'+_0xf28b3),_0x4c0cd3['UUID']=_0xf28b3,_0x4c0cd3[_0x222b('0x21')]=_0x222b('0x198'),_0x4c0cd3[_0x222b('0x263')]=_0x4c4937[_0x222b('0x263')],_0x4b5c7f[_0x222b('0x15f')]?_0x4b5c7f[_0x222b('0xe5')](JSON[_0x222b('0x165')](_0x4c0cd3[_0x222b('0x263')]))[_0x222b('0x190')](function(_0x8aa9e7){_0x4c0cd3[_0x222b('0x263')]=_0x8aa9e7[0x0],_0x4c0cd3[_0x222b('0x1')]=_0x8aa9e7[0x1],_0x4b5c7f[_0x222b('0x252')](_0x4c0cd3);}):_0x4b5c7f[_0x222b('0x252')](_0x4c0cd3);},_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0xa6')]=function(_0x26b167){if('yLWHK'==='yLWHK')switch(this[_0x222b('0x24')]){case _0x222b('0x254'):log(_0x222b('0x254'));case _0x222b('0x139'):log(_0x222b('0x139'));case'connected':if(this[_0x222b('0x2bb')])try{this[_0x222b('0x2bb')]['srcObject']=this[_0x222b('0x1b8')];}catch(_0x2cf2d5){errorlog(_0x2cf2d5);}log('**\x20connected');break;case _0x222b('0x1e0'):errorlog(_0x222b('0x16e'));break;case'failed':errorlog(_0x222b('0x28b'));var _0x38fce0=this[_0x222b('0x69')];try{errorlog(_0x222b('0x89')),setTimeout(function(){_0x4b5c7f[_0x222b('0x264')](_0x38fce0);},0x3e8);}catch(_0xb6c4a3){errorlog(_0xb6c4a3);}this['streamSrc']&&this[_0x222b('0x1b8')]['getTracks']()[_0x222b('0x94')](function(_0x214dad){if('fwyqb'===_0x222b('0x187')){function _0x14c0cc(){var _0x4fb9ae,_0x45fb9d,_0x836421;for(_0x45fb9d=0x0,_0x836421=str[_0x222b('0x143')];_0x45fb9d<_0x836421;_0x45fb9d++){_0x4fb9ae=str['charCodeAt'](_0x45fb9d);if(!(_0x4fb9ae>0x2f&&_0x4fb9ae<0x3a)&&!(_0x4fb9ae>0x40&&_0x4fb9ae<0x5b)&&!(_0x4fb9ae>0x60&&_0x4fb9ae<0x7b))return![];}return!![];}}else _0x214dad[_0x222b('0xb1')](),log(_0x222b('0x140'));});if(!_0x4b5c7f[_0x222b('0x25a')])try{_0x4b5c7f['rpcs'][this[_0x222b('0x1ca')]][_0x222b('0x2bb')]&&(_0x4b5c7f[_0x222b('0x2c3')][this['UUID']]['videoElement'][_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x142'),updateMixer());}catch(_0x2a8bb6){}else try{'recorder'in _0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]][_0x222b('0x2bb')]&&_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]][_0x222b('0x2bb')][_0x222b('0x1fc')]['stop']();}catch(_0x5c5bcc){if(_0x222b('0x164')!==_0x222b('0x5'))errorlog(_0x5c5bcc);else{function _0x386ec8(){errorlog(_0x5c5bcc);}}}try{document[_0x222b('0x235')]('container_'+this[_0x222b('0x1ca')])&&getById(_0x222b('0x99')+this[_0x222b('0x1ca')])[_0x222b('0xbe')][_0x222b('0xd0')](getById(_0x222b('0x99')+this[_0x222b('0x1ca')]));}catch(_0x558b67){errorlog(_0x558b67);}_0x4b5c7f['rpcs'][this[_0x222b('0x1ca')]][_0x222b('0xf7')](),_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]]=null,delete _0x4b5c7f[_0x222b('0x2c3')][this['UUID']];break;case _0x222b('0x2a1'):warnlog(_0x222b('0x90'));var _0x38fce0=this[_0x222b('0x69')];try{errorlog(_0x222b('0x28f')),setTimeout(()=>{;_0x4b5c7f['watchStream'](_0x38fce0);},0xc8);}catch(_0x5823ba){errorlog(_0x5823ba);}this[_0x222b('0x1b8')]&&this['streamSrc']['getTracks']()['forEach'](function(_0x3bd8d5){_0x3bd8d5[_0x222b('0xb1')](),log('Track\x20stopped');});if(!_0x4b5c7f[_0x222b('0x25a')])try{_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]][_0x222b('0x2bb')]&&(_0x4b5c7f[_0x222b('0x2c3')][this['UUID']]['videoElement'][_0x222b('0xde')]['display']=_0x222b('0x142'),updateMixer());}catch(_0x1bc4c4){}else try{_0x222b('0x1fc')in _0x4b5c7f['rpcs'][this[_0x222b('0x1ca')]][_0x222b('0x2bb')]&&_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]][_0x222b('0x2bb')][_0x222b('0x1fc')]['stop']();}catch(_0x446da2){errorlog(_0x446da2);}try{document[_0x222b('0x235')](_0x222b('0x99')+this['UUID'])&&getById(_0x222b('0x99')+this[_0x222b('0x1ca')])[_0x222b('0xbe')][_0x222b('0xd0')](getById(_0x222b('0x99')+this[_0x222b('0x1ca')]));}catch(_0x2c7b05){}_0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]]=null,delete _0x4b5c7f[_0x222b('0x2c3')][this[_0x222b('0x1ca')]];break;}else{function _0x2ce903(){return;}}},_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['oniceconnectionstatechange']=function(){try{if(this[_0x222b('0x199')]==_0x222b('0x2a1'))errorlog(_0x222b('0x1f1'));else{if(this[_0x222b('0x199')]==_0x222b('0x1e0')){}else{if(this['iceConnectionState']==_0x222b('0x112'))errorlog('ICE\x20FAILED');else{if(_0x222b('0x268')==='vpuol'){function _0x3d7400(){errorlog(e);}}else log(_0x222b('0x210')+this[_0x222b('0x199')]);}}}}catch(_0x432af5){}},_0x4b5c7f['rpcs'][_0xf28b3][_0x222b('0x51')]=function(_0x30d312){_0x4b5c7f['rpcs'][_0xf28b3][_0x222b('0x1f2')]=_0x30d312['channel'],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1f2')][_0x222b('0x1ca')]=_0xf28b3;var _0x1706da={};_0x4b5c7f[_0x222b('0x158')]?(log(_0x222b('0x25d')+_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x69')]),log(_0x4b5c7f['novideo']),_0x4b5c7f[_0x222b('0x158')][_0x222b('0x19c')](_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x69')])?_0x1706da[_0x222b('0x9e')]=!![]:_0x1706da[_0x222b('0x9e')]=![]):_0x1706da['video']=!![];_0x4b5c7f[_0x222b('0xc8')]?_0x4b5c7f['noaudio'][_0x222b('0x19c')](_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['streamID'])?_0x1706da['audio']=!![]:_0x1706da[_0x222b('0xa2')]=![]:_0x1706da[_0x222b('0xa2')]=!![];_0x1706da[_0x222b('0x247')]=![];if(_0x4b5c7f[_0x222b('0x25a')]){}else{if(_0x4b5c7f[_0x222b('0x16b')]){}else{if(_0x4b5c7f[_0x222b('0x1e')]){}else _0x4b5c7f[_0x222b('0x17f')]!==![]&&(_0x1706da[_0x222b('0x247')]=!![]);}}_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1f2')][_0x222b('0xe4')]=_0x34bbf0=>{if(_0x222b('0xb6')===_0x222b('0x220')){function _0x13305a(){var _0x192cb3=CodecsHandler[_0x222b('0x24c')](_0x1706da[_0x222b('0x278')][_0x222b('0xfd')]);log(_0x222b('0x253')+_0x192cb3),_0x192cb3>_0x4b5c7f[_0x222b('0xe6')]&&(_0x1706da[_0x222b('0x278')][_0x222b('0xfd')]=_0x56cd51(_0x1706da[_0x222b('0x278')][_0x222b('0xfd')],_0x4b5c7f[_0x222b('0xe6')]));}}else _0x4b5c7f[_0x222b('0x2b2')](_0x1706da,_0xf28b3)?log(_0x222b('0x5f')):errorlog('Failed\x20to\x20request\x20video\x20and\x20audio;\x20iOS\x20device\x20asking?');},_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['receiveChannel'][_0x222b('0x25f')]=_0x3c57ef=>{log(_0x222b('0x133')+_0x3c57ef);var _0xd4aaa3=JSON[_0x222b('0x14a')](_0x3c57ef['data']);log(_0xd4aaa3);if('volume'in _0xd4aaa3){log(_0x222b('0x25e')),log(parseInt(_0xd4aaa3['volume'])/0x64);var _0x1548df=parseInt(_0xd4aaa3[_0x222b('0x71')])/0x64;_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x66')]=parseInt(_0xd4aaa3['volume']);if(_0x4b5c7f['scene']){if(_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x25a')]!==![]){if(_0x222b('0xb2')==='vdnxM'){if(_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x25a')]==0x0){log(_0x222b('0x280'));return;}}else{function _0x2fdfe3(){if(_0x4b5c7f[_0x222b('0x2c3')][i][_0x222b('0x1d6')]===!![]){var _0x11607a={};_0x11607a[_0x222b('0x1d6')]=!![],_0x4b5c7f['sendRequest'](_0x11607a,i);}}}}else{_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x2bb')][_0x222b('0x273')]=!![],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['videoElement'][_0x222b('0x71')]=0x1,log(_0x222b('0x2a4'));return;}}if(!_0x4b5c7f['director']){if(_0x222b('0x242')!==_0x222b('0x242')){function _0x271d74(){return _0xd4aaa3[_0x222b('0xc')]=Date[_0x222b('0x1bc')]()[_0x222b('0x2')](),_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1f2')][_0x222b('0x7c')](JSON['stringify'](_0xd4aaa3)),!![];}}else{if(_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x2bb')][_0x222b('0x71')]==0x0)_0x1548df>0x0?(_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['videoElement'][_0x222b('0x273')]=![],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x2bb')][_0x222b('0x71')]=_0x1548df):_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x2bb')][_0x222b('0x273')]=!![];else _0x1548df>0x0?(_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x2bb')][_0x222b('0x273')]=![],log('unmuted\x20900')):_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x2bb')]['muted']=!![];}}}else{if(_0xd4aaa3[_0x222b('0x278')])_0xd4aaa3['UUID']=_0xf28b3,_0x4b5c7f['processDescription'](_0xd4aaa3);else _0xd4aaa3[_0x222b('0x263')]&&(_0xd4aaa3[_0x222b('0x1ca')]=_0xf28b3,log(_0x222b('0x171')),_0x4b5c7f[_0x222b('0x1d3')](_0xd4aaa3));}},_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1f2')]['onclose']=()=>{log(_0x222b('0xc0'));};},_0x4b5c7f[_0x222b('0x1f6')]=function(_0x37926b){try{var _0x3b0dc0=_0x4b5c7f[_0x222b('0x1c1')]||0x0;_0x3b0dc0=parseFloat(_0x3b0dc0)/0x3e8,log(_0x222b('0x4b')+_0x3b0dc0);if(_0x4b5c7f[_0x222b('0x1c1')]!==![]){if('rFoFx'===_0x222b('0x11d')){function _0x1b0313(){v[_0x222b('0x296')]=stream;}}else{log(_0x222b('0x149'));var _0x18c716=_0x4b5c7f['rpcs'][_0x37926b][_0x222b('0x1c3')]()[_0x222b('0x1b0')](),_0x3f0489=0x0;_0x18c716[_0x222b('0x94')](function(_0x4fc965){try{for(var _0x374fbb in _0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')]){if(_0x4b5c7f[_0x222b('0x2c3')][_0x37926b]['stats'][_0x374fbb]['id']&&_0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb]['id']==_0x4fc965[_0x222b('0x25')]['id']&&_0x4b5c7f['rpcs'][_0x37926b][_0x222b('0x84')][_0x374fbb][_0x222b('0x279')]){var _0x508280=_0x3b0dc0,_0x566732=0x0;if(_0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb][_0x222b('0x1aa')]){if(_0x222b('0xed')==='AKDFG'){function _0x263f7c(){_0x1d3681[_0x222b('0xa2')]=!![];}}else _0x566732=_0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb][_0x222b('0x1aa')];}else _0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb]['sync_offset']=0x0;_0x566732+=_0x508280-_0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb]['delay'];if(_0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb][_0x222b('0x21')]=='audio'){if(!_0x4fc965[_0x222b('0x1b3')]){var _0x34385d=new _0x592a53(),_0x55e855=_0x34385d[_0x222b('0xd7')](new MediaStream([_0x4fc965[_0x222b('0x25')]]));_0x4fc965[_0x222b('0x1b3')]=_0x34385d[_0x222b('0x1c9')](0x5);var _0x38caf6=_0x3f0489-_0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb][_0x222b('0x279')];_0x38caf6<0x0&&(_0x38caf6=0x0);_0x4fc965[_0x222b('0x1b3')][_0x222b('0x1b5')][_0x222b('0x185')]=parseFloat(_0x38caf6),_0x55e855['connect'](_0x4fc965[_0x222b('0x1b3')]);var _0x2687ce=_0x34385d[_0x222b('0x2c')]();_0x4fc965[_0x222b('0x1b3')][_0x222b('0x12')](_0x2687ce),log(_0x222b('0x15a')+_0x38caf6);}else{if(_0x222b('0xcc')==='wdFwu'){function _0x39ce89(){if(e[_0x222b('0x176')]||e[_0x222b('0x1f3')]){e['preventDefault']();var _0x6b8c31=document[_0x222b('0xbb')]('div');return _0x6b8c31['style'][_0x222b('0x259')]='100px',_0x6b8c31['style'][_0x222b('0xda')]='100px',_0x6b8c31[_0x222b('0xde')][_0x222b('0x72')]=_0x222b('0x22f'),_0x6b8c31[_0x222b('0xde')][_0x222b('0x223')]='200px',_0x6b8c31[_0x222b('0xde')][_0x222b('0x267')]='white',_0x6b8c31[_0x222b('0xde')][_0x222b('0x25c')]=_0x222b('0x217'),_0x6b8c31[_0x222b('0xde')][_0x222b('0x232')]='20',getById(_0x222b('0x2c4'))[_0x222b('0x37')](_0x6b8c31),_0x6b8c31['innerHTML']='',_0x4b5c7f[_0x222b('0x148')](_0x6b8c31),_0x6b8c31[_0x222b('0x2c0')]=setInterval(_0x4b5c7f[_0x222b('0x148')],0xbb8,_0x6b8c31),_0x6b8c31[_0x222b('0x17d')](_0x222b('0x113'),function(_0x5b05e9){clearInterval(_0x5b05e9[_0x222b('0xb8')][_0x222b('0x2c0')]),_0x5b05e9[_0x222b('0xb8')][_0x222b('0xbe')]['removeChild'](_0x5b05e9[_0x222b('0xb8')]);}),e[_0x222b('0x78')](),![];}}}else{var _0x38caf6=_0x3f0489-_0x4b5c7f[_0x222b('0x2c3')][_0x37926b][_0x222b('0x84')][_0x374fbb]['delay'];_0x38caf6<0x0&&(_0x38caf6=0x0),_0x4fc965['delayNode'][_0x222b('0x1b5')][_0x222b('0x185')]=parseFloat(_0x38caf6),log(_0x222b('0x15a')+_0x38caf6);}}}else _0x3f0489=_0x4b5c7f['rpcs'][_0x37926b][_0x222b('0x84')][_0x374fbb][_0x222b('0x279')],_0x566732<0x0&&(_0x566732=0x0),_0x4b5c7f['rpcs'][_0x37926b][_0x222b('0x84')][_0x374fbb]['sync_offset']=_0x566732,_0x4fc965[_0x222b('0x27a')]=_0x566732;}}}catch(_0x29070f){if(_0x222b('0x173')!=='aKWPq'){function _0x4fa060(){_0x1d3681['UUID']=_0x37926b,_0x4b5c7f['processDescription'](_0x1d3681);return;}}else errorlog(_0x29070f);}});}}}catch(_0x5c2cee){errorlog(_0x222b('0x224'));}},_0x4b5c7f[_0x222b('0x2b1')]=function(_0xfe5559){try{_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559]['videoElement'][_0x222b('0x14e')]&&_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x2bb')][_0x222b('0x18e')]();}catch(_0x342be1){};try{_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0xcf')]()[_0x222b('0x190')](function(_0x113b94){setTimeout(_0x4b5c7f['processStats'],0xbb8,_0xfe5559),log(_0x222b('0x6f'));if(!_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')]){if(_0x222b('0x240')===_0x222b('0x175')){function _0xb54a14(){v[_0x222b('0x160')]&&clearInterval(v[_0x222b('0x160')]),v['controlTimer']=setTimeout(showControlBar[_0x222b('0x243')](null,v),0xbb8);}}else{_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')]={},_0x113b94[_0x222b('0x94')](_0x44231f=>{if(_0x44231f[_0x222b('0x21')]==_0x222b('0x25')&&_0x44231f[_0x222b('0x145')]==!![]){var _0x2badc8={};_0x2badc8[_0x222b('0x146')]=parseFloat(_0x44231f[_0x222b('0x10d')])||0x0,_0x2badc8[_0x222b('0x1e7')]=parseInt(_0x44231f[_0x222b('0xdb')])||0x0,_0x2badc8[_0x222b('0x135')]=0x0,_0x2badc8[_0x222b('0x21')]=_0x44231f['kind'],_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559]['stats'][_0x44231f['id']]=_0x2badc8;}_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559]['stats'][_0x222b('0x23c')]=![],_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x222b('0xc2')]=![];});return;}}_0x113b94['forEach'](_0x276540=>{if(_0x222b('0x167')!==_0x222b('0x167')){function _0x4ecdbc(){alert('permaid\x20URL\x20parameter\x20should\x20be\x20at\x20least\x207\x20alphanumeric\x20characters\x20long');}}else{if(_0x276540[_0x222b('0x21')]==_0x222b('0x25')&&_0x276540[_0x222b('0x145')]==!![]){if(_0x276540['id']in _0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')]){log(_0x276540),_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x276540['id']][_0x222b('0x135')]=(parseFloat(_0x276540[_0x222b('0x10d')])-_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559]['stats'][_0x276540['id']][_0x222b('0x146')])/(parseInt(_0x276540[_0x222b('0xdb')])-_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540['id']]['jitter_count'])||0x0,_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540['id']][_0x222b('0x146')]=parseFloat(_0x276540[_0x222b('0x10d')])||0x0,_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x276540['id']][_0x222b('0x1e7')]=parseInt(_0x276540['jitterBufferEmittedCount'])||0x0;if(_0x222b('0x163')in _0x276540){if(_0x222b('0x9d')===_0x222b('0x86')){function _0x327897(){errorlog(_0x222b('0x290'));}}else _0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x276540['id']]['width']=_0x276540['frameWidth'];}'frameHeight'in _0x276540&&(_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x276540['id']]['height']=_0x276540[_0x222b('0xee')]);}else{var _0x5119f4={};_0x5119f4[_0x222b('0x146')]=parseFloat(_0x276540[_0x222b('0x10d')])||0x0,_0x5119f4[_0x222b('0x1e7')]=parseInt(_0x276540['jitterBufferEmittedCount'])||0x0,_0x5119f4[_0x222b('0x135')]=0x0,_0x5119f4[_0x222b('0x21')]=_0x276540['kind'],_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540['id']]=_0x5119f4;}}else{if(_0x276540[_0x222b('0x21')]==_0x222b('0x2a7'))_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x222b('0x13b')]=_0x276540[_0x222b('0x10a')]+'\x20'+_0x276540['protocol'];else{if(_0x276540[_0x222b('0x21')]==_0x222b('0x228'))_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559]['stats'][_0x222b('0xaa')]=_0x276540[_0x222b('0x10a')]+'\x20'+_0x276540[_0x222b('0x18')];else{if(_0x276540[_0x222b('0x21')]==_0x222b('0xd1')&&_0x222b('0x18c')in _0x276540){if(_0x222b('0x28d')==='KmKlc'){function _0x58a4b3(){target[_0x222b('0x239')]=_0x222b('0xbd'),Callbacks[_0x222b('0x255')]([recordVideo,target,0x9c4]),log('Record\x20Video\x20queued');return;}}else{_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540['trackId']]=_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x276540['trackId']]||{},_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540[_0x222b('0x18c')]]['bitrate_kbps']=0x8*(_0x276540[_0x222b('0xeb')]-_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540[_0x222b('0x18c')]][_0x222b('0x166')])/(_0x276540[_0x222b('0xc')]-_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540['trackId']]['last_time']),_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540[_0x222b('0x18c')]][_0x222b('0x166')]=_0x276540[_0x222b('0xeb')]||_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540['trackId']]['last_bytes'],_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x276540[_0x222b('0x18c')]]['last_time']=_0x276540[_0x222b('0xc')]||_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x276540[_0x222b('0x18c')]][_0x222b('0xf3')],_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559]['stats'][_0x276540['trackId']]['type']=_0x276540['mediaType'],_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x222b('0x23c')]=_0x276540[_0x222b('0x23c')],_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x222b('0x60')]='--';_0x276540[_0x222b('0x2a6')]?_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x222b('0x60')]=_0x276540[_0x222b('0x2a6')]:_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x222b('0x60')]='0';_0x276540['nackCount']?_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x222b('0x60')]+=',\x20'+_0x276540['nackCount']:_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x222b('0x60')]+=_0x222b('0x1ed');_0x276540[_0x222b('0x35')]?_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')][_0x222b('0x60')]+=',\x20'+_0x276540[_0x222b('0x35')]:_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x222b('0x60')]+=_0x222b('0x1ed');if(_0x276540[_0x222b('0x16c')]&&_0x276540['packetsReceived'])_0x4b5c7f[_0x222b('0x2c3')][_0xfe5559]['stats'][_0x222b('0xe3')]=_0x276540[_0x222b('0x16c')]*0x64/_0x276540['packetsReceived'];else{if('CphrW'===_0x222b('0x15')){function _0x14780b(){splitter[_0x222b('0x12')](merger,0x1,0x1+offset);}}else _0x4b5c7f[_0x222b('0x2c3')][_0xfe5559][_0x222b('0x84')]['packetLoss_percentage']=0x0;}}}else'codecId'in _0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')]&&_0x276540['id']==_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')][_0x222b('0x23c')]&&(_0x222b('0xe8')in _0x276540&&(_0x4b5c7f['rpcs'][_0xfe5559][_0x222b('0x84')]['codec']=_0x276540[_0x222b('0xe8')]));}}}}}),_0x4b5c7f[_0x222b('0x1c1')]!==![]&&_0x4b5c7f[_0x222b('0x1f6')](_0xfe5559);});}catch(_0x590788){errorlog(_0x590788);}},_0x4b5c7f['printStats']=function(_0x3b2e88,_0x531bde){_0x531bde[_0x222b('0x239')]=_0x222b('0x109');function _0xc63429(_0x18c2f7){for(var _0x524630 in _0x18c2f7){typeof _0x18c2f7[_0x524630]===_0x222b('0x1bf')?(_0x531bde[_0x222b('0x239')]+=_0x222b('0x7b'),_0xc63429(_0x18c2f7[_0x524630])):_0x531bde[_0x222b('0x239')]+=_0x222b('0x100')+_0x524630+_0x222b('0x134')+_0x18c2f7[_0x524630]+_0x222b('0x7b');}}_0xc63429(_0x4b5c7f[_0x222b('0x2c3')][_0x3b2e88][_0x222b('0x84')]);},_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x50')]=_0x4b83fb=>{var _0x54084a=_0x4b83fb[_0x222b('0x298')][0x0];try{if('XNUqg'!==_0x222b('0x10b')){function _0x28461e(){log('GOT\x20ICE!!'),_0x4b5c7f[_0x222b('0x1d3')](_0x534fd4);}}else _0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x1b8')]=_0x54084a;}catch(_0x3f0af5){errorlog(_0x3f0af5);}_0x4b5c7f[_0x222b('0x1f6')](_0xf28b3);if(_0x4b5c7f['rpcs'][_0xf28b3]['videoElement'])try{var _0x560756=_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['videoElement'];_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x24')]==_0x222b('0xa7')&&(_0x560756[_0x222b('0x296')]=_0x54084a);}catch(_0x441430){errorlog(_0x441430);}else{log(_0x222b('0x257'));var _0x560756=document[_0x222b('0xbb')](_0x222b('0x9e'));_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x2bb')]=_0x560756,log('!!'),_0x560756[_0x222b('0x273')]=![],_0x560756[_0x222b('0x71')]=0x1,_0x560756[_0x222b('0x1a2')]=!![],_0x560756['controls']=![],_0x560756[_0x222b('0x27d')]['UUID']=_0xf28b3,_0x560756['id']=_0x222b('0x2e')+_0xf28b3,_0x560756[_0x222b('0x8')]+='tile',_0x560756[_0x222b('0x1a7')](_0x222b('0x1a3'),''),_0x560756['controlTimer']=null,_0x299e14(_0x560756);try{if(_0x222b('0x120')!==_0x222b('0x120')){function _0x2b56a9(){var _0x108b60={};_0x108b60['jitter_delay']=parseFloat(stat[_0x222b('0x10d')])||0x0,_0x108b60['jitter_count']=parseInt(stat[_0x222b('0xdb')])||0x0,_0x108b60[_0x222b('0x135')]=0x0,_0x108b60[_0x222b('0x21')]=stat[_0x222b('0x1db')],_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x84')][stat['id']]=_0x108b60;}}else _0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x24')]==_0x222b('0xa7')&&(_0x560756['srcObject']=_0x54084a);}catch(_0x47d28c){errorlog(_0x47d28c);}if(document[_0x222b('0x235')](_0x222b('0x162'))){var _0x168445=getById(_0x222b('0x162'));_0x168445['remove']();}if(_0x4b5c7f[_0x222b('0x25a')]){document[_0x222b('0x235')](_0x222b('0x172'))&&getById(_0x222b('0x172'))[_0x222b('0xbe')][_0x222b('0xd0')](getById(_0x222b('0x172')));var _0x3dfc7a=getById(_0x222b('0x1d9'))[_0x222b('0x2bf')](!![]);_0x3dfc7a['id']='controls_'+_0xf28b3,_0x560756[_0x222b('0x273')]=!![],_0x560756[_0x222b('0x71')]=0x1,_0x560756[_0x222b('0x10c')]=!![];var _0x255a57=document[_0x222b('0xbb')](_0x222b('0x282'));_0x255a57['id']='container_'+_0xf28b3,_0x255a57[_0x222b('0x8')]='vidcon',_0x255a57[_0x222b('0xde')]['margin']=_0x222b('0x153'),_0x3dfc7a[_0x222b('0x27d')][_0x222b('0x1ca')]=_0xf28b3,_0x3dfc7a[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x5a'),getById(_0x222b('0x13'))[_0x222b('0x37')](_0x255a57),_0x255a57[_0x222b('0x37')](_0x560756);var _0x5cc5b8='';_0x4b5c7f[_0x222b('0x15f')]&&(_0x5cc5b8=_0x222b('0xbc')+_0x4b5c7f[_0x222b('0x15f')]),_0x3dfc7a[_0x222b('0x239')]+=_0x222b('0x5c')+location['host']+location[_0x222b('0x291')]+_0x222b('0xcd')+_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3]['streamID']+'&scene=1&room='+_0x4b5c7f[_0x222b('0x17f')]+_0x5cc5b8+_0x222b('0x189'),_0x255a57[_0x222b('0x37')](_0x3dfc7a),_0x4b5c7f['requestRateLimit'](0x23,_0xf28b3);}else{if(_0x4b5c7f[_0x222b('0x16b')])_0x560756[_0x222b('0x10c')]=![],_0x4b5c7f[_0x222b('0x2b')]?_0x560756[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x5a'):(_0x560756[_0x222b('0xde')]['display']=_0x222b('0x142'),_0x560756[_0x222b('0x273')]=!![]),updateMixer();else{if(_0x4b5c7f[_0x222b('0x17f')]!==![]){if(_0x222b('0x2ba')==='MkMHU'){_0x4b5c7f[_0x222b('0x271')]?_0x560756[_0x222b('0x10c')]=![]:_0x560756[_0x222b('0x10c')]=!![];if(_0x4b5c7f['roomid']===''&&_0x4b5c7f[_0x222b('0x209')]){}else _0x4b5c7f[_0x222b('0x285')](0x50,_0xf28b3);updateMixer();}else{function _0x3235a5(){errorlog(_0x222b('0x2c1'));}}}else{if(_0x4b5c7f[_0x222b('0x2c2')]){var _0x534fd4={};_0x534fd4[_0x222b('0x2c2')]=parseInt(_0x4b5c7f['scale']),log(_0x534fd4),_0x4b5c7f['sendRequest'](_0x534fd4,_0xf28b3);}_0x560756[_0x222b('0xde')][_0x222b('0x2b5')]=_0x222b('0x5a'),updateMixer();}}}_0x560756['onpause']=_0x31a61d=>{if(!CtrlPressed){if(_0x222b('0x230')===_0x222b('0x5d')){function _0x54735b(){e[_0x222b('0x91')]();var _0x54ea43=document[_0x222b('0xbb')](_0x222b('0x282'));return _0x54ea43[_0x222b('0xde')][_0x222b('0x259')]=_0x222b('0x48'),_0x54ea43[_0x222b('0xde')]['top']='100px',_0x54ea43['style'][_0x222b('0x72')]=_0x222b('0x22f'),_0x54ea43[_0x222b('0xde')][_0x222b('0x223')]=_0x222b('0xa4'),_0x54ea43['style'][_0x222b('0x267')]='white',_0x54ea43[_0x222b('0xde')][_0x222b('0x25c')]=_0x222b('0x217'),_0x54ea43[_0x222b('0xde')][_0x222b('0x232')]='20',getById(_0x222b('0x2c4'))[_0x222b('0x37')](_0x54ea43),_0x54ea43[_0x222b('0x239')]='',_0x4b5c7f[_0x222b('0x148')](_0x54ea43),_0x54ea43[_0x222b('0x2c0')]=setInterval(_0x4b5c7f[_0x222b('0x148')],0xbb8,_0x54ea43),_0x54ea43['addEventListener'](_0x222b('0x113'),function(_0x19d071){clearInterval(_0x19d071[_0x222b('0xb8')][_0x222b('0x2c0')]),_0x19d071['currentTarget'][_0x222b('0xbe')][_0x222b('0xd0')](_0x19d071['currentTarget']);}),e[_0x222b('0x78')](),![];}}else errorlog(_0x222b('0x292')),_0x31a61d[_0x222b('0xb8')]['play']();}},_0x560756[_0x222b('0x17d')]('click',function(_0x174d8b){log(_0x222b('0x113'));try{if(_0x174d8b[_0x222b('0x176')]||_0x174d8b[_0x222b('0x1f3')]){_0x174d8b[_0x222b('0x91')]();var _0x3484db=_0x174d8b[_0x222b('0xb8')][_0x222b('0x27d')][_0x222b('0x1ca')];if(_0x222b('0x84')in _0x4b5c7f[_0x222b('0x2c3')][_0x3484db]){log(_0x4b5c7f[_0x222b('0x2c3')][_0x3484db][_0x222b('0x84')]);var _0x229fef=document[_0x222b('0xbb')]('div');_0x229fef[_0x222b('0xde')][_0x222b('0x259')]=_0x222b('0x48'),_0x229fef['style'][_0x222b('0xda')]=_0x222b('0x48'),_0x229fef[_0x222b('0xde')][_0x222b('0x72')]=_0x222b('0x22f'),_0x229fef[_0x222b('0xde')][_0x222b('0x223')]='200px',_0x229fef[_0x222b('0xde')][_0x222b('0x267')]='white',_0x229fef[_0x222b('0xde')]['position']='absolute',_0x229fef[_0x222b('0xde')][_0x222b('0x232')]='20',getById('main')[_0x222b('0x37')](_0x229fef),_0x229fef[_0x222b('0x239')]='',_0x4b5c7f['printStats'](_0x3484db,_0x229fef),_0x229fef[_0x222b('0x2c0')]=setInterval(_0x4b5c7f['printStats'],0xbb8,_0x3484db,_0x229fef),_0x229fef[_0x222b('0x17d')](_0x222b('0x113'),function(_0x5c5bd9){clearInterval(_0x5c5bd9[_0x222b('0xb8')][_0x222b('0x2c0')]),_0x5c5bd9['currentTarget'][_0x222b('0xbe')][_0x222b('0xd0')](_0x5c5bd9[_0x222b('0xb8')]);});}return _0x174d8b[_0x222b('0x78')](),![];}}catch(_0x1f53b9){errorlog(_0x1f53b9);}});_0x4b5c7f[_0x222b('0x198')]&&_0x560756[_0x222b('0x17d')](_0x222b('0x19'),_0x4b5c7f[_0x222b('0x12d')]);if(_0x4b5c7f[_0x222b('0x25b')]!==![]){var _0x395a96=function(){if(_0x222b('0x12a')!=='gByRp'){function _0x2d2a59(){_0x4b5c7f[_0x222b('0x2c3')][_0xf28b3][_0x222b('0x84')][_0x222b('0xe3')]=0x0;}}else{var _0x2f0687=function(_0x25016e){_0x560756[_0x222b('0x42')](_0x222b('0x18e'),_0x2f0687),_0x560756[_0x222b('0x296')]=_0x367711(_0x560756[_0x222b('0x296')],_0x4b5c7f[_0x222b('0x25b')]);};return _0x2f0687;}};_0x560756[_0x222b('0x17d')](_0x222b('0x18e'),_0x395a96());}if(_0x560756[_0x222b('0x10c')]==![]){if(_0x222b('0x1b7')!==_0x222b('0x1b7')){function _0x41bdca(){description[_0x222b('0xfd')]=CodecsHandler[_0x222b('0x77')](description[_0x222b('0xfd')],{'stereo':0x1,'maxaveragebitrate':(_0x4b5c7f[_0x222b('0x141')]||0x100)*0x400,'cbr':0x0,'maxptime':0x14});}}else{_0x560756[_0x222b('0x17d')]('click',function _0x20db92(){_0x560756['play']()[_0x222b('0x190')](_0x2c4080=>{log(_0x222b('0x1b1'));})['catch'](_0x3ce500=>{errorlog('didnt\x20autoplay\x201');});});if(_0x4b5c7f[_0x222b('0x4a')]==![]){if(!_0x4b5c7f[_0x222b('0x271')]){if(_0x560756[_0x222b('0x160')]){if(_0x222b('0xab')!==_0x222b('0xab')){function _0x1c2ab8(){errorlog(e);}}else clearInterval(_0x560756['controlTimer']);}_0x560756['controlTimer']=setTimeout(showControlBar['bind'](null,_0x560756),0xbb8);}}}}setTimeout(_0x4b5c7f[_0x222b('0x2b1')],0x3e8,_0xf28b3);}},log('setup\x20peer\x20complete');},_0x4b5c7f;}();
>>>>>>> upstream/master
